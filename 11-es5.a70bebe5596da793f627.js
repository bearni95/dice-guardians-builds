function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"1+Ht":function(e,t,n){"use strict";n.r(t),n.d(t,"BattlefieldPageModule",(function(){return K}));var o,r=n("ofXK"),i=n("3Pt+"),c=n("TEn/"),a=n("tyNb"),l=n("fXoL"),s=n("Sjme"),d=function(e){return{"can-move":e}},p=function(e){return{"can-attack":e}},g=((o=function(){function e(){_classCallCheck(this,e),this.currentVit=0}return _createClass(e,[{key:"ngOnInit",value:function(){this.currentVit=this.card.vit}},{key:"vitPercent",value:function(){return Math.floor(100*this.currentVit/this.card.vit)}},{key:"magnify",value:function(e){this.board.cardModal(e)}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=l.Fb({type:o,selectors:[["app-board-battler"]],inputs:{card:"card",board:"board",player:"player"},decls:17,vars:11,consts:[[1,"board-battler"],[1,"tooltip"],[1,"vit-txt"],[3,"value"],[1,"card-name"],[1,"edge-container"],[1,"board-edge",3,"click"],["src","assets/icons/magnify.png"],[1,"board-edge",3,"ngClass","click"],["src","assets/icons/mov-w-t.png"],["src","assets/icons/btl-w-t.png"],[1,"board-edge"],["src","assets/icons/hex-w-t.png"],[1,"illustration",3,"src"]],template:function(e,t){1&e&&(l.Ob(0,"div",0),l.Ob(1,"div",1),l.Ob(2,"div",2),l.mc(3),l.Nb(),l.Mb(4,"ion-progress-bar",3),l.Ob(5,"div",4),l.mc(6),l.Nb(),l.Ob(7,"div",5),l.Ob(8,"div",6),l.Wb("click",(function(){return t.magnify(t.card)})),l.Mb(9,"ion-img",7),l.Nb(),l.Ob(10,"div",8),l.Wb("click",(function(){return t.board.moveBg(t.player,t.card,!0)})),l.Mb(11,"ion-img",9),l.Nb(),l.Ob(12,"div",8),l.Wb("click",(function(){return t.board.battleBg(t.player,t.card,!0)})),l.Mb(13,"ion-img",10),l.Nb(),l.Ob(14,"div",11),l.Mb(15,"ion-img",12),l.Nb(),l.Nb(),l.Nb(),l.Mb(16,"ion-img",13),l.Nb()),2&e&&(l.zb(3),l.pc(" ",t.card.vitality,"/",t.card.maxVitality," "),l.zb(1),l.cc("value",t.vitPercent()),l.zb(2),l.nc(t.card.title),l.zb(4),l.bc("ngClass",l.ec(7,d,t.player.edgePool.mov>=t.card.cost&&!t.card.hasMoved)),l.zb(2),l.bc("ngClass",l.ec(9,p,t.player.edgePool.btl>=t.card.cost&&!t.card.hasBattled)),l.zb(4),l.cc("src",t.card.battlerUrl))},directives:[r.h],styles:[".board-battler[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;flex-direction:column;z-index:999;pointer-events:none}.tooltip[_ngcontent-%COMP%]{position:absolute;height:80px;background-color:rgba(0,0,0,.8);overflow:hidden;flex-direction:column;justify-content:center;text-align:center;font-size:.8em;padding:3px;top:-80px;border-radius:5px}.edge-container[_ngcontent-%COMP%], .tooltip[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.edge-container[_ngcontent-%COMP%]{height:50%;justify-content:space-around;pointer-events:all}ion-img[_ngcontent-%COMP%]{height:100%}.board-edge[_ngcontent-%COMP%]{height:100%;max-width:30%;background-color:transparent;padding:3px;border-radius:5px;pointer-events:all}.can-move[_ngcontent-%COMP%]{background-color:#fa9d1c}.can-attack[_ngcontent-%COMP%]{background-color:#f85859}.can-deffend[_ngcontent-%COMP%]{background-color:#2d3e48}.can-special[_ngcontent-%COMP%]{background-color:#f9fdfe}.card-name[_ngcontent-%COMP%]{width:100%;height:50%;display:flex;justify-content:center;align-items:center}.illustration[_ngcontent-%COMP%]{-webkit-filter:drop-shadow(0 0 5px #fff);filter:drop-shadow(0 0 5px white)}.rival-creature[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]{transform:scaleX(-1)}ion-progress-bar[_ngcontent-%COMP%]{height:12px}.vit-txt[_ngcontent-%COMP%]{position:absolute;top:2px;z-index:10;font-size:.8em}"]}),o);function b(e,t){if(1&e&&l.Mb(0,"ion-img",10),2&e){var n=l.Yb().$implicit;l.cc("src",n.src)}}function u(e,t){1&e&&l.Mb(0,"div",11)}function f(e,t){if(1&e){var n=l.Pb();l.Ob(0,"div",7),l.Wb("click",(function(){l.gc(n);var e=t.$implicit,o=l.Yb(3);return e.click(o.lib.board.players.red)})),l.lc(1,b,1,1,"ion-img",8),l.lc(2,u,1,0,"div",9),l.Nb()}if(2&e){var o=t.$implicit;l.Cb("cell ",o.classes.join(" ")," x-",o.x," y-",o.y,""),l.zb(1),l.bc("ngIf",""!==o.src),l.zb(1),l.bc("ngIf",""===o.src)}}var h=function(e){return[e]};function m(e,t){if(1&e&&(l.Ob(0,"div",5),l.lc(1,f,3,7,"div",6),l.Nb()),2&e){var n=t.$implicit,o=l.Yb().$implicit,r=l.Yb();l.Bb("y-",n,""),l.zb(1),l.bc("ngForOf",l.ec(4,h,r.lib.board.getCell(o,n)))}}function x(e,t){if(1&e&&(l.Ob(0,"div",3),l.lc(1,m,2,6,"div",4),l.Nb()),2&e){var n=t.$implicit,o=l.Yb();l.Bb("x-",n,""),l.zb(1),l.bc("ngForOf",o.lib.board.getActiveRoom().rows)}}function O(e,t){if(1&e&&l.Mb(0,"app-board-battler",12),2&e){var n=t.$implicit,o=l.Yb();l.kc("top:",n.y,"px;left:",n.x,"px;"),l.bc("card",n)("board",o.lib.board)("player",o.lib.board.players.blue)}}function C(e,t){if(1&e&&l.Mb(0,"app-board-battler",12),2&e){var n=t.$implicit,o=l.Yb();l.kc("top:",n.y,"px;left:",n.x,"px;"),l.bc("card",n)("board",o.lib.board)("player",o.lib.board.players.red)}}var v,_,y=((v=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){console.log(this.lib)}}]),e}()).\u0275fac=function(e){return new(e||v)},v.\u0275cmp=l.Fb({type:v,selectors:[["app-board"]],inputs:{lib:"lib"},decls:4,vars:3,consts:[[1,"ion-play-area"],["class","ion-play-row",3,"class",4,"ngFor","ngForOf"],[3,"card","board","player","style",4,"ngFor","ngForOf"],[1,"ion-play-row"],["class","ion-play-col",3,"class",4,"ngFor","ngForOf"],[1,"ion-play-col"],["class","ion-play-cell",3,"class","click",4,"ngFor","ngForOf"],[1,"ion-play-cell",3,"click"],[3,"src",4,"ngIf"],["class","ion-cell-borders",4,"ngIf"],[3,"src"],[1,"ion-cell-borders"],[3,"card","board","player"]],template:function(e,t){1&e&&(l.Ob(0,"div",0),l.lc(1,x,2,4,"div",1),l.lc(2,O,1,7,"app-board-battler",2),l.lc(3,C,1,7,"app-board-battler",2),l.Nb()),2&e&&(l.zb(1),l.bc("ngForOf",t.lib.board.getActiveRoom().cols),l.zb(1),l.bc("ngForOf",t.lib.board.players.blue.boardCards),l.zb(1),l.bc("ngForOf",t.lib.board.players.red.boardCards))},directives:[r.i,r.j,g],styles:[".ion-play-area[_ngcontent-%COMP%]{padding:50px 0;position:relative}.ion-play-row[_ngcontent-%COMP%]{width:100%}.ion-play-cell[_ngcontent-%COMP%], .ion-play-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.ion-play-cell[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;width:80px;height:80px;color:#fff;position:relative}.ion-cell-borders[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,100%,.4);position:absolute;top:0;left:0;width:80%;height:80%;margin:10%;border-radius:10px}.ion-play-cell[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:150%;height:150%;position:absolute;top:-3px;left:-19px}.possible-cast-tile[_ngcontent-%COMP%]{border:3px solid #fff}.possible-battle-tile[_ngcontent-%COMP%], .possible-move-tile[_ngcontent-%COMP%], .possible-unfold-tile[_ngcontent-%COMP%]{border:3px solid #dedede}.player-tile[_ngcontent-%COMP%]{background-image:url(/assets/textures/stone-orange.png);background-size:cover}.rival-tile[_ngcontent-%COMP%]{background-image:url(/assets/textures/stone-blue.png);background-size:cover}.victory-tile[_ngcontent-%COMP%]{background-image:url(/assets/textures/exit-gate.png);background-size:cover}.wall-tile[_ngcontent-%COMP%]{background-image:url(/assets/textures/wall-tile.png);background-size:cover;background-color:#545651}.neutral-tile[_ngcontent-%COMP%]{background-image:url(/assets/textures/neutral-tile.png);background-size:cover}.player-tower-hp-3[_ngcontent-%COMP%]{background-image:url(/assets/textures/orange_pillar_hp_3.png);background-size:cover;border:3px solid green;box-shadow:0 0 15px green}.player-tower-hp-2[_ngcontent-%COMP%]{background-image:url(/assets/textures/orange_pillar_hp_2.png);background-size:cover;border:3px solid #ff0;box-shadow:0 0 15px #ff0}.player-tower-hp-1[_ngcontent-%COMP%]{background-image:url(/assets/textures/orange_pillar_hp_1.png);background-size:cover;border:3px solid red;box-shadow:0 0 15px red}.player-tower-hp-0[_ngcontent-%COMP%]{background-image:url(/assets/textures/orange_pillar_hp_0.png);background-size:cover}.player-tower-hp-dead[_ngcontent-%COMP%]{background-image:url(/assets/textures/orange_pillar_hp_dead.png);background-size:cover}.rival-tower-hp-3[_ngcontent-%COMP%]{background-image:url(/assets/textures/blue_pillar_hp_3.png);border:3px solid green;box-shadow:0 0 15px green;background-size:cover}.rival-tower-hp-2[_ngcontent-%COMP%]{background-image:url(/assets/textures/blue_pillar_hp_2.png);background-size:cover;border:3px solid #ff0;box-shadow:0 0 15px #ff0}.rival-tower-hp-1[_ngcontent-%COMP%]{background-image:url(/assets/textures/blue_pillar_hp_1.png);background-size:cover;border:3px solid red;box-shadow:0 0 15px red}.rival-tower-hp-0[_ngcontent-%COMP%]{background-image:url(/assets/textures/blue_pillar_hp_0.png)}.rival-tower-hp-0[_ngcontent-%COMP%], .rival-tower-hp-dead[_ngcontent-%COMP%]{background-size:cover;border:none;box-shadow:none}.rival-tower-hp-dead[_ngcontent-%COMP%]{background-image:url(/assets/textures/blue_pillar_hp_dead.png)}.board-battlers-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}app-board-battler[_ngcontent-%COMP%]{position:absolute;pointer-events:none}.cell[_ngcontent-%COMP%]{font-size:.8em}"]}),v),M=n("mrSG"),P=((_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||_)},_.\u0275cmp=l.Fb({type:_,selectors:[["app-chip"]],inputs:{text:"text",color:"color",width:"width"},decls:2,vars:1,consts:[[1,"chip"]],template:function(e,t){1&e&&(l.Ob(0,"div",0),l.mc(1),l.Nb()),2&e&&(l.zb(1),l.oc(" ",t.text,"\n"))},styles:[".chip[_ngcontent-%COMP%]{width:100%;padding:5px 10px;background-color:#546e7a;border:1px solid #263238;border-radius:50px;text-align:center;font-size:.95em}"]}),_);function w(e,t){if(1&e){var n=l.Pb();l.Ob(0,"div",2),l.Wb("click",(function(){l.gc(n);var e=t.$implicit;return l.Yb().toggleTooltip(e.type)})),l.Ob(1,"div",3),l.Mb(2,"ion-img",4),l.Nb(),l.Ob(3,"div",5),l.mc(4),l.Nb(),l.Ob(5,"div"),l.mc(6),l.Nb(),l.Nb()}if(2&e){var o=t.$implicit,r=l.Yb();l.zb(2),l.dc("src","assets/dice/",o.type,".png"),l.zb(2),l.oc(" ",o.value," "),l.zb(1),l.Bb("energy-name ",r.getToolTipClass(o.type),""),l.zb(1),l.oc(" ",o.type.toUpperCase()," ")}}var k,z,N,F=((k=function(){function e(){_classCallCheck(this,e),this.tooltipClasses={},this.visible=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.player.energyPool.events.on("mint",(function(){e.getVisibleEnergies(e)})),this.player.energyPool.events.on("burn",(function(){e.getVisibleEnergies(e)})),this.player.energyPool.events.on("reset",(function(){e.getVisibleEnergies(e)})),e.getVisibleEnergies(e)}},{key:"sleep",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],Object(M.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){try{setTimeout((function(){e()}))}catch(n){t(n)}})));case 1:case"end":return e.stop()}}),e)})))}},{key:"getVisibleEnergies",value:function(e){return Object(M.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o,r,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sleep();case 2:for(console.log(this.player.energyPool),n=[],o=e.player.energyPool.types.values(),r=0;r<e.player.energyPool.types.size;r++)i=o.next().value,e.tooltipClasses[i]||(e.tooltipClasses[i]="hidden"),(c=e.player.energyPool.get(i))>0&&n.push({type:i,value:c});console.log(n),e.visible=n;case 7:case"end":return t.stop()}}),t,this)})))}},{key:"toggleTooltip",value:function(e){if(console.log("pre",this.tooltipClasses),"visible"===this.tooltipClasses[e])this.tooltipClasses[e]="hidden";else{for(var t=Object.keys(this.tooltipClasses),n=0;n<t.length;n++)this.tooltipClasses[t[n]]="hidden";this.tooltipClasses[e]="visible"}console.log("post",this.tooltipClasses)}},{key:"getToolTipClass",value:function(e){return this.tooltipClasses[e]}}]),e}()).\u0275fac=function(e){return new(e||k)},k.\u0275cmp=l.Fb({type:k,selectors:[["app-energy-pool"]],inputs:{player:"player"},decls:2,vars:1,consts:[[1,"energy-pool","player-energy-pool"],["class","energy-item",3,"click",4,"ngFor","ngForOf"],[1,"energy-item",3,"click"],[1,"energy-type"],[3,"src"],[1,"energy-value"]],template:function(e,t){1&e&&(l.Ob(0,"div",0),l.lc(1,w,7,6,"div",1),l.Nb()),2&e&&(l.zb(1),l.bc("ngForOf",t.visible))},directives:[r.i],styles:['.energy-pool[_ngcontent-%COMP%]{flex-wrap:wrap;width:100%;position:relative}.energy-item[_ngcontent-%COMP%], .energy-pool[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;margin:5px 0}.energy-item[_ngcontent-%COMP%]{background-color:#90a4ae;border:1px solid #eceff1;width:20%;flex-direction:column}.energy-type[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:100%;border:3px solid #eceff1;margin:5px 0;color:#eceff1;overflow:hidden}.energy-type[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .energy-type[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{border-radius:5px}.energy-value[_ngcontent-%COMP%]{font-size:2em}.energy-name[_ngcontent-%COMP%]{position:absolute;height:30px;top:-40px;background-color:#263238;display:flex;justify-content:center;align-items:center;padding:5px 10px;border-radius:30px;border:1px solid #eceff1}.energy-name.visible[_ngcontent-%COMP%]{display:flex}.energy-name.hidden[_ngcontent-%COMP%]{display:none}.energy-name[_ngcontent-%COMP%]:after{position:absolute;width:0;height:0;content:"";border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid #eceff1;bottom:-10px}']}),k),j=n("m/Q0"),Y=((N=function(){function e(){_classCallCheck(this,e),this.ranks=j.Dice.ranks,this.colors=j.Dice.colors}return _createClass(e,[{key:"ngOnInit",value:function(){this.dice.setCtx(this)}}]),e}()).\u0275fac=function(e){return new(e||N)},N.\u0275cmp=l.Fb({type:N,selectors:[["app-dice"]],inputs:{dice:"dice"},decls:8,vars:27,consts:[[1,"view"],[1,"diceFace","front"],[1,"diceFace","right"],[1,"diceFace","back"],[1,"diceFace","left"],[1,"diceFace","top"],[1,"diceFace","bottom"]],template:function(e,t){1&e&&(l.Ob(0,"div",0),l.Ob(1,"div"),l.Mb(2,"div",1),l.Mb(3,"div",2),l.Mb(4,"div",3),l.Mb(5,"div",4),l.Mb(6,"div",5),l.Mb(7,"div",6),l.Nb(),l.Nb()),2&e&&(l.zb(1),l.Bb("dice ",t.dice.rolledFaceClass,""),l.zb(1),l.kc("\n            background-color:",t.dice.color,";\n            background-image:url('",t.dice.getAttrImage(t.dice.faces[0]),"')\n          "),l.zb(1),l.kc("\n          background-color:",t.dice.color,";\n          background-image:url('",t.dice.getAttrImage(t.dice.faces[1]),"')\n          "),l.zb(1),l.kc("\n          background-color:",t.dice.color,";\n          background-image:url('",t.dice.getAttrImage(t.dice.faces[2]),"')\n          "),l.zb(1),l.kc("\n          background-color:",t.dice.color,";\n          background-image:url('",t.dice.getAttrImage(t.dice.faces[3]),"')\n          "),l.zb(1),l.kc("\n          background-color:",t.dice.color,";\n          background-image:url('",t.dice.getAttrImage(t.dice.faces[4]),"')\n          "),l.zb(1),l.kc("\n          background-color:",t.dice.color,";\n          background-image:url('",t.dice.getAttrImage(t.dice.faces[5]),"')\n          "))},styles:[".view[_ngcontent-%COMP%]{margin:25px;perspective:150px}.dice[_ngcontent-%COMP%], .view[_ngcontent-%COMP%]{width:50px;height:50px}.dice[_ngcontent-%COMP%]{position:relative;transform-style:preserve-3d;transition:transform .5s}.dice-front[_ngcontent-%COMP%]{transform:rotateY(1turn)!important}.dice-right[_ngcontent-%COMP%]{transform:rotateY(-90deg)!important}.dice-back[_ngcontent-%COMP%]{transform:rotateY(180deg)!important}.dice-left[_ngcontent-%COMP%]{transform:rotateY(90deg)!important}.dice-top[_ngcontent-%COMP%]{transform:rotateX(-90deg)!important}.dice-bottom[_ngcontent-%COMP%]{transform:rotateX(90deg)!important}.btnFront[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateY(1turn)!important}.btnRight[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateY(-90deg)!important}.btnBack[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateY(180deg)!important}.btnLeft[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateY(90deg)!important}.btnTop[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateX(-90deg)!important}.btnBottom[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateX(90deg)!important}.diceFace[_ngcontent-%COMP%]{position:absolute;width:50px;height:50px;text-align:center;line-height:50px;font-size:1.2em;border:2px solid #fff;background-size:cover}.front[_ngcontent-%COMP%]{background-color:rgba(255,0,0,.6);transform:rotateY(0deg) translateZ(25px)}.right[_ngcontent-%COMP%]{background-color:rgba(0,255,0,.6);transform:rotateY(90deg) translateZ(25px)}.back[_ngcontent-%COMP%]{background-color:rgba(255,255,0,.6);transform:rotateY(180deg) translateZ(25px)}.left[_ngcontent-%COMP%]{background-color:rgba(255,0,255,.6);transform:rotateY(-90deg) translateZ(25px)}.top[_ngcontent-%COMP%]{background-color:rgba(0,255,255,.6);transform:rotateX(90deg) translateZ(25px)}.bottom[_ngcontent-%COMP%]{transform:rotateX(-90deg) translateZ(25px)}span[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;margin:3px;background-color:#0aa;border:2px inset #dd0}.test[_ngcontent-%COMP%]:checked + .test2[_ngcontent-%COMP%]{display:block;width:80px;background-color:#0aa}input[type=radio][_ngcontent-%COMP%]{transform:scale(2);margin:10px;color:red}"]}),N),I=((z=function(){function e(){_classCallCheck(this,e),this.text="",this.width=""}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||z)},z.\u0275cmp=l.Fb({type:z,selectors:[["app-button"]],inputs:{text:"text",width:"width"},decls:5,vars:4,consts:[[1,"button-outer"],[1,"corner","left-corner"],[1,"button-inner"],[1,"corner","right-corner"]],template:function(e,t){1&e&&(l.Ob(0,"div",0),l.Mb(1,"div",1),l.Ob(2,"div",2),l.mc(3),l.Nb(),l.Mb(4,"div",3),l.Nb()),2&e&&(l.jc("width:",t.width,";"),l.zb(3),l.oc(" ",t.text," "))},styles:['.button-outer[_ngcontent-%COMP%]{width:100%;display:flex;margin:10px 0}.button-inner[_ngcontent-%COMP%]{width:100%;height:40px;background-color:#37474f;border-top:1px solid #78909c;border-bottom:1px solid #607d8b;position:relative;color:#fff;display:flex;justify-content:center;align-items:center;color:#eceff1}.corner[_ngcontent-%COMP%]{content:"";width:0;height:0;position:relative}.left-corner[_ngcontent-%COMP%]{border-top:20px solid transparent;border-right:20px solid #37474f;border-bottom:20px solid transparent}.left-corner[_ngcontent-%COMP%]:before{background-color:#78909c;top:-10px;transform:rotate(-45deg)}.left-corner[_ngcontent-%COMP%]:after, .left-corner[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-4px;width:28px;height:1px}.left-corner[_ngcontent-%COMP%]:after{background-color:#607d8b;top:9px;transform:rotate(45deg)}.right-corner[_ngcontent-%COMP%]{border-top:20px solid transparent;border-left:20px solid #37474f;border-bottom:20px solid transparent}.right-corner[_ngcontent-%COMP%]:before{background-color:#78909c;top:-10px;transform:rotate(45deg)}.right-corner[_ngcontent-%COMP%]:after, .right-corner[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-24px;width:28px;height:1px}.right-corner[_ngcontent-%COMP%]:after{background-color:#607d8b;top:9px;transform:rotate(-45deg)}']}),z);function T(e,t){if(1&e){var n=l.Pb();l.Ob(0,"div",8),l.Wb("click",(function(){l.gc(n);var e=t.$implicit;return l.Yb(2).player.pickDice(e)})),l.Mb(1,"ion-img",9),l.Nb()}if(2&e){var o=t.$implicit;l.zb(1),l.cc("src",o.getAttrImage(o.faces[0]))}}function D(e,t){if(1&e&&(l.Ob(0,"div",6),l.lc(1,T,2,1,"div",7),l.Nb()),2&e){var n=l.Yb();l.zb(1),l.bc("ngForOf",n.player.dicePool)}}function R(e,t){if(1&e){var n=l.Pb();l.Ob(0,"app-dice",10),l.Wb("click",(function(){l.gc(n);var e=t.$implicit;return l.Yb().player.unpickDice(e)})),l.Nb()}2&e&&l.bc("dice",t.$implicit)}function $(e,t){if(1&e){var n=l.Pb();l.Ob(0,"app-button",11),l.Wb("click",(function(){return l.gc(n),l.Yb().player.rollDice()})),l.Nb()}}function B(e,t){if(1&e){var n=l.Pb();l.Ob(0,"app-button",12),l.Wb("click",(function(){l.gc(n);var e=l.Yb();return e.board.endTurn(e.player)})),l.Nb()}}var X,E=((X=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"toggleDiceExplanation",value:function(){}},{key:"selectDice",value:function(e){this.player.dice.push(e)}}]),e}()).\u0275fac=function(e){return new(e||X)},X.\u0275cmp=l.Fb({type:X,selectors:[["app-dice-pool"]],inputs:{player:"player",board:"board"},decls:6,vars:4,consts:[[1,"dice-pool"],["class","player-dice-pool",4,"ngIf"],[1,"selected-dice"],[3,"dice","click",4,"ngFor","ngForOf"],["text","ROLL DICE","width","100%",3,"click",4,"ngIf"],["text","END TURN","width","100%",3,"click",4,"ngIf"],[1,"player-dice-pool"],["class","dice-model",3,"click",4,"ngFor","ngForOf"],[1,"dice-model",3,"click"],[3,"src"],[3,"dice","click"],["text","ROLL DICE","width","100%",3,"click"],["text","END TURN","width","100%",3,"click"]],template:function(e,t){1&e&&(l.Ob(0,"div",0),l.lc(1,D,2,1,"div",1),l.Ob(2,"div",2),l.lc(3,R,1,1,"app-dice",3),l.Nb(),l.Nb(),l.lc(4,$,1,0,"app-button",4),l.lc(5,B,1,0,"app-button",5)),2&e&&(l.zb(1),l.bc("ngIf",!t.board.isRival(t.player)),l.zb(2),l.bc("ngForOf",t.player.dice),l.zb(1),l.bc("ngIf",!t.board.isRival(t.player)),l.zb(1),l.bc("ngIf",!t.board.isRival(t.player)))},directives:[r.j,r.i,Y,I],styles:['.dice-info-container[_ngcontent-%COMP%]{width:100%;position:relative}.dice-info[_ngcontent-%COMP%]{position:absolute;width:100%;left:100%;padding:10px;background-color:#121212;color:#fff;flex-direction:column;border-radius:10px;border:1px solid #000}.dice-info[_ngcontent-%COMP%], .dice-info-lvl[_ngcontent-%COMP%]{display:flex}.dice-info-lvl-1[_ngcontent-%COMP%], .dice-lvl-1[_ngcontent-%COMP%]{background-color:#b32d91}.dice-info-lvl-2[_ngcontent-%COMP%], .dice-lvl-2[_ngcontent-%COMP%]{background-color:#2d4eb3}.dice-info-lvl-3[_ngcontent-%COMP%], .dice-lvl-3[_ngcontent-%COMP%]{background-color:#562e73}.dice-info-lvl-4[_ngcontent-%COMP%], .dice-info-lvl-5[_ngcontent-%COMP%], .dice-lvl-4[_ngcontent-%COMP%], .dice-lvl-5[_ngcontent-%COMP%]{background-color:#e57e3a}.dice-info-face[_ngcontent-%COMP%]{border:1px solid #fff}ion-dice-area[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;width:100%;flex-direction:column}.dice-pool[_ngcontent-%COMP%], ion-dice-pool[_ngcontent-%COMP%]{display:flex}.dice-pool[_ngcontent-%COMP%]{flex-direction:column}.dice-lvl[_ngcontent-%COMP%]{width:50px;height:50px;border:3px solid #fff;border-radius:7px;margin:3px}.selected-dice[_ngcontent-%COMP%]{height:100px}.player-dice-pool[_ngcontent-%COMP%], .selected-dice[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.player-dice-pool[_ngcontent-%COMP%]{flex-wrap:wrap;background-color:#37474f;border:1px solid #78909c;border-bottom-color:#607d8b;margin:5px 0}.dice-model[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid #fff;border-radius:5px;margin:3px;position:relative}.dice-model[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{overflow:hidden;border-radius:5px}.dice-model[_ngcontent-%COMP%]:hover:before{content:"";position:absolute;top:-240px;left:calc(50% - 75px);background-image:url(/assets/dice/rank-1-info.png);background-position:50%;background-size:cover;width:150px;height:225px;border-radius:5px;border:1px solid #78909c;opacity:.8}.dice-model[_ngcontent-%COMP%]:hover:after{content:"";position:absolute;width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid #78909c;top:-14px}']}),X);function W(e,t){if(1&e){var n=l.Pb();l.Ob(0,"div",9),l.Wb("click",(function(){l.gc(n);var e=t.index;return l.Yb().fadeOut(e)})),l.Ob(1,"p"),l.mc(2),l.Nb(),l.Nb()}if(2&e){var o=t.$implicit;l.zb(2),l.nc(o)}}var V,A=((V=function(){function e(){_classCallCheck(this,e),this.instructions=[]}return _createClass(e,[{key:"sleep",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return Object(M.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){setTimeout((function(){t()}),e)})));case 1:case"end":return t.stop()}}),t)})))}},{key:"ngOnInit",value:function(){return Object(M.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(this.player),e.t0="blue"===this.player.color,!e.t0){e.next=12;break}return e.next=5,this.sleep();case 5:return this.instructions.push("Hello and welcome to Dice Guardians! This is a very early demo so Beware of Dragons! \ud83d\udc09\ud83d\udc09\ud83d\udc09"),e.next=8,this.sleep(3e3);case 8:return this.instructions.push("For now you can see how the Board and basic UX will look like"),e.next=11,this.sleep(3e3);case 11:this.instructions.push("Feel free to explore your deck in the bottom of the screen. You can also pick and roll your dice in the bottom red corner");case 12:case"end":return e.stop()}}),e,this)})))}},{key:"fadeOut",value:function(e){this.instructions.splice(e=this.instructions.length-e-1,1)}}]),e}()).\u0275fac=function(e){return new(e||V)},V.\u0275cmp=l.Fb({type:V,selectors:[["app-profile"]],inputs:{player:"player",board:"board"},decls:10,vars:13,consts:[[1,"profile-image"],[1,"profile-img-src","confident"],[1,"instructions-container"],["class","spoken-words",3,"click",4,"ngFor","ngForOf"],[1,"user-chips"],["width","50%","color","neutral",3,"text"],["width","50%",3,"color","text"],[3,"player"],[3,"board","player"],[1,"spoken-words",3,"click"]],template:function(e,t){1&e&&(l.Ob(0,"div"),l.Ob(1,"div",0),l.Mb(2,"div",1),l.Nb(),l.Ob(3,"div",2),l.lc(4,W,3,1,"div",3),l.Nb(),l.Ob(5,"div",4),l.Mb(6,"app-chip",5),l.Mb(7,"app-chip",6),l.Nb(),l.Mb(8,"app-energy-pool",7),l.Mb(9,"app-dice-pool",8),l.Nb()),2&e&&(l.Bb("profile-container profile-color-",t.player.color,""),l.zb(2),l.jc("background-image: url(",t.player.avatar.src,")"),l.zb(2),l.bc("ngForOf",t.instructions.reverse()),l.zb(2),l.bc("text",t.player.name),l.zb(1),l.dc("text","",t.player.score," points"),l.bc("color",t.player.color),l.zb(1),l.bc("player",t.player),l.zb(1),l.bc("board",t.board)("player",t.player))},directives:[r.i,P,F,E],styles:['.score[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}ion-chip[_ngcontent-%COMP%]{width:45%}ion-label[_ngcontent-%COMP%]{width:100%;text-align:center}.profile-image[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:100%;overflow:hidden;background-color:#fff;border:5px solid #fff;margin-bottom:10px}.profile-img-src[_ngcontent-%COMP%]{background-size:480px 240px;width:100%;height:100%}.profile-img-src.neutral[_ngcontent-%COMP%]{background-position:0 0}.profile-img-src.smile[_ngcontent-%COMP%]{background-position:120px 0}.profile-img-src.confident[_ngcontent-%COMP%]{background-position:240px 0}.profile-img-src.happy[_ngcontent-%COMP%]{background-position:360px 0}.profile-img-src.question[_ngcontent-%COMP%]{background-position:0 120px}.profile-img-src.pissed[_ngcontent-%COMP%]{background-position:120px 120px}.profile-img-src.sad[_ngcontent-%COMP%]{background-position:240px 120px}.profile-img-src.defeated[_ngcontent-%COMP%]{background-position:360px 120px}.profile-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;flex-direction:column;width:280px}.instructions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;right:-525px;top:25px;width:500px}.spoken-words[_ngcontent-%COMP%]{background-color:#fff;color:#000;padding:10px 20px;border-radius:5px;border:1px solid #000;box-shadow:0 0 10px #000;margin:10px 0;transition:.3s}.spoken-words[_ngcontent-%COMP%]:hover{background-color:#cfd8dc}.spoken-words[_ngcontent-%COMP%]:first-child:after{content:"";width:0;height:0;border-top:10px solid transparent;border-right:10px solid #fff;border-bottom:10px solid transparent;position:absolute;top:25px;left:-9px}.profile-color-blue[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{transform:scaleX(-1);border:3px solid #3880ff}.profile-color-blue[_ngcontent-%COMP%]   .player-dice-pool[_ngcontent-%COMP%]{display:none}.profile-color-red[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{border:3px solid #eb445a}app-dice-pool[_ngcontent-%COMP%], app-energy-pool[_ngcontent-%COMP%]{width:100%}.user-chips[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;margin:5px;width:100%}app-chip[_ngcontent-%COMP%]{width:40%}']}),V),L=n("lXt9");function Z(e,t){if(1&e&&l.Mb(0,"app-card",9),2&e){var n=t.$implicit,o=l.Yb();l.bc("card",n)("board",o.lib.board)("player",o.lib.board.players.red)("width",200)("showMagnify",!0)}}var U,J,G,H=[{path:"",component:(U=function(){function e(t){_classCallCheck(this,e),this.leftToggleName="arrow-back-outline",this.leftDrawerClass="shown",this.bottomToggleName="arrow-down-outline",this.bottomDrawerClass="shown",this.lib=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"toggle",value:function(e){switch(e){case"left":"arrow-forward-outline"===this.leftToggleName?(this.leftToggleName="arrow-back-outline",this.leftDrawerClass="shown"):(this.leftToggleName="arrow-forward-outline",this.leftDrawerClass="hidden");break;case"bottom":"arrow-up-outline"===this.bottomToggleName?(this.bottomToggleName="arrow-down-outline",this.bottomDrawerClass="shown"):(this.bottomToggleName="arrow-up-outline",this.bottomDrawerClass="hidden");break;default:throw new Error("Unrecognized toggle target `"+e+"`")}}}]),e}(),U.\u0275fac=function(e){return new(e||U)(l.Lb(s.a))},U.\u0275cmp=l.Fb({type:U,selectors:[["app-battlefield"]],decls:14,vars:14,consts:[[1,"drawer","central-drawer"],[3,"lib"],[1,"user-card","user-card-blue"],[3,"board","player"],[1,"user-card","user-card-red"],[1,"bottom-drawer","drawer"],[3,"card","board","player","width","showMagnify",4,"ngFor","ngForOf"],[1,"close-card-modal",3,"click"],[3,"card","width"],[3,"card","board","player","width","showMagnify"]],template:function(e,t){1&e&&(l.Ob(0,"ion-content"),l.Ob(1,"div"),l.Ob(2,"div",0),l.Mb(3,"app-board",1),l.Nb(),l.Nb(),l.Ob(4,"div",2),l.Mb(5,"app-profile",3),l.Nb(),l.Ob(6,"div",4),l.Mb(7,"app-profile",3),l.Nb(),l.Ob(8,"div",5),l.lc(9,Z,1,5,"app-card",6),l.Nb(),l.Ob(10,"div"),l.Ob(11,"div",7),l.Wb("click",(function(){return t.lib.board.cardModal(t.lib.board.activeCard)})),l.mc(12,"x"),l.Nb(),l.Mb(13,"app-card",8),l.Nb(),l.Nb()),2&e&&(l.zb(1),l.Bb("main ",t.lib.board.cursorClass,""),l.zb(2),l.bc("lib",t.lib),l.zb(2),l.bc("board",t.lib.board)("player",t.lib.board.players.blue),l.zb(2),l.bc("board",t.lib.board)("player",t.lib.board.players.red),l.zb(2),l.bc("ngForOf",t.lib.board.players.red.deckCards),l.zb(1),l.Bb("card-view-modal ",t.lib.board.cardModalClasses.join(" "),""),l.zb(3),l.bc("card",t.lib.board.activeCard)("width",600))},directives:[c.c,y,A,r.i,L.a],styles:[".left-drawer[_ngcontent-%COMP%]{left:0;top:0;width:300px;height:100vh;background-color:rgba(0,0,0,.8);padding:10px;z-index:5;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}.left-drawer.shown[_ngcontent-%COMP%]{transform:translateX(0)}.left-drawer.hidden[_ngcontent-%COMP%]{transform:translateX(-300px)}.toggle-button[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;background-color:#000;border:3px solid #fff;display:flex;justify-content:center;align-items:center;font-size:25px;border-radius:100%}.left-drawer[_ngcontent-%COMP%]   .toggle-button[_ngcontent-%COMP%]{right:-40px;top:40px;top:0}.bottom-drawer[_ngcontent-%COMP%]   .toggle-button[_ngcontent-%COMP%]{top:5px;left:calc(50vw - 15px);z-index:9999}.central-drawer[_ngcontent-%COMP%]{width:100vw}.central-drawer[_ngcontent-%COMP%], .right-drawer[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center}.right-drawer[_ngcontent-%COMP%]{width:500px;top:0;right:0;align-items:center;flex-wrap:wrap;background-color:#000;overflow-y:scroll}.bottom-drawer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;bottom:-200px;width:100vw;left:0;z-index:9999}.bottom-drawer.shown[_ngcontent-%COMP%]{transform:translateY(0)}.bottom-drawer.hidden[_ngcontent-%COMP%]{transform:translateY(300px)}.card-view-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;transform:translateX(0) translateY(0);width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;background-color:rgba(0,0,0,.6);transition:.3s;opacity:1;visibility:visible;z-index:9999}.card-view-modal.hidden[_ngcontent-%COMP%]{opacity:0;visibility:0;transform:translateY(100vh)}.close-card-modal[_ngcontent-%COMP%]{width:50px;height:50px;font-size:2em;justify-content:center;text-align:center;border-radius:100%;background-color:#000;border:5px solid #fff;color:#fff;position:absolute;top:50px;right:50px}.close-card-modal[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]{display:flex;align-items:center}.main[_ngcontent-%COMP%]{position:fixed;width:100vw;height:100vh;top:0;left:0;justify-content:space-between}*[_ngcontent-%COMP%], .main.cursor-0[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor.png),auto}.main.cursor-1[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-1.png),auto}.main.cursor-2[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-2.png),auto}.main.cursor-3[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-3.png),auto}.main.cursor-4[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-4.png),auto}.main.cursor-5[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-5.png),auto}.main.cursor-6[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-6.png),auto}.main.cursor-7[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-7.png),auto}.main.cursor-8[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-8.png),auto}.main.cursor-9[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-9.png),auto}.main.cursor-plus-9[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-plus-9.png),auto}.user-card[_ngcontent-%COMP%]{z-index:999;position:fixed;background-color:rgba(38,50,56,.95);border:1px solid #78909c;border-bottom-color:#607d8b;padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center}.user-card-blue[_ngcontent-%COMP%]{top:10px;left:10px}.user-card-red[_ngcontent-%COMP%]{bottom:120px;right:10px}app-profile[_ngcontent-%COMP%]{width:100%}app-card[_ngcontent-%COMP%]{transition:.3s;margin-left:-50px}.bottom-drawer[_ngcontent-%COMP%]   app-card[_ngcontent-%COMP%]:hover{margin-top:-360px}"]}),U)}],S=((J=function e(){_classCallCheck(this,e)}).\u0275mod=l.Jb({type:J}),J.\u0275inj=l.Ib({factory:function(e){return new(e||J)},imports:[[a.i.forChild(H)],a.i]}),J),q=n("j1ZV"),K=((G=function e(){_classCallCheck(this,e)}).\u0275mod=l.Jb({type:G}),G.\u0275inj=l.Ib({factory:function(e){return new(e||G)},imports:[[r.b,i.a,c.h,S,q.a]]}),G)}}]);