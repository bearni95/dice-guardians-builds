{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///dice-guardians-module/dist/index.js","webpack:///dice-guardians-module/dist/lib/assets.js","webpack:///dice-guardians-module/dist/lib/audio.js","webpack:///dice-guardians-module/dist/lib/board.js","webpack:///dice-guardians-module/dist/lib/card.js","webpack:///dice-guardians-module/dist/lib/cell.js","webpack:///dice-guardians-module/dist/lib/demo.js","webpack:///dice-guardians-module/dist/lib/dice.js","webpack:///dice-guardians-module/dist/lib/energy-pool.js","webpack:///dice-guardians-module/dist/lib/events.js","webpack:///dice-guardians-module/dist/lib/map.js","webpack:///dice-guardians-module/dist/lib/player.js","webpack:///dice-guardians-module/dist/lib/room-collection.js","webpack:///dice-guardians-module/dist/lib/room.js","webpack:///dice-guardians-module/dist/lib/storage.js","webpack:///dice-guardians-module/dist/lib/tutorial.js","webpack:///dice-guardians-module/dist/lib/user.js","webpack:///node_modules/@ionic/core/dist/esm lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","webpack:///src/app/app.component.html","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.scss","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/app/services/dice-guardians-module.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts","webpack:///crypto (ignored)"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","Object","defineProperty","value","user_1","enumerable","get","User","board_1","Cell","Board","map_1","Map","player_1","Player","dice_1","Dice","storage_1","Storage","demo_1","DEFAULT_RED","DEFAULT_BLUE","cardCollection","room_1","Room","room_collection_1","Room0","Room1","assets_1","ASSETS","tutorial_1","Tutorial","audio_1","DGAudio","AssetsManager","config","key","split","current","i","length","backgrounds","battlers","circles","dice","facesets","fonts","icons","mapmaking","textures","spritesheets","src","audioClass","parts","ext","type","loadConfig","audio","document","createElement","audioId","Date","now","setAttribute","source","appendChild","body","querySelector","_audio","console","log","volume","overall","onended","parentNode","removeChild","play","warn","localStorage","getItem","music","effect","setItem","JSON","stringify","parse","__awaiter","thisArg","_arguments","P","generator","adopt","reject","fulfilled","step","next","rejected","result","done","apply","card_1","events_1","cell_1","ctx","rooms","players","isTutorial","classes","PLAYER_TILE","PLAYER_CHAMPION","RIVAL_TILE","NEUTRAL_TILE","RIVAL_CHAMPION","WALL","VICTORY","PLAYER_TOWER","RIVAL_TOWER","cardModalClasses","cursorClass","roomNonce","splashDisplay","turnNonce","pendingCard","Card","events","EVENTS","lastRoomNonce","visitedRoomNonces","deckContainerClass","self","tutorial","red","blue","on","payload","freeCast","card","cell","setCtx","paintMap","activeCard","deckCards","listeners","indexOf","splice","push","setTimeout","getActiveRoom","cells","attachDom","x","y","getCell","_cells","top","bottom","left","right","hasClass","player","initialCells","ms","_class","rmClass","dom","classList","remove","canBeCasted","energyPool","possibleCells","getPossibleFirstCstCells","possibles","getAvailableCstNearby","addClass","canBeClicked","isCastPending","emit","sound","playerTile","isRival","getCellsByClass","name","clearClass","el","offsetLeft","scrollLeft","offsetTop","scrollTop","offset","getOffset","idx","boardCards","boardStats","mov","btl","vit","getCells","isUnfoldPending","unfoldCounter","hasCasted","j","canCast","unfold","clearClickAreas","tile","getAvailableUnfoldNearby","counter","cards","start","hasMoved","isMovePending","moveCounter","getAllBoardCards","getAvailableMovNearby","moveBg","isBattlePending","getAvailableBtlNearby","currentCard","hasBattled","targetCard","sourceCard","endTurn","startTurn","stc","activeRoom","costs","cost","attr","burn","nextRoom","sleep","initialTile","teleport","costToCircles","attributesToBackgrounds","uuid_1","js_sha3_1","light","dark","aether","earth","air","water","fire","wood","metal","electric","ice","title","attribute","abilities","clans","owner","EMPTY_PLAYER","rng","canMove","canBattle","activeAbility","showAbility","showMenu","backgroundUrl","battlerUrl","getBattlerUrl","circleUrl","getCircleUrl","keccak256","v4","coordinates","ability","Number","lowercase","toLowerCase","url","join","totalCost","getNumericTotalCost","out","Math","round","opts","domReadyQueue","domReadyQueueProcessing","domPrefix","newClass","contains","state","processDomReadyQueue","board","moveFn","castFn","item","fn","params","unshift","sprite","CLANS","warrior","iconUrl","swordAdept","armorAdept","royalGuard","archer","forestGuard","ABILITIES","decast2","text","decast4","decast6","doubleStrike","midRange","fly","mortalTouch","mortalStrike","forestForce","cannotBattle","cannotMove","doubleMove","defender","layEgg","energyEconomy","reRollOne","creatureHealer","woodToken","farSight","airToken","wingUp","lightToken","lightTouch","changeOfHeart","darkToken","darkTouch","poisonGas","voidToken","voidTouch","darkHole","aetherToken","aetherTouch","fluidDivision","infestation","color","deck","__importDefault","mod","__esModule","random_1","rank","rolls","rankedInfo","faces","ranks","rolledFaceClass","limit","count","setInterval","clearInterval","roll","face","multiplier","crest","substr","parseInt","colors","EnergyPool","neutral","types","Set","add","amount","isNaN","parseFloat","toString","isInteger","has","isPositiveInt","pad","num","size","s","EventDispatcher","EventEmitter","keyExists","tiles","cols","rows","energy_pool_1","dicePool","score","canRoll","canEndTurn","avatar","activeMessage","setOwner","position","abs","pooledDice","toast","promises","all","res","message","typeToEmoji","energy","getEnergy","getValue","image","getCrestImage","mint","cpuTurn","pickDice","rollDice","creature","width","height","tileSet","createRows","createColumns","createCells","setCellsDoms","visited","setTile","found","m","seen","items","querySelectorAll","namespaces","data","ls","read","toUpperCase","namespace","parseKey","json","write","emitNonce","emits","target","displayButton","forward","ts","prev","username","email","password","voucher","http","post","map","webpackAsyncContext","__webpack_require__","o","ids","slice","webpackAsyncContextKeys","routes","path","loadChildren","HomePageModule","redirectTo","pathMatch","LoungePageModule","BattlefieldPageModule","CardViewerPageModule","AppRoutingModule","imports","forRoot","preloadingStrategy","AppComponent","platform","splashScreen","statusBar","initializeApp","ready","styleDefault","hide","selector","template","AppModule","declarations","entryComponents","providers","provide","useClass","bootstrap","DiceGuardiansModuleService","httpClient","animationCtrl","providedIn","environment","production","bootstrapModule","err"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","\"use strict\";\n//export { TmuxController } from './controllers/tmux'\n//export { DiceTmux } from './controllers/dice-tmux'\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//export { CardModel } from './models/card-model'\n//export class TmuxController\nvar user_1 = require(\"./lib/user\");\nObject.defineProperty(exports, \"User\", { enumerable: true, get: function () { return user_1.User; } });\nvar board_1 = require(\"./lib/board\");\nObject.defineProperty(exports, \"Cell\", { enumerable: true, get: function () { return board_1.Cell; } });\nObject.defineProperty(exports, \"Board\", { enumerable: true, get: function () { return board_1.Board; } });\nvar map_1 = require(\"./lib/map\");\nObject.defineProperty(exports, \"Map\", { enumerable: true, get: function () { return map_1.Map; } });\nvar player_1 = require(\"./lib/player\");\nObject.defineProperty(exports, \"Player\", { enumerable: true, get: function () { return player_1.Player; } });\nvar dice_1 = require(\"./lib/dice\");\nObject.defineProperty(exports, \"Dice\", { enumerable: true, get: function () { return dice_1.Dice; } });\nvar storage_1 = require(\"./lib/storage\");\nObject.defineProperty(exports, \"Storage\", { enumerable: true, get: function () { return storage_1.Storage; } });\nvar demo_1 = require(\"./lib/demo\");\nObject.defineProperty(exports, \"DEFAULT_RED\", { enumerable: true, get: function () { return demo_1.DEFAULT_RED; } });\nObject.defineProperty(exports, \"DEFAULT_BLUE\", { enumerable: true, get: function () { return demo_1.DEFAULT_BLUE; } });\nObject.defineProperty(exports, \"cardCollection\", { enumerable: true, get: function () { return demo_1.cardCollection; } });\nvar room_1 = require(\"./lib/room\");\nObject.defineProperty(exports, \"Room\", { enumerable: true, get: function () { return room_1.Room; } });\nvar room_collection_1 = require(\"./lib/room-collection\");\nObject.defineProperty(exports, \"Room0\", { enumerable: true, get: function () { return room_collection_1.Room0; } });\nObject.defineProperty(exports, \"Room1\", { enumerable: true, get: function () { return room_collection_1.Room1; } });\nvar assets_1 = require(\"./lib/assets\");\nObject.defineProperty(exports, \"ASSETS\", { enumerable: true, get: function () { return assets_1.ASSETS; } });\nvar tutorial_1 = require(\"./lib/tutorial\");\nObject.defineProperty(exports, \"Tutorial\", { enumerable: true, get: function () { return tutorial_1.Tutorial; } });\nvar audio_1 = require(\"./lib/audio\");\nObject.defineProperty(exports, \"DGAudio\", { enumerable: true, get: function () { return audio_1.DGAudio; } });\n/*\nexport { Actor, Stanza } from './lib/index'\nexport {\n  NameService\n} from './outfits/index'*/\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ASSETS = void 0;\nclass AssetsManager {\n    constructor(config) {\n        this.config = config;\n    }\n    get(key) {\n        /*if (!this.config[key]){\n          throw new Error('No assets found for key `ASSETS.' + key + '`')\n        }*/\n        const keys = key.split('.');\n        let current = null;\n        for (let i = 0; i < keys.length; i++) {\n            if (!current) {\n                current = this.config[keys[i]];\n            }\n            else {\n                if (!current[keys[i]]) {\n                    throw new Error('No assets found for key `ASSETS.' + key + '`');\n                }\n                current = current[keys[i]];\n            }\n        }\n        if (!current) {\n            throw new Error('No assets found for key `ASSETS.' + key + '`');\n        }\n        return current;\n    }\n}\nconst ASSETS = new AssetsManager({\n    backgrounds: {},\n    battlers: {},\n    circles: {},\n    dice: {},\n    facesets: {},\n    fonts: {},\n    icons: {},\n    mapmaking: {\n        'ground': 'assets/mapmaking/ground-purple.png',\n        'exit': 'assets/mapmaking/exit.png',\n        'wall': 'assets/mapmaking/wall.png'\n    },\n    textures: {},\n    spritesheets: {\n        'mountain': 'assets/spritesheets/004-Mountain01.png',\n        'floor-paths': 'assets/spritesheets/floor-paths.png'\n    }\n});\nexports.ASSETS = ASSETS;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DGAudio = void 0;\nclass DGAudio {\n    constructor(src, audioClass = 'effect') {\n        this.src = src;\n        this.class = audioClass;\n        const parts = src.split('.');\n        const ext = parts[parts.length - 1];\n        this.type = 'audio/' + ext;\n        this.loadConfig();\n    }\n    play() {\n        try {\n            const audio = document.createElement('audio');\n            const audioId = 'audio-' + Date.now();\n            audio.setAttribute('id', audioId);\n            const source = document.createElement('source');\n            source.setAttribute('src', this.src);\n            source.setAttribute('type', this.type);\n            audio.appendChild(source);\n            const body = document.querySelector('body');\n            body.appendChild(audio);\n            const _audio = document.querySelector('#' + audioId);\n            if (!audio) {\n                return;\n            }\n            if (!audio['volume']) {\n                return;\n            }\n            console.log('_audio', _audio);\n            console.log('volume', this.class, this.src, this.config.volume[this.class]);\n            _audio.volume = this.config.volume.overall * this.config.volume[this.class];\n            _audio.onended = (() => {\n                _audio.parentNode.removeChild(_audio);\n            });\n            _audio.play().catch(console.warn);\n        }\n        catch (e) {\n            console.warn(e);\n        }\n    }\n    loadConfig() {\n        let config = localStorage.getItem('audio-config');\n        if (!config) {\n            config = {\n                volume: {\n                    overall: 1,\n                    music: 0.6,\n                    effect: 0.8\n                }\n            };\n            localStorage.setItem('audio-config', JSON.stringify(config));\n        }\n        else {\n            config = JSON.parse(config);\n        }\n        this.config = config;\n    }\n}\nexports.DGAudio = DGAudio;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Board = void 0;\nconst card_1 = require(\"./card\");\nconst events_1 = require(\"./events\");\nconst tutorial_1 = require(\"./tutorial\");\nconst audio_1 = require(\"./audio\");\nvar cell_1 = require(\"./cell\");\nObject.defineProperty(exports, \"Cell\", { enumerable: true, get: function () { return cell_1.Cell; } });\nclass Board {\n    constructor(ctx, rooms, \n    //cols: number,\n    //rows: number,\n    players, isTutorial) {\n        this.classes = {\n            PLAYER_TILE: 'player-tile',\n            PLAYER_CHAMPION: 'player-champion',\n            RIVAL_TILE: 'rival-tile',\n            NEUTRAL_TILE: 'neutral-tile',\n            RIVAL_CHAMPION: 'rival-champion',\n            WALL: 'wall-tile',\n            VICTORY: 'victory-tile',\n            PLAYER_TOWER: 'player-tower-hp-3',\n            RIVAL_TOWER: 'rival-tower-hp-3'\n        };\n        this.cardModalClasses = ['hidden'];\n        this.cursorClass = '';\n        this.roomNonce = 0;\n        this.players = {};\n        this.splashDisplay = 'flex';\n        this.turnNonce = 0;\n        this.pendingCard = new card_1.Card('', 'neutral', 0, 0, 0, ['neutral'], [], []);\n        this.events = events_1.EVENTS;\n        this.lastRoomNonce = -1;\n        this.visitedRoomNonces = [];\n        this.deckContainerClass = 'minimized';\n        const self = this;\n        this.ctx = ctx;\n        if (isTutorial) {\n            this.tutorial = new tutorial_1.Tutorial(players.red, players.blue);\n        }\n        this.events.on('freeCast', (payload) => {\n            self.freeCast(payload.card, payload.cell);\n        });\n        for (let i = 0; i < rooms.length; i++) {\n            rooms[i].setCtx(this.ctx);\n            rooms[i].paintMap();\n        }\n        this.rooms = rooms;\n        this.players.red = players.red;\n        this.players.blue = players.blue;\n        this.activeCard = this.players.red.deckCards[0];\n        //this.colors = ['red', 'blue']\n        //this.players = {}\n        /*\n            for (let i = 0; i < this.colors.length; i++) {\n              this.players[this.colors[i]] = opts.players[this.colors[i]]\n            }*/\n        this.listeners();\n    }\n    cardModal(card) {\n        this.activeCard = card;\n        if (this.cardModalClasses.indexOf('hidden') >= 0) {\n            this.cardModalClasses.splice(this.cardModalClasses.indexOf('hidden'), 1);\n        }\n        else {\n            this.cardModalClasses.push('hidden');\n        }\n    }\n    setCellsDoms() {\n        setTimeout(() => {\n            const keys = Object.keys(this.getActiveRoom().cells);\n            for (let i = 0; i < keys.length; i++) {\n                this.getActiveRoom().cells[keys[i]].attachDom();\n            }\n        }, 500);\n    }\n    getCell(x, y) {\n        return this.getActiveRoom().getCell(x, y);\n    }\n    getAvailableBtlNearby(x, y) {\n        const _cells = [];\n        const cells = [];\n        const top = this.getCell(x, y - 1);\n        const bottom = this.getCell(x, y + 1);\n        const left = this.getCell(x - 1, y);\n        const right = this.getCell(x + 1, y);\n        if (top) {\n            _cells.push(top);\n        }\n        if (bottom) {\n            _cells.push(bottom);\n        }\n        if (left) {\n            _cells.push(left);\n        }\n        if (right) {\n            _cells.push(right);\n        }\n        for (let i = 0; i < _cells.length; i++) {\n            if (_cells[i].hasClass('creature')\n            //_cells[i].classes.indexOf('not-map') < 0\n            //_cells[i].classes.indexOf('tile') >= 0\n            /*\n            && (\n              _cells[i].classes.indexOf('wall-tile') < 0 ||\n              _cells[i].classes.indexOf('available') >= 0\n            )*/\n            ) {\n                cells.push(_cells[i]);\n            }\n        }\n        return cells;\n    }\n    getAvailableMovNearby(x, y) {\n        const _cells = [];\n        const cells = [];\n        const top = this.getCell(x, y - 1);\n        const bottom = this.getCell(x, y + 1);\n        const left = this.getCell(x - 1, y);\n        const right = this.getCell(x + 1, y);\n        if (top) {\n            _cells.push(top);\n        }\n        if (bottom) {\n            _cells.push(bottom);\n        }\n        if (left) {\n            _cells.push(left);\n        }\n        if (right) {\n            _cells.push(right);\n        }\n        for (let i = 0; i < _cells.length; i++) {\n            if (_cells[i].hasClass('floor') &&\n                !_cells[i].hasClass('wall') &&\n                !_cells[i].hasClass('creature')\n            //_cells[i].classes.indexOf('not-map') < 0\n            //_cells[i].classes.indexOf('tile') >= 0\n            /*\n            && (\n              _cells[i].classes.indexOf('wall-tile') < 0 ||\n              _cells[i].classes.indexOf('available') >= 0\n            )*/\n            ) {\n                cells.push(_cells[i]);\n            }\n        }\n        return cells;\n    }\n    getAvailableUnfoldNearby(cell) {\n        const _cells = [];\n        const cells = [];\n        const top = this.getCell(cell.x, cell.y - 1);\n        const bottom = this.getCell(cell.x, cell.y + 1);\n        const left = this.getCell(cell.x - 1, cell.y);\n        const right = this.getCell(cell.x + 1, cell.y);\n        if (top) {\n            _cells.push(top);\n        }\n        if (bottom) {\n            _cells.push(bottom);\n        }\n        if (left) {\n            _cells.push(left);\n        }\n        if (right) {\n            _cells.push(right);\n        }\n        for (let i = 0; i < _cells.length; i++) {\n            if (!_cells[i].hasClass('floor') &&\n                !_cells[i].hasClass('wall') &&\n                !_cells[i].hasClass('creature')\n            /*\n            _cells[i].classes.indexOf('tile') < 0 ||\n            _cells[i].classes.indexOf('available') >= 0\n            */\n            ) {\n                cells.push(_cells[i]);\n            }\n        }\n        return cells;\n    }\n    getAvailableCstNearby(player, initialCells) {\n        const _cells = [];\n        const cells = [];\n        for (let i = 0; i < initialCells.length; i++) {\n            const cell = initialCells[i];\n            const top = this.getCell(cell.x, cell.y - 1);\n            const bottom = this.getCell(cell.x, cell.y + 1);\n            const left = this.getCell(cell.x - 1, cell.y);\n            const right = this.getCell(cell.x + 1, cell.y);\n            if (top) {\n                _cells.push(top);\n            }\n            if (bottom) {\n                _cells.push(bottom);\n            }\n            if (left) {\n                _cells.push(left);\n            }\n            if (right) {\n                _cells.push(right);\n            }\n        }\n        console.log('initialCells', initialCells);\n        console.log('_cells', _cells);\n        for (let i = 0; i < _cells.length; i++) {\n            if (!_cells[i].hasClass('floor') &&\n                !_cells[i].hasClass('wall') &&\n                !_cells[i].hasClass('creature')\n            /*\n            _cells[i].classes.indexOf('tile') < 0 ||\n            _cells[i].classes.indexOf('available') >= 0\n            */\n            ) {\n                cells.push(_cells[i]);\n            }\n        }\n        console.log('cells', cells);\n        return cells;\n    }\n    sleep(ms = 100) {\n        return new Promise((resolve, reject) => {\n            setTimeout(() => {\n                resolve();\n            }, ms);\n        });\n    }\n    getCellsByClass(_class) {\n        const cells = [];\n        const keys = Object.keys(this.getActiveRoom().cells);\n        for (let i = 0; i < keys.length; i++) {\n            const cell = this.getActiveRoom().cells[keys[i]];\n            if (cell.hasClass(_class)) {\n                cells.push(cell);\n            }\n        }\n        return cells;\n    }\n    removeClassFromCells(_class) {\n        const cells = [];\n        const keys = Object.keys(this.getActiveRoom().cells);\n        for (let i = 0; i < keys.length; i++) {\n            const cell = this.getActiveRoom().cells[keys[i]];\n            if (cell.hasClass(_class) >= 0) {\n                cell.rmClass(_class);\n                cell.dom.classList.remove(_class);\n            }\n        }\n        //await this.sleep()\n        //return cells\n    }\n    castBg(player, card) {\n        if (card.canBeCasted(player.energyPool)) {\n            const possibleCells = this.getPossibleFirstCstCells(player);\n            if (possibleCells.length > 0) {\n                const possibles = this.getAvailableCstNearby(player, possibleCells);\n                for (let i = 0; i < possibles.length; i++) {\n                    possibles[i].addClass('possible-cast-tile');\n                    possibles[i].canBeClicked = true;\n                }\n                this.deckContainerClass = 'minimized';\n                player.isCastPending = true;\n                this.pendingCard = card;\n                this.events.emit('castBg', { player, card });\n                const sound = new audio_1.DGAudio('assets/audio/castBg.wav');\n                sound.play();\n            }\n            else {\n                // notify?\n            }\n        }\n    }\n    getPossibleFirstCstCells(player) {\n        console.log('cst', player);\n        let playerTile = 'player-tile';\n        if (this.isRival(player)) {\n            playerTile = 'rival-tile';\n        }\n        const _cells = this.getCellsByClass(playerTile);\n        const cells = [];\n        console.log('cst', _cells);\n        for (let i = 0; i < _cells.length; i++) {\n            console.log('cst', _cells[i].classes);\n            if (!_cells[i].hasClass('creature')) {\n                cells.push(_cells[i]);\n            }\n        }\n        console.log('cst', cells);\n        return cells;\n    }\n    /*\n      getAvailableNearbyPlayer(player:Player){\n        let _class = ''\n        if (player.name === this.players.red.name){\n          // player\n          _class = 'player-tile'\n        } else {\n          // rival\n          _class = 'rival-tile'\n    \n        }\n    \n        const nearby = []\n        const cells = this.getActiveRoom().getCells()\n        const keys = Object.keys(cells)\n    \n        for (let i = 0; i < keys.length; i++) {\n          const parts = keys[i].split(':')\n          const x = Number(parts[0])\n          const y = Number(parts[1])\n    \n          const cell = this.getCell(x, y)\n    \n          const classes = cell.classes\n    \n          if (classes.indexOf(_class) >= 0){\n            const _nearby = this.getAvailableCstNearby(cell.x, cell.y)\n    \n            for (let j = 0; j < _nearby.length; j++){\n              _nearby[j].addClass('possible-cast-tile')\n              _nearby[j].canBeClicked = true\n              nearby.push(_nearby[j])\n            }\n          }\n        }\n    \n    \n    \n    \n      }*/\n    isRival(player) {\n        if (player.name === this.players.red.name) {\n            return false;\n        }\n        return true;\n    }\n    clearClass(_class) {\n        this.getActiveRoom().clearClass(_class);\n    }\n    getOffset(card, cell) {\n        if (!cell.dom) {\n            cell.attachDom();\n        }\n        const el = cell.dom;\n        if (!el) {\n            return { x: 0, y: 0 };\n        }\n        let x = 0;\n        let y = 0;\n        x = el.offsetLeft - el.scrollLeft;\n        y = el.offsetTop - el.scrollTop;\n        x = x - 18 + card.offset.x;\n        y = y - 43 + card.offset.y;\n        return { y, x };\n    }\n    teleport(card, cell) {\n        // like a free moveBg/moveFn\n        const offset = this.getOffset(card, cell);\n        //card.setOwner(isPlayer)\n        card.x = offset.x;\n        card.y = offset.y;\n        card.cell = cell;\n    }\n    freeCast(card, cell) {\n        //console.log('freeCast', card, cell)\n        if (!this.players.blue) {\n            return;\n        }\n        let idx = -1;\n        for (let i = 0; i < this.players.blue.boardCards.length; i++) {\n            if (this.players.blue.boardCards[i].id === card.id) {\n                idx = i;\n            }\n        }\n        if (idx >= 0) {\n            this.players.blue.boardCards.splice(idx, 1);\n        }\n        const offset = this.getOffset(card, cell);\n        //card.setOwner(isPlayer)\n        card.x = offset.x;\n        card.y = offset.y;\n        card.cell = cell;\n        this.players.blue.boardCards.push(card);\n    }\n    castFn(player, cell) {\n        const card = this.pendingCard;\n        card.canBeClicked = false;\n        cell.addClass('creature');\n        card.cell = cell;\n        let idx = -1;\n        for (let i = 0; i < player.deckCards.length; i++) {\n            if (player.deckCards[i].id === card.id) {\n                idx = i;\n            }\n        }\n        player.deckCards.splice(idx, 1);\n        player.boardCards.push(card);\n        const offset = this.getOffset(card, cell);\n        //card.setOwner(isPlayer)\n        card.x = offset.x;\n        card.y = offset.y;\n        card.boardStats.mov = card.mov;\n        card.boardStats.btl = card.btl;\n        card.boardStats.vit = card.vit;\n        const cells = this.getActiveRoom().getCells();\n        const keys = Object.keys(cells);\n        for (let i = 0; i < keys.length; i++) {\n            if (cells[keys[i]].hasClass('possible-cast-tile')) {\n                cells[keys[i]].rmClass('possible-cast-tile');\n                cells[keys[i]].canBeClicked = false;\n            }\n        }\n        this.getActiveRoom().clearClass('possible-cast-tile');\n        //cell.addClass('player-tile')\n        //cell.canBeClicked = false\n        player.isCastPending = false;\n        player.isUnfoldPending = true;\n        player.unfoldCounter = 6;\n        player.hasCasted = true;\n        // player.increaseScore(card.cost * 100)\n        for (let j = 0; j < player.deckCards.length; j++) {\n            player.deckCards[j].canCast = false;\n        }\n        for (let j = 0; j < player.boardCards.length; j++) {\n            player.boardCards[j].canCast = false;\n        }\n        this.events.emit('castFn', { player, card, cell });\n        this.unfold(player, cell);\n    }\n    clearClickAreas() {\n        this.getActiveRoom().clearClickAreas();\n    }\n    unfold(player, cell) {\n        if (!player.isUnfoldPending) {\n            return;\n        }\n        if (player.unfoldCounter <= 0) {\n            return;\n        }\n        this.clearClass('possible-unfold-tile');\n        cell.addClass('floor');\n        cell.rmClass('');\n        /*\n        let cursorClass = 'cursor-' + (player.unfoldCounter - 1)\n        if (player.unfoldCounter > 8){\n          cursorClass = 'cursor-plus-9'\n        }\n        this.cursorClass = cursorClass\n        */\n        player.unfoldCounter--;\n        if (player.unfoldCounter === 0) {\n            player.isUnfoldPending = false;\n        }\n        let tile = 'player-tile';\n        if (this.isRival(player)) {\n            tile = 'rival-tile';\n        }\n        this.clearClickAreas();\n        cell.addClass(tile);\n        const cells = this.getAvailableUnfoldNearby(cell);\n        for (let i = 0; i < cells.length; i++) {\n            if (player.isUnfoldPending) {\n                cells[i].addClass('possible-unfold-tile');\n                cells[i].canBeClicked = true;\n            }\n        }\n        if (!player.isUnfoldPending) {\n            this.clearClass('possible-unfold-tile');\n            this.pendingCard.canBeClicked = true;\n            //this.pendingCard.\n            //this.pendingCard = null\n        }\n        this.events.emit('unfold', {\n            counter: player.unfoldCounter,\n            player, cell\n        });\n    }\n    getAllBoardCards() {\n        const cards = [];\n        const keys = Object.keys(this.players);\n        for (let i = 0; i < keys.length; i++) {\n            const boardCards = this.players[keys[i]].boardCards;\n            for (let j = 0; j < boardCards.length; j++) {\n                cards.push(boardCards[j]);\n            }\n        }\n        return cards;\n    }\n    moveBg(player, card, start = false) {\n        if (card.hasMoved) {\n            return;\n        }\n        // assign the number of pending move tiles just like with unfolding\n        // reflect on cursor\n        // highlight possible next tile\n        // on click creature moves to the clicked tile.\n        if (start) {\n            player.isMovePending = true;\n            player.moveCounter = card.mov;\n            this.pendingCard = card;\n            card.canBeClicked = false;\n            this.events.emit('moveBg', { player, card, cell: card.cell });\n            // disable clicks for ya'll!\n            let cards = this.getAllBoardCards();\n            for (let i = 0; i < cards.length; i++) {\n                cards[i].canBeClicked = false;\n            }\n            // player.edgePool.mov -= card.cost\n        }\n        else {\n            card.cell.addClass('creature');\n            this.events.emit('moveStep', { player, card, cell: card.cell });\n        }\n        if (!start && !player.isMovePending && player.moveCounter === 0) {\n            card.hasMoved = true;\n            card.canBeClicked = true;\n            let cards = this.getAllBoardCards();\n            for (let i = 0; i < cards.length; i++) {\n                cards[i].canBeClicked = true;\n            }\n            this.events.emit('moveFn', { player, card, cell: card.cell });\n        }\n        this.cursorClass = 'cursor-0';\n        if (!player.isMovePending) {\n            return;\n        }\n        if (player.moveCounter <= 0) {\n            return;\n        }\n        this.clearClass('possible-move-tile');\n        player.moveCounter--;\n        this.clearClickAreas();\n        const cells = this.getAvailableMovNearby(card.cell.x, card.cell.y);\n        console.log('available for mov::', cells);\n        for (let i = 0; i < cells.length; i++) {\n            if (player.isMovePending) {\n                cells[i].addClass('possible-move-tile');\n                cells[i].canBeClicked = true;\n            }\n        }\n    }\n    moveFn(player, cell) {\n        if (!player.isMovePending) {\n            return;\n        }\n        if (player.moveCounter === 0) {\n            player.isMovePending = false;\n        }\n        const card = this.pendingCard;\n        const offset = this.getOffset(card, cell);\n        card.cell.rmClass('creature');\n        card.cell = cell;\n        card.x = offset.x;\n        card.y = offset.y;\n        this.clearClass('possible-move-tile');\n        //this.events.emit('moveFn', {player, card, cell})\n        this.moveBg(player, card);\n        // check if the moved-to tile is a tower.\n        // in case it is, check if own or enemy.\n        // if own, the monster loses (delete) their MOV attribute\n        // VIT gets +10\n        // if opponent, monster's vitality is taken to 0.\n        // opponent's tower is destroyed and it's path, on a cross, destroyed.\n        // reflect somehow these changes on the overall counters.\n        // score is good for cumulative but info on how many\n        // towers are taken and by whom is important\n        // also trigger the board's self-collector for conquered tower.\n        // from left to right, they provide the monster's cost every turn\n        // in MOV, BTL and HEX\n    }\n    battleBg(player, card) {\n        // if (player.edgePool.btl < card.cost){return}\n        console.log('battleBg', player, card);\n        player.isBattlePending = true;\n        card.canBeClicked = false;\n        const cells = this.getAvailableBtlNearby(card.cell.x, card.cell.y);\n        for (let i = 0; i < cells.length; i++) {\n            if (player.isBattlePending) {\n                cells[i].addClass('possible-battle-tile');\n                cells[i].canBeClicked = true;\n            }\n        }\n        const boardCards = this.getAllBoardCards();\n        for (let i = 0; i < boardCards.length; i++) {\n            const currentCard = boardCards[i];\n            currentCard.canBeClicked = true;\n        }\n        this.pendingCard = card;\n    }\n    cancelMove(player, card) {\n        player.isMovePending = false;\n        card.hasMoved = true;\n        card.canBeClicked = true;\n        this.clearClass('possible-move-tile');\n        this.clearClickAreas();\n        let cards = this.getAllBoardCards();\n        for (let i = 0; i < cards.length; i++) {\n            cards[i].canBeClicked = true;\n        }\n    }\n    cancelBattle(player, card) {\n        player.isBattlePending = false;\n        card.hasBattled = true;\n        card.canBeClicked = true;\n        this.clearClass('possible-battle-tile');\n        this.clearClickAreas();\n    }\n    battleFn(player, targetCard) {\n        console.log('battleFn', player, targetCard);\n        if (!player.isBattlePending) {\n            return;\n        }\n        const sourceCard = this.pendingCard;\n        sourceCard.canBeClicked = true;\n        targetCard.boardStats.vit -= sourceCard.boardStats.btl;\n        if (targetCard.boardStats.vit <= 0) {\n            // died!\n            let idx;\n            for (let i = 0; i < this.players.blue.boardCards.length; i++) {\n                if (this.players.blue.boardCards[i].id === targetCard.id) {\n                    idx = i;\n                }\n            }\n            targetCard.cell.rmClass('creature');\n            this.getActiveRoom().getCell(targetCard.cell.x, targetCard.cell.y).rmClass('creature');\n            this.players.red.deckCards.push(targetCard);\n            this.players.blue.boardCards.splice(idx, 1);\n        }\n        sourceCard.hasBattled = true;\n        player.isBattlePending = false;\n        this.clearClass('possible-battle-tile');\n        this.clearClickAreas();\n        //player.edgePool.btl -= card.cost\n        // need to grab the opponent monster, somehow\n        // cell cannot contain card since that's circular\n        // make fn to extract cells of all creatures in opponent's board\n        // check cell coordinates with given creature's locations.\n        // need to implement opponent cast for this!\n        // fml. hammer(ed) time\n    }\n    hexBg() { }\n    hexFn() { }\n    endTurn(player) {\n        const self = this;\n        this.cursorClass = 'cursor-0';\n        this.clearClass('possible-cast-tile');\n        this.clearClass('possible-unfold-tile');\n        this.clearClass('possible-move-tile');\n        if (this.isRival(player)) {\n            this.players.blue.endTurn();\n            this.players.red.startTurn();\n        }\n        else {\n            // user finishes turn, automate stuff\n            this.players.red.endTurn();\n            this.events.on('endCpuTurn', (stc) => {\n                self.endTurn(self.players.blue);\n                console.log('event dispatched for cpu turn end');\n            });\n            this.players.blue.startTurn();\n        }\n        // check if a closed area has been created. If that's the case, color it\n    }\n    getActiveRoom() {\n        if (this.roomNonce !== this.lastRoomNonce) {\n            this.lastRoomNonce = this.roomNonce;\n            this.activeRoom = this.rooms[this.roomNonce];\n            this.activeRoom.paintMap();\n        }\n        return this.activeRoom;\n    }\n    listeners() {\n        const self = this;\n        this.events.on('castBg', (payload) => {\n            const card = payload.card;\n            const player = payload.player;\n            let costs = {};\n            for (let i = 0; i < card.cost.length; i++) {\n                const cost = card.cost[i];\n                if (!costs[cost]) {\n                    costs[cost] = 0;\n                }\n                costs[cost] += 1;\n            }\n            const keys = Object.keys(costs);\n            for (let i = 0; i < keys.length; i++) {\n                const attr = keys[i];\n                const cost = costs[attr];\n                player.energyPool.burn(attr, cost);\n            }\n        });\n        this.events.on('roomFinished', () => {\n            self.nextRoom();\n        });\n    }\n    nextRoom() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.visitedRoomNonces.indexOf(this.roomNonce) >= 0) {\n                return;\n            }\n            this.splashDisplay = 'flex';\n            yield this.sleep(100);\n            console.log('nextRoom', this.roomNonce, this.rooms);\n            if (this.roomNonce < this.rooms.length) {\n                this.roomNonce++;\n            }\n            else {\n                this.roomNonce = 0;\n            }\n            this.visitedRoomNonces.push(this.roomNonce);\n            this.getActiveRoom();\n            yield this.sleep(100);\n            //for (let i = 0; i < this.players.red.boardCards.length){\n            const card = this.players.red.boardCards[0]; //i]\n            const cell = this.getActiveRoom().getCell(this.getActiveRoom().initialTile.x, this.getActiveRoom().initialTile.y);\n            this.teleport(card, cell);\n            yield this.sleep(100);\n            this.getActiveRoom().paintMap();\n            this.endTurn(this.players.red);\n            yield this.sleep(300);\n            this.splashDisplay = 'hidden';\n        });\n    }\n    toggleDeckView() {\n        const sound = new audio_1.DGAudio('assets/audio/deck-view.mp3');\n        sound.play();\n        console.log('toggleDeckView');\n        if (this.deckContainerClass === 'full') {\n            this.deckContainerClass = 'minimized';\n        }\n        else {\n            this.deckContainerClass = 'full';\n        }\n    }\n}\nexports.Board = Board;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Card = exports.costToCircles = exports.attributesToBackgrounds = void 0;\nconst board_1 = require(\"./board\");\nconst player_1 = require(\"./player\");\nconst uuid_1 = require(\"uuid\");\nconst js_sha3_1 = require(\"js-sha3\");\nexports.attributesToBackgrounds = {\n    light: 'assets/backgrounds/light.jpg',\n    dark: 'assets/backgrounds/dark.jpg',\n    aether: 'assets/backgrounds/aether.jpg',\n    void: 'assets/backgrounds/void.jpg',\n    earth: 'assets/backgrounds/earth.jpg',\n    air: 'assets/backgrounds/air.jpg',\n    water: 'assets/backgrounds/water.jpg',\n    fire: 'assets/backgrounds/fire.jpg',\n    wood: 'assets/backgrounds/wood.jpg',\n    metal: 'assets/backgrounds/metal.jpg',\n    electric: 'assets/backgrounds/electric.jpg',\n    ice: 'assets/backgroungs/ice.jpg'\n};\nexports.costToCircles = [\n    'assets/circles/00.png',\n    'assets/circles/01.png',\n    'assets/circles/04.png',\n    'assets/circles/02.png',\n    'assets/circles/07.png',\n    'assets/circles/00.png',\n    'assets/circles/05.png',\n];\nclass Card {\n    constructor(title, \n    //backgroundUrl: string,\n    //battlerUrl: string,\n    //circleUrl: string,\n    attribute, mov, btl, vit, cost, abilities, clans, offset) {\n        this.owner = player_1.EMPTY_PLAYER;\n        this.offset = {\n            x: 0,\n            y: 0\n        };\n        this.boardStats = {\n            btl: 0,\n            mov: 0,\n            vit: 0,\n            rng: 1\n        };\n        this.canCast = false;\n        this.canMove = false;\n        this.canBattle = false;\n        this.cell = new board_1.Cell({});\n        this.activeAbility = {};\n        this.showAbility = false;\n        this.hasMoved = false;\n        this.hasBattled = false;\n        this.canBeClicked = true;\n        this.showMenu = false;\n        this.title = title;\n        this.backgroundUrl = exports.attributesToBackgrounds[attribute];\n        this.battlerUrl = this.getBattlerUrl(); //battlerUrl\n        this.circleUrl = this.getCircleUrl();\n        this.attribute = attribute;\n        if (offset) {\n            this.offset = offset;\n        }\n        this.btl = btl;\n        this.cost = cost;\n        this.mov = mov;\n        this.vit = vit;\n        this.boardStats.btl = btl;\n        this.boardStats.mov = mov;\n        this.boardStats.vit = vit;\n        this.id = js_sha3_1.keccak256(uuid_1.v4());\n        this.coordinates = [];\n        this.x = 0;\n        this.y = 0;\n        // this.cell = new Cell(this.ctx)\n        // this.owner = new Player(this.ctx)\n        this.classes = ['_card'];\n        this.abilities = [];\n        for (let i = 0; i < abilities.length; i++) {\n            const ability = abilities[i];\n            ability['hidden'] = 'hidden';\n            ability['id'] = this.id + '-' + ability['name'];\n            this.abilities.push(ability);\n        }\n        this.clans = clans;\n    }\n    getAttributeFromCost(cost) {\n        const parts = cost.split('-');\n        return parts[0];\n    }\n    getValueFromCost(cost) {\n        const parts = cost.split('-');\n        return Number(parts[1]);\n    }\n    getNumericTotalCost(costs) {\n        return costs.length;\n    }\n    getBattlerUrl() {\n        const title = this.title;\n        let lowercase = title.toLowerCase();\n        let parts = lowercase.split(' ');\n        let url = 'assets/battlers/';\n        url += this.attribute;\n        url += '/';\n        url += parts.join('-');\n        url += '.png';\n        return url;\n    }\n    getCircleUrl() {\n        if (!this.cost) {\n            return '';\n        }\n        const totalCost = this.getNumericTotalCost(this.cost);\n        return exports.costToCircles[totalCost];\n    }\n    setOwner(player) { this.owner = player; }\n    canBeCasted(energyPool) {\n        let out = true;\n        let costs = {};\n        for (let i = 0; i < this.cost.length; i++) {\n            const cost = this.cost[i];\n            if (!costs[cost]) {\n                costs[cost] = 0;\n            }\n            costs[cost] += 1;\n        }\n        const keys = Object.keys(costs);\n        for (let i = 0; i < keys.length; i++) {\n            const key = keys[i];\n            out = out && (Number(energyPool.get(key)) >= costs[key]);\n        }\n        return out;\n    }\n    getVitPercent() {\n        return Math.round(100 * this.boardStats.vit / this.vit);\n    }\n}\nexports.Card = Card;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Cell = void 0;\nclass Cell {\n    constructor(opts) {\n        // number --> x\n        // letter --> y\n        this.canBeClicked = false;\n        this.src = '';\n        this.domReadyQueue = [];\n        this.domReadyQueueProcessing = false;\n        this.classes = [];\n        this.ctx = opts.ctx;\n        this.x = opts.x;\n        this.y = opts.y;\n        this.domPrefix = opts.domPrefix;\n        this.attachDom();\n    }\n    addClass(newClass) {\n        if (!this.hasClass(newClass)) {\n            this.classes.push(newClass);\n        }\n    }\n    rmClass(newClass) {\n        if (!this.hasClass(newClass))\n            return;\n        this.classes.splice(this.classes.indexOf(newClass), 1);\n        if (!this.dom) {\n            this.attachDom();\n        }\n        if (this.dom && this.dom.classList.contains(newClass)) {\n            this.dom.classList.remove(newClass);\n        }\n    }\n    hasClass(newClass) {\n        return (this.classes.indexOf(newClass) >= 0);\n    }\n    canClick(state) {\n        this.canBeClicked = state;\n    }\n    attachDom() {\n        this.dom = document.querySelector('.' + this.domPrefix + 'x-' + this.x + '-y-' + this.y);\n        this.processDomReadyQueue();\n    }\n    click(player) {\n        if (!this.canBeClicked) {\n            return;\n        }\n        this.ctx.board.unfold(player, this);\n        this.ctx.board.moveFn(player, this);\n        //this.ctx.board.battleFn(player, this)\n        if (player.isCastPending && this.classes.indexOf('possible-cast-tile') >= 0) {\n            this.ctx.board.castFn(player, this);\n        }\n    }\n    setBackgroundImage(src) {\n        this.src = src;\n    }\n    setCtx(ctx) {\n        this.ctx = ctx;\n        this.attachDom();\n    }\n    processDomReadyQueue() {\n        if (this.domReadyQueueProcessing) {\n            return;\n        }\n        if (this.domReadyQueue.length === 0) {\n            this.domReadyQueueProcessing = false;\n            return;\n        }\n        this.domReadyQueueProcessing = true;\n        const item = this.domReadyQueue[0];\n        item.fn.apply(this, item.params);\n        this.domReadyQueue.unshift();\n        this.processDomReadyQueue();\n    }\n    queueAfterDom(fn, params) {\n        if (!this.dom) {\n            return this.domReadyQueue.push({ fn, params });\n        }\n        this.processDomReadyQueue();\n    }\n    setSprite(sprite) {\n        this.sprite = sprite;\n        //sprite.setSelector()\n    }\n    equals(cell) {\n        return (this.x === cell.x && this.y === cell.y && this.domPrefix === cell.domPrefix);\n    }\n}\nexports.Cell = Cell;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_BLUE = exports.DEFAULT_RED = exports.cardCollection = void 0;\nconst card_1 = require(\"./card\");\nconst CLANS = {\n    warrior: {\n        name: 'Warrior',\n        iconUrl: 'assets/icons/warrior.png'\n    },\n    swordAdept: {\n        name: 'Sword Adept',\n        iconUrl: 'assets/icons/swordAdept.png'\n    },\n    armorAdept: {\n        name: 'Armor Adept',\n        iconUrl: 'assets/icons/armorAdept.png'\n    },\n    royalGuard: {\n        name: 'Royal Guard',\n        iconUrl: 'assets/icons/royalGuard.png'\n    },\n    archer: {\n        name: 'Archer',\n        iconUrl: 'assets/icons/archer.png'\n    },\n    forestGuard: {\n        name: 'Forest Guard',\n        iconUrl: 'assets/icons/forest-guard.png'\n    },\n};\nconst ABILITIES = {\n    decast2: {\n        name: 'decast2',\n        iconUrl: 'assets/icons/decast.png',\n        cost: 2,\n        text: 'Decast: Returns the monster from the board to the deck at cost 2xHEX'\n    },\n    decast4: {\n        name: 'decast4',\n        iconUrl: 'assets/icons/decast.png',\n        cost: 4,\n        text: 'Decast: Returns the monster from the board to the deck at cost 4xHEX'\n    },\n    decast6: {\n        name: 'decast6',\n        iconUrl: 'assets/icons/decast.png',\n        cost: 6,\n        text: 'Decast: Returns the monster from the board to the deck at cost 6xHEX'\n    },\n    doubleStrike: {\n        name: 'doubleStrike',\n        iconUrl: 'assets/icons/double-strike.png',\n        cost: 2,\n        text: 'Double Strike: On every battle phase this creature can attack a second time'\n    },\n    midRange: {\n        name: 'midRange',\n        iconUrl: 'assets/icons/mid-range.png',\n        cost: 0,\n        text: 'Mid Range: This card\\'s range receives +3'\n    },\n    fly: {\n        name: 'fly',\n        iconUrl: 'assets/icons/fly.png',\n        cost: 1,\n        text: 'Fly: The creature can move from a tile to another without stepping on dungeon path.'\n    },\n    mortalTouch: {\n        name: 'mortalTouch',\n        iconUrl: 'assets/icons/mortalTouch.png',\n        cost: 3,\n        text: 'Mortal Strike: An opponent battling this creature dies automatically'\n    },\n    mortalStrike: {\n        name: 'mortalStrike',\n        iconUrl: 'assets/icons/mortalStrike.png',\n        cost: 5,\n        text: 'Mortal Strike: An opponent battling this creature dies automatically'\n    },\n    forestForce: {\n        name: 'forestForce',\n        iconUrl: 'assets/icons/forestForce.png',\n        cost: 0,\n        text: 'Forest Force: As long as there is another `Wood` creature under your control this card gains BTL +3'\n    },\n    cannotBattle: {\n        name: 'cannotBattle',\n        iconUrl: 'assets/icons/cannotBattle.png',\n        cost: 0,\n        text: 'Cannot Battle: This creature cannot attack an opponent'\n    },\n    cannotMove: {\n        name: 'cannotMove',\n        iconUrl: 'assets/icons/cannotBattle.png',\n        cost: 0,\n        text: 'Cannot Move: This creature cannot move'\n    },\n    doubleMove: {\n        name: 'doubleMove',\n        iconUrl: 'assets/icons/doubleMove.png',\n        cost: 3,\n        text: 'Double Move: This creature can move a second time every turn'\n    },\n    defender: {\n        name: 'defender',\n        iconUrl: 'assets/icons/defender.png',\n        cost: 5,\n        text: 'Defender: This creature can intercept an attack on a fellow on the same Dungeon Path'\n    },\n    layEgg: {\n        name: 'layEgg',\n        iconUrl: 'assets/icons/layEgg.png',\n        cost: 5,\n        text: 'Lay Egg: The creature can sacrifice itself to be recasted'\n    },\n    energyEconomy: {\n        name: 'energyEconomy',\n        iconUrl: 'assets/icons/energyEconomy.png',\n        cost: 5,\n        text: 'Energy Economy: Convert all your Energy from one type into another, except CST'\n    },\n    reRollOne: {\n        name: 'reRollOne',\n        iconUrl: 'assets/icons/reRollOne.png',\n        cost: 5,\n        text: 'Re Roll One: You can roll again one of your dice on the Roll Stage'\n    },\n    creatureHealer: {\n        name: 'creatureHealer',\n        iconUrl: 'assets/icons/creatureHealer.png',\n        cost: 7,\n        text: 'Creature Healer: Restore the max VIT of a fellow in the same Dungeon Path'\n    },\n    woodToken: {\n        name: 'woodToken',\n        iconUrl: 'assets/icons/woodToken.png',\n        cost: 10,\n        text: 'Wood Token: Create a 1/1/1 clanless Wood Token'\n    },\n    farSight: {\n        name: 'farSight',\n        iconUrl: 'assets/icons/farSight.png',\n        cost: 7,\n        text: 'Far Sight: This creature\\'s range becomes +10 until the end of the turn'\n    },\n    airToken: {\n        name: 'airToken',\n        iconUrl: 'assets/icons/airToken.png',\n        cost: 10,\n        text: 'Air Token: Create a 1/1/1 clanless Air Token'\n    },\n    wingUp: {\n        name: 'wingUp',\n        iconUrl: 'assets/icons/wingUp.png',\n        cost: 15,\n        text: 'Wing Up: Give the ability `Fly` to any creature in the same Dungeon Path'\n    },\n    lightToken: {\n        name: 'lightToken',\n        iconUrl: 'assets/icons/lightToken.png',\n        cost: 10,\n        text: 'Light Token: Create a 1/1/1 `light-worshiper` Light Token'\n    },\n    lightTouch: {\n        name: 'lightTouch',\n        iconUrl: 'assets/icons/lightTouch.png',\n        cost: 5,\n        text: 'Light Touch: All Light creatures gain permanent +5 on BTL'\n    },\n    changeOfHeart: {\n        name: 'changeOfHeart',\n        iconUrl: 'assets/icons/changeOfHeart.png',\n        cost: 15,\n        text: 'Change of Heart: Take control of an opponent creature until your next Roll Stage'\n    },\n    darkToken: {\n        name: 'darkToken',\n        iconUrl: 'assets/icons/darkToken.png',\n        cost: 10,\n        text: 'Dark Token: Create a 1/1/1 `dark-worshiper` Dark Token'\n    },\n    darkTouch: {\n        name: 'darkTouch',\n        iconUrl: 'assets/icons/darkTouch.png',\n        cost: 5,\n        text: 'Dark Touch: All Dark creatures gain permanent +5 on BTL'\n    },\n    poisonGas: {\n        name: 'poisonGas',\n        iconUrl: 'assets/icons/poisonGas.png',\n        cost: 7,\n        text: 'Poison Gas: All creatures on the same color Dungeon Path receive -1 VIT every Roll Stage of their controller'\n    },\n    voidToken: {\n        name: 'voidToken',\n        iconUrl: 'assets/icons/voidToken.png',\n        cost: 10,\n        text: 'Void Token: Create a 1/1/1 `void-worshiper` Void Token'\n    },\n    voidTouch: {\n        name: 'voidTouch',\n        iconUrl: 'assets/icons/voidTouch.png',\n        cost: 5,\n        text: 'Void Touch: All Void creatures gain permanent +5 on BTL'\n    },\n    darkHole: {\n        name: 'darkHole',\n        iconUrl: 'assets/icons/darkHole.png',\n        cost: 7,\n        text: 'Dark Hole: Create a Dark Hole on a Dungeon Path 5 tiles away or closer. All creatures 3 tiles from the Hole will be sucked in and destroyed automatically.'\n    },\n    aetherToken: {\n        name: 'aetherToken',\n        iconUrl: 'assets/icons/aetherToken.png',\n        cost: 10,\n        text: 'Aether Token: Create a 1/1/1 `aether-worshiper` Aether Token'\n    },\n    aetherTouch: {\n        name: 'aetherTouch',\n        iconUrl: 'assets/icons/aetherTouch.png',\n        cost: 5,\n        text: 'Aether Touch: All Aether creatures gain permanent +5 on BTL'\n    },\n    fluidDivision: {\n        name: 'fluidDivision',\n        iconUrl: 'assets/icons/fluidDivision.png',\n        cost: 7,\n        text: 'Fluid Division: While this card\\'s MOV is greater than 1; you can split this creature on neighbour Dungeon Paths into 2 clones of this card, each holding half it\\'s MOV, BTL and VIT. Abilities cost 2x the HEX to activate on the clones'\n    },\n    infestation: {\n        name: 'infestation',\n        iconUrl: 'assets/icons/infestation.png',\n        cost: 5,\n        text: 'Infestation: Sacrifice a creature in the same Dungeon Path; Cast 2 `Plague Termite` in the available nearby tiles.'\n    },\n};\nexports.cardCollection = {\n    'thunder-warlord': new card_1.Card('Thunder Warlord', 'electric', 0, 0, 0, ['electric'], // cost\n    [], // abilities\n    [] // clans\n    ),\n    'reeya-mermaid-of-chaos': new card_1.Card('Reeya Mermaid of Chaos', 'water', 1, 1, 3, ['water'], // cost\n    [], // abilities\n    [] // clans\n    ),\n    'sea-wolf-lobstroslly': new card_1.Card('Sea Wolf Lobstroslly', 'water', 4, 4, 12, ['water', 'water'], // cost\n    [], // abilities\n    [], // clans\n    { x: 12, y: 0 }),\n    'swamp-nix': new card_1.Card('Swamp Nix', 'water', 12, 12, 36, ['water', 'water', 'water'], // cost\n    [], // abilities\n    [], // clans,\n    { x: 7, y: 0 }),\n    'fluid-elemental': new card_1.Card('Fluid Elemental', 'water', 3, 3, 10, ['water', 'water'], // cost\n    [\n        ABILITIES.defender,\n    ], // abilities\n    [] // clans\n    ),\n    'doffet-the-war-platypus': new card_1.Card('Doffet The War Platypus', 'water', 7, 6, 13, ['water', 'water', 'water'], // cost\n    [], [], { x: -2, y: 0 }),\n    'war-moose': new card_1.Card('War Moose', 'wood', 7, 8, 15, ['wood', 'wood', 'wood'], // 263\n    [], [], { x: 18, y: 0 } // offset\n    ),\n    'plague-termite': new card_1.Card('Plague Termite', 'wood', 3, 3, 5, ['wood', 'wood'], [\n        ABILITIES.infestation\n    ], []),\n    'rainray-arrow': new card_1.Card('Rainray Arrow', 'wood', 8, 3, 12, ['wood', 'wood'], [\n        ABILITIES.forestForce,\n        ABILITIES.midRange\n    ], []),\n    'leech-elemental': new card_1.Card('Leech Elemental', 'wood', 10, 10, 10, ['wood', 'wood', 'wood'], [\n        ABILITIES.infestation,\n        ABILITIES.midRange\n    ], []),\n    'nuada-supreme-ruler-of-darkness': new card_1.Card('Nuada Supreme Ruler Of Darkness', 'dark', 8, 40, 55, ['dark', 'dark', 'dark', 'dark', 'dark', 'dark'], [\n        ABILITIES.darkToken,\n        ABILITIES.darkTouch,\n        ABILITIES.poisonGas,\n        ABILITIES.fly,\n        ABILITIES.changeOfHeart,\n    ], []),\n    'sionnan-supreme-ruler-of-light': new card_1.Card('Sionnan Supreme Ruler Of Light', 'light', 8, 40, 55, ['light', 'light', 'light', 'light', 'light', 'light'], [\n        ABILITIES.lightToken,\n        ABILITIES.lightTouch,\n        ABILITIES.creatureHealer,\n        ABILITIES.fly,\n        ABILITIES.changeOfHeart,\n    ], []),\n    'hoji-supreme-ruler-of-the-void': new card_1.Card('Hoji Supreme Ruler Of The Void', 'void', 8, 40, 55, ['neutral'], [\n        ABILITIES.voidToken,\n        ABILITIES.voidTouch,\n        ABILITIES.darkHole,\n        ABILITIES.fly,\n        ABILITIES.changeOfHeart,\n    ], []),\n    'yamuna-supreme-ruler-of-aether': new card_1.Card('Yamuna Supreme Ruler Of Aether', 'aether', 8, 40, 55, ['neutral'], [\n        ABILITIES.voidToken,\n        ABILITIES.voidTouch,\n        ABILITIES.fluidDivision,\n        ABILITIES.fly,\n        ABILITIES.changeOfHeart,\n    ], []),\n    'doffet-the-platypus': new card_1.Card('Doffet The Platypus', 'water', 2, 3, 3, ['neutral'], [], []),\n    'doffet-the-egglaying-platypus': new card_1.Card('Doffet The Egglaying Platypus', 'water', 2, 1, 3, ['neutral'], [\n        ABILITIES.layEgg\n    ], []),\n    'doffet-the-deadly-platypus': new card_1.Card('Doffet The Deadly Platypus', 'water', 2, 1, 3, ['neutral'], [\n        ABILITIES.mortalStrike\n    ], []),\n    'doffet-the-friendly-platypus': new card_1.Card('Doffet The Friendly Platypus', 'water', 2, 1, 3, ['neutral'], [\n        ABILITIES.defender\n    ], []),\n    'doffet-the-wallflower': new card_1.Card('Doffet The Wallflower', 'water', 4, 5, 9, ['neutral', 'neutral'], [], []),\n    'doffet-the-deadly-defender': new card_1.Card('Doffet The Deadly Defender', 'water', 5, 7, 7, ['neutral', 'neutral'], [\n        ABILITIES.mortalStrike,\n        ABILITIES.defender\n    ], []),\n    'doffet-propagator-of-death': new card_1.Card('Doffet Propagator of Death', 'water', 5, 7, 7, ['neutral', 'neutral'], [\n        ABILITIES.mortalStrike,\n        ABILITIES.layEgg,\n    ], []),\n    'doffet-eternal-defender': new card_1.Card('Doffet Eternal Defender', 'water', 5, 7, 7, ['neutral', 'neutral'], [\n        ABILITIES.defender,\n        ABILITIES.layEgg\n    ], []),\n    'swordsmaster-abalyne': new card_1.Card('Swordsmaster Abalyne', 'metal', 1, 3, 3, ['metal'], [\n        ABILITIES.doubleStrike\n    ], [\n        CLANS.warrior,\n        CLANS.swordAdept,\n        CLANS.armorAdept,\n        CLANS.royalGuard\n    ]),\n    'chickenmera': new card_1.Card('Chickenmera', 'air', 3, 1, 3, ['air'], [\n        ABILITIES.fly\n    ], []),\n    'armored-ninja': new card_1.Card('Armored Ninja', 'earth', 3, 1, 1, ['earth', 'earth'], [\n        ABILITIES.mortalTouch,\n        ABILITIES.doubleMove\n    ], []),\n    'gogmatel-the-owlbear': new card_1.Card('Gogmatel The Owlbear', 'air', 2, 5, 7, ['air', 'air'], [\n        ABILITIES.forestForce,\n        ABILITIES.defender\n    ], []),\n    'jester': new card_1.Card('Jester', 'fire', 5, 0, 10, ['fire', 'fire', 'fire'], [\n        ABILITIES.cannotBattle,\n        ABILITIES.energyEconomy,\n        ABILITIES.reRollOne\n    ], []),\n    'druid-nicholsrita': new card_1.Card('Druid Nicholsrita', 'wood', 3, 0, 15, ['wood', 'wood', 'wood'], [\n        ABILITIES.cannotBattle,\n        ABILITIES.creatureHealer,\n        ABILITIES.woodToken\n    ], []),\n    'the-eye-in-the-sky': new card_1.Card('The Eye In The Sky', 'air', 5, 10, 15, ['air', 'air', 'air'], [\n        ABILITIES.farSight,\n        ABILITIES.airToken,\n        ABILITIES.wingUp\n    ], []),\n};\nexports.DEFAULT_RED = {\n    name: 'RED',\n    color: 'red',\n    deck: [\n        exports.cardCollection['doffet-the-war-platypus'],\n        exports.cardCollection['war-moose'],\n    ]\n};\nexports.DEFAULT_BLUE = {\n    name: 'BLUE',\n    color: 'blue',\n    deck: []\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Dice = void 0;\nconst random_1 = __importDefault(require(\"random\"));\nclass Dice {\n    constructor(rank, color = \"#000000\") {\n        this.rolls = [];\n        this.classes = [\n            'dice-front',\n            'dice-back',\n            'dice-right',\n            'dice-left',\n            'dice-top',\n            'dice-bottom'\n        ];\n        this.rankedInfo = [\n            'assets/dice/rank-0-info.png',\n            '/assets/dice/rank-1-info.png',\n            '/assets/dice/rank-2-info.png',\n            '/assets/dice/rank-3-info.png',\n        ];\n        this.rank = rank;\n        this.faces = Dice.ranks[this.rank];\n        this.ctx = {};\n        this.rolledFaceClass = 'dice-front';\n        this.color = color;\n    }\n    getAttrImage(attr) {\n        return '/assets/dice/' + attr + '.png';\n    }\n    roll() {\n        return new Promise((resolve, reject) => {\n            const self = this;\n            const limit = 3;\n            let count = 0;\n            const id = setInterval(() => {\n                if (count >= limit) {\n                    clearInterval(id);\n                    const roll = this.faces[this.classes.indexOf(this.rolledFaceClass)];\n                    self.rolls.push(roll);\n                    resolve(roll);\n                    return;\n                }\n                count++;\n                const idx = random_1.default.int(0, this.classes.length - 1);\n                this.rolledFaceClass = this.classes[idx];\n            }, 550);\n        });\n    }\n    setCtx(ctx) {\n        this.ctx = ctx;\n    }\n    getEnergy(face) {\n        if (face.indexOf('-') >= 0) {\n            const parts = face.split('-');\n            return parts[0];\n        }\n        return face;\n    }\n    getEdge(face) {\n        let multiplier;\n        let crest;\n        if (face.length === 3) {\n            // pure crest\n            multiplier = 1;\n            crest = face;\n        }\n        else {\n            crest = face.substr(0, 3);\n            multiplier = parseInt(face.substr(3, 4));\n        }\n        return crest.toLowerCase();\n    }\n    getValue(face) {\n        if (face.indexOf('-') >= 0) {\n            const parts = face.split('-');\n            return parseInt(parts[1]);\n        }\n        else {\n            return 1;\n        }\n    }\n    getCrestImage(face) {\n        //let face = this.rolls[this.rolls.length - 1]\n        return this.faces[this.faces.indexOf(face)]; /*\n        let multiplier\n        let crest\n        if (face.length === 3){\n          // pure crest\n          multiplier = 1\n          crest = face\n        } else {\n          crest = face.substr(0,3)\n          multiplier = parseInt(face.substr(3,4))\n        }\n    \n        if (this.rank >= 3){\n          return crestImages[crest]['white']\n        }\n        return crestImages[crest]['black']*/\n    }\n}\nexports.Dice = Dice;\nDice.ranks = [\n    ['water', 'water', 'water', 'wood', 'wood', 'neutral'],\n    ['wood', 'wood', 'wood', 'water', 'water', 'neutral'],\n    ['water-2', 'water', 'wood-2', 'wood', 'dark', 'neutral'],\n    ['dark', 'neutral', 'wood', 'neutral', 'water', 'dark-2'],\n];\nDice.colors = [\n    '#000000',\n    '#FFFFFF',\n    '#FF0000',\n    '#00FF00',\n    '#0000FF',\n    '#FFFF00',\n    '#00FFFF',\n    '#FF00FF',\n];\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EnergyPool = void 0;\nconst events_1 = require(\"./events\");\nclass EnergyPool {\n    constructor() {\n        this.light = 0;\n        this.dark = 0;\n        this.aether = 0;\n        this.void = 0;\n        this.earth = 0;\n        this.air = 0;\n        this.water = 0;\n        this.fire = 0;\n        this.wood = 0;\n        this.metal = 0;\n        this.electric = 0;\n        this.ice = 0;\n        this.neutral = 0;\n        this.types = new Set();\n        this.events = events_1.EVENTS;\n        this.types.add('light');\n        this.types.add('dark');\n        this.types.add('aether');\n        this.types.add('void');\n        this.types.add('earth');\n        this.types.add('air');\n        this.types.add('water');\n        this.types.add('fire');\n        this.types.add('wood');\n        this.types.add('metal');\n        this.types.add('electric');\n        this.types.add('ice');\n        this.types.add('neutral');\n    }\n    isInteger(amount) {\n        return !isNaN(amount) && (function (x) { return (x | 0) === x; })(parseFloat(amount.toString()));\n    }\n    isPositiveInt(amount) {\n        return (this.isInteger(amount) && amount > 0);\n    }\n    isNegativeInt(amount) {\n        return (this.isInteger(amount) && amount < 0);\n    }\n    mint(type, amount) {\n        if (!this.types.has(type)) {\n            throw new Error('Unrecognized Energy type `' + type + '`');\n        }\n        if (!this.isPositiveInt(amount)) {\n            throw new Error('Invalid value for fn `mint`: ' + amount);\n        }\n        this.events.emit('mint', { type, amount });\n        switch (type) {\n            case 'light':\n                this.light += amount;\n                break;\n            case 'dark':\n                this.dark += amount;\n                break;\n            case 'aether':\n                this.aether += amount;\n                break;\n            case 'void':\n                this.void += amount;\n                break;\n            case 'earth':\n                this.earth += amount;\n                break;\n            case 'air':\n                this.air += amount;\n                break;\n            case 'water':\n                this.water += amount;\n                break;\n            case 'fire':\n                this.fire += amount;\n                break;\n            case 'wood':\n                this.wood += amount;\n                break;\n            case 'metal':\n                this.metal += amount;\n                break;\n            case 'electric':\n                this.electric += amount;\n                break;\n            case 'ice':\n                this.ice += amount;\n                break;\n            case 'neutral':\n                this.neutral += amount;\n                break;\n        }\n    }\n    burn(type, amount) {\n        if (!this.types.has(type)) {\n            throw new Error('Unrecognized Energy type `' + type + '`');\n        }\n        if (!this.isPositiveInt(amount)) {\n            throw new Error('Invalid value for fn `burn`: ' + amount);\n        }\n        this.events.emit('burn', { type, amount });\n        switch (type) {\n            case 'light':\n                this.light -= amount;\n                break;\n            case 'dark':\n                this.dark -= amount;\n                break;\n            case 'aether':\n                this.aether -= amount;\n                break;\n            case 'void':\n                this.void -= amount;\n                break;\n            case 'earth':\n                this.earth -= amount;\n                break;\n            case 'air':\n                this.air -= amount;\n                break;\n            case 'water':\n                this.water -= amount;\n                break;\n            case 'fire':\n                this.fire -= amount;\n                break;\n            case 'wood':\n                this.wood -= amount;\n                break;\n            case 'metal':\n                this.metal -= amount;\n                break;\n            case 'electric':\n                this.electric -= amount;\n                break;\n            case 'ice':\n                this.ice -= amount;\n                break;\n            case 'neutral':\n                this.neutral -= amount;\n                break;\n        }\n    }\n    reset(type) {\n        if (!this.types.has(type)) {\n            throw new Error('Unrecognized Energy type `' + type + '`');\n        }\n        this.events.emit('reset', { type });\n        switch (type) {\n            case 'light':\n                this.light = 0;\n                break;\n            case 'dark':\n                this.dark = 0;\n                break;\n            case 'aether':\n                this.aether = 0;\n                break;\n            case 'void':\n                this.void = 0;\n                break;\n            case 'earth':\n                this.earth = 0;\n                break;\n            case 'air':\n                this.air = 0;\n                break;\n            case 'water':\n                this.water = 0;\n                break;\n            case 'fire':\n                this.fire = 0;\n                break;\n            case 'wood':\n                this.wood = 0;\n                break;\n            case 'metal':\n                this.metal = 0;\n                break;\n            case 'electric':\n                this.electric = 0;\n                break;\n            case 'ice':\n                this.ice = 0;\n                break;\n            case 'neutral':\n                this.neutral = 0;\n                break;\n        }\n    }\n    get(type) {\n        if (!this.types.has(type)) {\n            throw new Error('Unrecognized Energy type `' + type + '`');\n        }\n        switch (type) {\n            case 'light':\n                return this.pad(this.light);\n                break;\n            case 'dark':\n                return this.pad(this.dark);\n                break;\n            case 'aether':\n                return this.pad(this.aether);\n                break;\n            case 'void':\n                return this.pad(this.void);\n                break;\n            case 'earth':\n                return this.pad(this.earth);\n                break;\n            case 'air':\n                return this.pad(this.air);\n                break;\n            case 'water':\n                return this.pad(this.water);\n                break;\n            case 'fire':\n                return this.pad(this.fire);\n                break;\n            case 'wood':\n                return this.pad(this.wood);\n                break;\n            case 'metal':\n                return this.pad(this.metal);\n                break;\n            case 'electric':\n                return this.pad(this.electric);\n                break;\n            case 'ice':\n                return this.pad(this.ice);\n                break;\n            case 'neutral':\n                return this.pad(this.neutral);\n                break;\n        }\n        return this.pad(0);\n    }\n    pad(num, size = 2) {\n        let s = num + \"\";\n        while (s.length < size)\n            s = \"0\" + s;\n        return s;\n    }\n}\nexports.EnergyPool = EnergyPool;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EVENTS = exports.EventDispatcher = void 0;\nconst events_1 = __importDefault(require(\"events\"));\nclass EventDispatcher {\n    constructor() {\n        this.events = new events_1.default.EventEmitter();\n        this.keys = [];\n    }\n    keyExists(key) {\n        return (this.keys.indexOf(key) >= 0);\n    }\n    emit(key, value) {\n        if (!this.keyExists(key)) {\n            this.keys.push(key);\n        }\n        this.events.emit(key, value);\n    }\n    on(key, fn) {\n        this.events.on(key, (value) => {\n            console.log('EVENT::', key, value, fn);\n            fn(value);\n        });\n    }\n}\nexports.EventDispatcher = EventDispatcher;\nconst EVENTS = new EventDispatcher();\nexports.EVENTS = EVENTS;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Map = void 0;\nclass Map {\n    constructor(ctx, rooms) {\n        this.tiles = {\n            RIVAL_TILE: ['0:8', '0:10', '1:9'],\n            RIVAL_TOWER: [\n                '5:4',\n                '5:14',\n                '11:9',\n                '0:9'\n            ],\n            PLAYER_TOWER: [\n                '21:9',\n                '27:4',\n                '27:14',\n                '32:9',\n            ],\n            PLAYER_TILE: ['32:8', '32:10', '31:9'],\n            WALL: [\n                '16:3', '16:4', '16:5', '16:6',\n                '16:12', '16:13', '16:14', '16:15',\n                '18:7', '18:8', '18:9', '18:10', '18:11',\n                '14:7', '14:8', '14:9', '14:10', '14:11',\n            ],\n            NEUTRAL_TILE: [\n                '15:7', '15:8', '15:9', '15:10', , '15:11',\n                '16:7', '16:8', '16:9', '16:10', , '16:11',\n                '17:7', '17:8', '17:9', '17:10', , '17:11',\n            ]\n        };\n        this.ctx = ctx;\n        this.cols = 33;\n        this.rows = 19;\n        this.rooms = rooms;\n    }\n}\nexports.Map = Map;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EMPTY_PLAYER = exports.Player = void 0;\nconst dice_1 = require(\"./dice\");\nconst energy_pool_1 = require(\"./energy-pool\");\nconst events_1 = require(\"./events\");\nconst audio_1 = require(\"./audio\");\nclass Player {\n    constructor(opts, ctx) {\n        this.boardCards = [];\n        this.deckCards = [];\n        this.dice = [];\n        this.dicePool = [];\n        this.score = 0;\n        this.isCastPending = false;\n        this.hasCasted = false;\n        this.isUnfoldPending = false;\n        this.unfoldCounter = 6;\n        this.isMovePending = false;\n        this.moveCounter = 0;\n        this.isBattlePending = false;\n        this.canRoll = true;\n        this.canEndTurn = true;\n        this.events = events_1.EVENTS;\n        this.avatar = {};\n        this.activeMessage = '';\n        this.ctx = ctx;\n        this.deckCards = opts.deck;\n        if (this['deckCards']) {\n            for (let i = 0; i < this.deckCards.length; i++) {\n                this.deckCards[i].setOwner(this);\n            }\n        }\n        this.name = opts.name;\n        this.color = opts.color;\n        if (this.color === 'red') {\n            this.avatar = {\n                src: 'assets/facesets/gary.png',\n                position: '0 0'\n            };\n        }\n        if (this.color === 'blue') {\n            this.avatar = {\n                src: 'assets/facesets/marcia.png',\n                position: '0 0'\n            };\n        }\n        if (this.color === 'green') {\n            this.avatar = {\n                src: 'assets/facesets/anne.png',\n                position: '0 0'\n            };\n        }\n        if (this.color === 'grey') {\n            this.avatar = {\n                src: 'assets/facesets/clyde.png',\n                position: '0 0'\n            };\n        }\n        this.energyPool = new energy_pool_1.EnergyPool();\n        this.dicePool.push(new dice_1.Dice(0));\n        this.dicePool.push(new dice_1.Dice(0));\n        this.dicePool.push(new dice_1.Dice(1));\n        this.dicePool.push(new dice_1.Dice(1));\n        this.dicePool.push(new dice_1.Dice(2));\n        this.dicePool.push(new dice_1.Dice(2));\n        this.dicePool.push(new dice_1.Dice(3));\n    }\n    sleep(ms = 500) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                try {\n                    setTimeout(() => { resolve(); });\n                }\n                catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n    increaseScore(amount) {\n        this.score += Math.abs(amount);\n    }\n    pickDice(pooledDice) {\n        console.log('pooledDice', pooledDice);\n        console.log(this.dicePool);\n        if (this.dice.length >= 3) {\n            return;\n        }\n        const audio = new audio_1.DGAudio('assets/audio/pickDice.mp3');\n        audio.play();\n        let idx = -1;\n        for (let i = 0; i < this.dicePool.length; i++) {\n            if (this.dicePool[i].rank === pooledDice.rank) {\n                idx = i;\n            }\n        }\n        //const dice = new Dice(pooledDice.rank)\n        this.dice.push(pooledDice);\n        this.dicePool.splice(idx, 1);\n    }\n    unpickDice(idx) {\n        const dice = this.dice.splice(idx, 1);\n        this.dicePool.push(dice[0]);\n    }\n    rollDice() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.canRoll) {\n                return this.toast('I cannot roll right now!');\n            }\n            if (this.dice.length < 3) {\n                return this.toast('I must select 3 dice to roll!');\n            }\n            this.canRoll = false;\n            const audio = new audio_1.DGAudio('assets/audio/diceroll.mp3');\n            audio.play();\n            const promises = [];\n            for (let i = 0; i < this.dice.length; i++) {\n                const dice = this.dice[i];\n                promises.push(dice.roll());\n            }\n            const res = yield Promise.all(promises);\n            console.log('rolled', res);\n            let message = 'Great! Rolled ';\n            const typeToEmoji = {\n                'water': '',\n                'wood': '',\n                'dark': '',\n                'neutral': ''\n            };\n            for (let i = 0; i < res.length; i++) {\n                const dice = this.dice[i];\n                const face = res[i];\n                const energy = dice.getEnergy(face);\n                const value = dice.getValue(face);\n                const image = dice.getCrestImage(face);\n                yield this.sleep(750);\n                console.log(energy, value);\n                this.energyPool.mint(energy, value);\n                message += 'x' + value + typeToEmoji[energy] + ', ';\n                for (let j = 0; j < this.deckCards.length; j++) {\n                    /*\n                    if (this.deckCards[j].cost <= this.energyPool.cst){\n                      this.deckCards[j].canCast = true\n                    }*/\n                }\n                for (let j = 0; j < this.boardCards.length; j++) {\n                    /*\n                    if (this.boardCards[j].cost <= this.energyPool.mov){\n                      this.boardCards[j].canMove = true\n                    }\n            \n                    if (this.boardCards[j].cost <= this.energyPool.btl){\n                      this.boardCards[j].canBattle = true\n                    }*/\n                }\n                console.log({\n                    face, energy, value, image\n                });\n            }\n            this.toast(message);\n            //await this.sleep()\n            //this.dice = []\n            /*\n              const face:string = await dice.roll()\n              const energy = dice.getEnergy(face)\n              const value = dice.getValue(face)\n              const image = dice.getCrestImage(face)\n        \n              console.log({\n                face, energy, value, image\n              })\n            }*/\n        });\n    }\n    endTurn() {\n        // set all flags so nothing is clickeable\n        for (let i = 0; i < this.dice.length; i++) {\n            this.dicePool.push(this.dice[i]);\n        }\n        this.dice = [];\n        this.canRoll = false;\n        this.canEndTurn = false;\n        this.hasCasted = false;\n        for (let i = 0; i < this.boardCards.length; i++) {\n            this.boardCards[i].canCast = false;\n            this.boardCards[i].canMove = false;\n            this.boardCards[i].canBattle = false;\n            this.boardCards[i].hasMoved = false;\n            this.boardCards[i].hasBattled = false;\n            this.boardCards[i].canBeClicked = true;\n            this.boardCards[i].showMenu = false;\n        }\n    }\n    startTurn() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // start a beautiful turn!\n            this.isCastPending = false;\n            this.isMovePending = false;\n            this.isUnfoldPending = false;\n            this.unfoldCounter = 6;\n            this.canRoll = true;\n            this.canEndTurn = true;\n            if (this.color === 'blue') {\n                // starting cpu turn\n                yield this.cpuTurn();\n            }\n        });\n    }\n    cpuTurn() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const dice = new dice_1.Dice(1);\n            this.pickDice(dice);\n            console.log('this.pickDice(dice)');\n            yield this.sleep();\n            this.pickDice(dice);\n            console.log('this.pickDice(dice)');\n            yield this.sleep();\n            this.pickDice(dice);\n            console.log('this.pickDice(dice)');\n            yield this.sleep();\n            yield this.rollDice();\n            console.log('rolled dice');\n            yield this.sleep();\n            this.events.emit('endCpuTurn', true);\n            console.log('emit called');\n            this.endTurn();\n        });\n    }\n    toast(message) {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log('message', message);\n            //this.ctx.\n            const audio = new audio_1.DGAudio('assets/audio/toast.wav');\n            audio.play();\n            this.activeMessage = message;\n            /*\n        \n            await this.sleep(100)\n        \n            const domMessage:any = document.querySelector('.spoken-words:not([open])')\n        \n            domMessage.classList.add('open')\n            const animation = this.ctx.animationCtrl.create()\n            .addElement(domMessage)\n            .duration(500)\n            //.easing('ease-in')\n            //.fromTo('transform', 'translateY(0px)', 'translateY(100vh)')\n            .fromTo('opacity', '0', '1')\n            await animation.play()\n        */\n        });\n    }\n}\nexports.Player = Player;\nexports.EMPTY_PLAYER = new Player({\n    name: 'null',\n    color: 'null',\n    deck: []\n}, {});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Room1 = exports.Room0 = void 0;\nconst room_1 = require(\"./room\");\nconst demo_1 = require(\"./demo\");\nexports.Room0 = new room_1.Room('room-zero', 9, 9, null, 'assets/rooms/room-0.png', [\n    // player start\n    {\n        classes: ['player-tile', 'floor'],\n        x: 7,\n        y: 4,\n    },\n    {\n        classes: ['victory-tile', 'floor'],\n        x: 0,\n        y: 4,\n    },\n    {\n        classes: [''],\n        x: 6,\n        y: 4\n    },\n    {\n        classes: [''],\n        x: 5,\n        y: 4\n    },\n    {\n        classes: [''],\n        x: 4,\n        y: 4\n    },\n    {\n        classes: [''],\n        x: 3,\n        y: 4\n    },\n    {\n        classes: [''],\n        x: 2,\n        y: 4\n    },\n    {\n        classes: [''],\n        x: 1,\n        y: 4\n    },\n]);\nexports.Room1 = new room_1.Room('room-one', 9, 11, { x: 10, y: 4 }, 'assets/rooms/room-1.png', [\n    // player start\n    {\n        classes: ['player-tile', 'floor'],\n        x: 10,\n        y: 4,\n    },\n    {\n        classes: ['victory-tile', 'floor'],\n        x: 0,\n        y: 4,\n    },\n    {\n        classes: [''],\n        x: 6,\n        y: 4\n    },\n    { classes: ['vit-restore', 'floor'], x: 4, y: 4 },\n    // creature-guarded user tiles\n    {\n        classes: ['player-tile', 'creature', 'floor'],\n        x: 9,\n        y: 1,\n        creature: demo_1.cardCollection['sea-wolf-lobstroslly']\n    },\n    {\n        classes: ['player-tile', 'creature', 'floor'],\n        x: 9,\n        y: 7,\n        creature: demo_1.cardCollection['plague-termite'],\n    },\n    {\n        classes: ['player-tile', 'creature', 'floor'],\n        x: 2,\n        y: 0,\n        creature: demo_1.cardCollection['druid-nicholsrita'],\n    },\n    {\n        classes: ['player-tile', 'creature', 'floor'],\n        x: 2,\n        y: 8,\n        creature: demo_1.cardCollection['swamp-nix'],\n    },\n    // walkeable tiles\n    { classes: ['floor'], x: 9, y: 0 },\n    { classes: ['floor'], x: 10, y: 0 },\n    { classes: ['floor'], x: 10, y: 1 },\n    { classes: ['floor'], x: 9, y: 2 },\n    { classes: ['floor'], x: 10, y: 2 },\n    { classes: ['floor'], x: 9, y: 3 },\n    { classes: ['floor'], x: 10, y: 3 },\n    { classes: ['floor'], x: 9, y: 4 },\n    { classes: ['floor'], x: 9, y: 5 },\n    { classes: ['floor'], x: 10, y: 5 },\n    { classes: ['floor'], x: 9, y: 6 },\n    { classes: ['floor'], x: 10, y: 6 },\n    { classes: ['floor'], x: 10, y: 7 },\n    { classes: ['floor'], x: 9, y: 8 },\n    { classes: ['floor'], x: 10, y: 8 },\n    { classes: ['floor'], x: 3, y: 0 },\n    { classes: ['floor'], x: 4, y: 0 },\n    { classes: ['floor'], x: 3, y: 1 },\n    { classes: ['floor'], x: 4, y: 1 },\n    { classes: ['floor'], x: 3, y: 2 },\n    { classes: ['floor'], x: 4, y: 2 },\n    { classes: ['floor'], x: 3, y: 6 },\n    { classes: ['floor'], x: 4, y: 6 },\n    { classes: ['floor'], x: 3, y: 7 },\n    { classes: ['floor'], x: 4, y: 7 },\n    { classes: ['floor'], x: 3, y: 8 },\n    { classes: ['floor'], x: 4, y: 8 },\n    // all empty tiles\n    { classes: [''], x: 8, y: 4 },\n    { classes: [''], x: 7, y: 4 },\n    { classes: [''], x: 6, y: 4 },\n    { classes: [''], x: 5, y: 4 },\n    { classes: [''], x: 4, y: 4 },\n    { classes: [''], x: 3, y: 4 },\n    { classes: [''], x: 2, y: 4 },\n    { classes: [''], x: 1, y: 4 },\n    { classes: [''], x: 0, y: 0 },\n    { classes: [''], x: 1, y: 0 },\n    { classes: [''], x: 5, y: 0 },\n    { classes: [''], x: 6, y: 0 },\n    { classes: [''], x: 7, y: 0 },\n    { classes: [''], x: 8, y: 0 },\n    { classes: [''], x: 0, y: 8 },\n    { classes: [''], x: 1, y: 8 },\n    { classes: [''], x: 5, y: 8 },\n    { classes: [''], x: 6, y: 8 },\n    { classes: [''], x: 7, y: 8 },\n    { classes: [''], x: 8, y: 8 },\n    { classes: [''], x: 0, y: 1 },\n    { classes: [''], x: 1, y: 1 },\n    { classes: [''], x: 2, y: 1 },\n    { classes: [''], x: 5, y: 1 },\n    { classes: [''], x: 6, y: 1 },\n    { classes: [''], x: 7, y: 1 },\n    { classes: [''], x: 8, y: 1 },\n    { classes: [''], x: 0, y: 2 },\n    { classes: [''], x: 1, y: 2 },\n    { classes: [''], x: 2, y: 2 },\n    { classes: [''], x: 6, y: 2 },\n    { classes: [''], x: 7, y: 2 },\n    { classes: [''], x: 8, y: 2 },\n    { classes: [''], x: 0, y: 3 },\n    { classes: [''], x: 1, y: 3 },\n    { classes: [''], x: 2, y: 3 },\n    { classes: [''], x: 3, y: 3 },\n    { classes: [''], x: 4, y: 3 },\n    { classes: [''], x: 5, y: 3 },\n    { classes: [''], x: 6, y: 3 },\n    { classes: [''], x: 7, y: 3 },\n    { classes: [''], x: 8, y: 3 },\n    { classes: [''], x: 0, y: 7 },\n    { classes: [''], x: 1, y: 7 },\n    { classes: [''], x: 2, y: 7 },\n    { classes: [''], x: 5, y: 7 },\n    { classes: [''], x: 6, y: 7 },\n    { classes: [''], x: 7, y: 7 },\n    { classes: [''], x: 8, y: 7 },\n    { classes: [''], x: 0, y: 6 },\n    { classes: [''], x: 1, y: 6 },\n    { classes: [''], x: 2, y: 6 },\n    { classes: [''], x: 6, y: 6 },\n    { classes: [''], x: 7, y: 6 },\n    { classes: [''], x: 8, y: 6 },\n    { classes: [''], x: 0, y: 5 },\n    { classes: [''], x: 1, y: 5 },\n    { classes: [''], x: 2, y: 5 },\n    { classes: [''], x: 3, y: 5 },\n    { classes: [''], x: 4, y: 5 },\n    { classes: [''], x: 5, y: 5 },\n    { classes: [''], x: 6, y: 5 },\n    { classes: [''], x: 7, y: 5 },\n    { classes: [''], x: 8, y: 5 },\n]);\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Room = void 0;\nconst cell_1 = require(\"./cell\");\nconst events_1 = require(\"./events\");\nclass Room {\n    constructor(name, width, height, initialTile = { x: 0, y: 0 }, backgroundUrl, tileSet) {\n        this.rows = [];\n        this.cols = [];\n        this.events = events_1.EVENTS;\n        this.name = name;\n        this.width = width;\n        this.height = height;\n        this.initialTile = initialTile;\n        this.backgroundUrl = backgroundUrl;\n        this.tileSet = tileSet;\n        this.createRows();\n        this.createColumns();\n        this.createCells();\n        this.setCellsDoms();\n    }\n    createRows() {\n        this.rows = [];\n        for (let i = 0; i < this.width; i++) {\n            this.rows.push(i);\n        }\n    }\n    createColumns() {\n        this.cols = [];\n        for (let i = 0; i < this.height; i++) {\n            this.cols.push(i);\n        }\n    }\n    createCells() {\n        this.cells = {};\n        for (let i = 0; i < this.rows.length; i++) {\n            for (let j = 0; j < this.cols.length; j++) {\n                const cell = new cell_1.Cell({\n                    ctx: this.ctx,\n                    x: j,\n                    y: i,\n                    domPrefix: this.name + '-'\n                });\n                this.cells[j + ':' + i] = cell;\n            }\n        }\n    }\n    getCell(x, y) {\n        return this.cells[x + ':' + y];\n    }\n    setCellsDoms() {\n        /*\n        setTimeout(() => {\n          const keys = Object.keys(this.cells)\n          for (let i = 0; i < keys.length; i++) {\n            this.cells[keys[i]].attachDom()\n          }\n        }, 500)*/\n    }\n    setTile(cell, _class) {\n        if (_class.indexOf('tile') >= 0) {\n            cell.addClass('floor');\n        }\n        /*\n            if (!cell.hasClass('floor')){\n              cell.addClass('wall')\n            }*/\n        cell.addClass(_class);\n        return cell;\n    }\n    sleep(ms = 100) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                setTimeout(() => {\n                    resolve();\n                }, ms);\n            });\n        });\n    }\n    paintMap() {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log('room paint map event', this.width, this.height);\n            const tiles = this.tileSet;\n            const visited = [];\n            for (let i = 0; i < tiles.length; i++) {\n                const tile = tiles[i];\n                const cell = this.getCell(tile.x, tile.y);\n                visited.push(cell);\n                for (let j = 0; j < tile.classes.length; j++) {\n                    this.setTile(cell, tile.classes[j]);\n                }\n                if (tile['creature'] && this.ctx) {\n                    this.events.emit('freeCast', {\n                        card: tile.creature,\n                        cell\n                    });\n                    //this.ctx.lib.board.freeCast(tile.creature, cell)\n                }\n            }\n            for (let i = 0; i < this.rows.length; i++) {\n                for (let j = 0; j < this.cols.length; j++) {\n                    const cell = this.getCell(j, i);\n                    let found = false;\n                    for (let m = 0; m < visited.length; m++) {\n                        const seen = visited[m];\n                        if (seen.x === cell.x && seen.y === cell.y) {\n                            // been visited, skip\n                            found = true;\n                        }\n                    }\n                    if (!found) {\n                        cell.addClass('wall');\n                        //cell.addClass('tile')\n                    }\n                }\n            }\n            /*\n            const keys = Object.keys(this.map.tiles)\n            for (let i = 0; i < keys.length; i++) {\n              let type = keys[i]\n              let cells = this.map.tiles[type]\n        \n              for (let j = 0; j < cells.length; j++) {\n                //this.setTile(i + ':' + j, 'tile')\n                //this.setTile(i + ':' + j, this.classes[type])\n                 // this.setTile(j + ':' + i, 'tile')\n                 // this.setTile(j + ':' + i, this.classes[type])\n                 this.setTile(cells[j], 'tile')\n                 this.setTile(cells[j], this.classes[type])\n              }\n            }*/\n        });\n    }\n    setCtx(ctx) {\n        this.ctx = ctx;\n        for (let i = 0; i < this.rows.length; i++) {\n            for (let j = 0; j < this.cols.length; j++) {\n                const cell = this.getCell(j, i);\n                cell.setCtx(ctx);\n            }\n        }\n    }\n    getCells() {\n        return this.cells;\n    }\n    clearClass(_class) {\n        console.log('clearClass called for', _class);\n        const keys = Object.keys(this.cells);\n        for (let i = 0; i < keys.length; i++) {\n            const cell = this.cells[keys[i]];\n            cell.rmClass(_class);\n        }\n        const items = document.querySelectorAll('.' + _class);\n        for (let i = 0; i < items.length; i++) {\n            items[i].classList.remove(_class);\n        }\n    }\n    clearClickAreas() {\n        const keys = Object.keys(this.cells);\n        for (let i = 0; i < keys.length; i++) {\n            this.cells[keys[i]].canBeClicked = false;\n        }\n    }\n}\nexports.Room = Room;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Storage = void 0;\nclass Storage {\n    constructor(localStorage, namespaces) {\n        this.keys = {};\n        this.data = {};\n        this.ls = localStorage;\n        this.namespaces = namespaces;\n        for (let i = 0; i < this.namespaces.length; i++) {\n            this.read(namespaces[i]);\n        }\n    }\n    // for later use in hashed tables. for now returns as capitalized\n    parseKey(key) {\n        return key.toUpperCase();\n    }\n    // writes data on every `set` down to localStorage\n    write(namespace) {\n        const key = this.parseKey(namespace);\n        const data = JSON.stringify(this.data[key]);\n        return this.ls.setItem(key, data);\n    }\n    // fetches and populates the object from localStorage\n    read(namespace) {\n        const key = this.parseKey(namespace);\n        const json = this.ls.getItem(key);\n        if (!json) {\n            return {};\n        }\n        const data = JSON.parse(json);\n        this.keys = Object.keys(data);\n        this.data = data;\n        return data;\n    }\n    has(namespace, key) {\n        return (this.keys[namespace].indexOf(key) >= 0);\n    }\n    set(namespace, key, value) {\n        if (!this.has(namespace, key)) {\n            this.keys[namespace].push(key);\n            this.data[namespace][key] = value;\n            this.write(namespace);\n        }\n    }\n    get(namespace, key) {\n        return this.data[namespace][key];\n    }\n}\nexports.Storage = Storage;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Tutorial = void 0;\nconst events_1 = require(\"./events\");\nconst audio_1 = require(\"./audio\");\nclass Tutorial {\n    constructor(red, blue) {\n        this.events = events_1.EVENTS;\n        this.emitNonce = 0;\n        this.emits = [\n            {\n                text: 'Hello! My name is Marla. Welcome to Dice Guardians. Click the \"Got it\" button to advance in the tutorial',\n            },\n            {\n                text: 'Let\\'s start with the basics! I will point out parts of the screen with a white aura like the one around my Player Card',\n                target: '.user-card-blue',\n            },\n            {\n                text: 'You can see your stats and avatar in the Player Card at the bottom right corner',\n                target: '.user-card-red',\n            },\n            {\n                text: 'Your name and score. As you advance through the dungeon it will increase',\n                target: '.user-card-red .user-chips',\n            },\n            {\n                text: 'This is your energy pool. It fills by rolling your dice.',\n                target: '.user-card-red app-energy-pool',\n            },\n            {\n                text: 'Your dice pool acts as a deck of dice. You can see each of their 6 faces by placing your mouse over them. Click on them to add them to the rolling area.',\n                target: '.user-card-red .player-dice-pool',\n            },\n            {\n                text: 'Each player rolls 3 dice at the start of their turn. The collected energy will serve to summon creatures and activate their abilities',\n                target: '.user-card-red .selected-dice',\n            },\n            {\n                text: 'Now click on \"ROLL DICE\" to test your luck and collect the energy.',\n                target: '.user-card-red .rollDiceButton',\n            },\n            {\n                text: 'Amazing! Your energy pool has increased!',\n                target: '.user-card-red app-energy-pool',\n            },\n            {\n                text: 'Get a clear view of your deck using the \"Toggle Deck View\" button underneath',\n                target: '.viewDeckButton',\n            },\n            {\n                text: 'Now it\\'s time to play some cards. Place your mouse over any to open their menu. Use the \"View\" option to open the fullscreen card inspector. If you have enough energy of their type a \"Cast\" button will appear as well',\n                target: '.bottom-drawer'\n            },\n            {\n                text: 'Click on an empty dungeon tile to summon your creature',\n                target: 'app-board'\n            },\n            {\n                text: 'Creatures emerge from a cube-like egg. Select 5 more tiles where to place each face of the egg and extend your dungeon path',\n                target: 'app-board'\n            },\n            {\n                text: 'After all 6 faces are unfolded your turn continues. Every creature can attack once and move once every turn. Let\\'s start with the latter. Click on your creature to open it\\'s menu. Then, select [Move]',\n                target: 'app-board-battler'\n            },\n            {\n                text: 'The objective of this first dungeon is to conquest the blue tile in front of the door. Go!',\n                target: '.rival-tile'\n            },\n        ];\n        this.displayButton = \"block\";\n        this.red = red;\n        this.blue = blue;\n        this.listeners();\n    }\n    listeners() {\n        let self = this;\n        /*\n            self.events.emit('tutorial', {\n              text : 'Hello and welcome to Dice Guardians!',\n            })\n        \n            self.events.emit('tutorial', {\n              text: 'My name is Marcia and I\\'ll guide you on your first game',\n            })\n        \n            self.events.emit('tutorial', {\n              text: 'This is a very early demo so Beware of Dragons! '\n        \n            })*/\n        this.events.on('splashHidden', (payload) => __awaiter(this, void 0, void 0, function* () {\n            //await self.sleep(1000)\n            self.forward();\n        }));\n        this.events.on('castBg', (payload) => {\n            console.log('tutorial castBg', payload);\n        });\n        this.events.on('castFn', (payload) => {\n            console.log('tutorial castFn', payload);\n        });\n        this.events.on('moveBg', (payload) => {\n            console.log('tutorial moveBg', payload);\n        });\n        this.events.on('moveStep', (payload) => {\n            console.log('tutorial moveFn', payload);\n            if (payload.cell.x === 0 && payload.cell.y === 4) {\n                console.log('first');\n                self.emits.unshift({\n                    text: 'Congratulations! You have conquered the first of the 3 rooms in the Demo. Let\\'s advance your creature to the next room',\n                });\n                self.events.emit('roomFinished', {});\n                self.forward();\n            }\n        });\n        this.events.on('unfold', (payload) => {\n            console.log('tutorial unfold', payload);\n        });\n    }\n    sleep(ts = 1000) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                setTimeout(() => {\n                    resolve();\n                }, ts);\n            });\n        });\n    }\n    forward() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.emits.length < this.emitNonce) {\n                this.displayButton = \"none\";\n                return;\n            }\n            this.displayButton = \"block\";\n            const item = this.emits[this.emitNonce];\n            this.emitNonce += 1;\n            const audio = new audio_1.DGAudio('assets/audio/Decision2.wav');\n            audio.play();\n            if (item['target']) {\n                const el = document.querySelector(item.target);\n                if (!el) {\n                    throw new Error('target not found');\n                }\n                const prev = document.querySelectorAll('.tutorialActive');\n                for (let i = 0; i < prev.length; i++) {\n                    prev[i].classList.remove('tutorialActive');\n                }\n                el.classList.add('tutorialActive');\n            }\n            this.events.emit('tutorial', item);\n            /*\n            self.events.emit('tutorial', {\n              text: 'This is your energy pool. At the start of every turn each player rolls 3 dice to collect energy'\n            })\n        \n            self.events.emit('tutorial', {\n              text: 'This is your dice pool. Select up to three dice by clicking on them'\n            })\n        \n            self.events.emit('tutorial', {\n              text: 'Click the \"ROLL DICE\" button to go for a spin and collect some energy'\n            })*/\n        });\n    }\n    backward() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.emitNonce <= 0) {\n                //this.displayButton=\"none\"\n                return;\n            }\n            this.displayButton = \"block\";\n            const item = this.emits[this.emitNonce];\n            this.emitNonce -= 1;\n            const audio = new audio_1.DGAudio('assets/audio/Decision2.wav');\n            audio.play();\n            if (item['target']) {\n                const el = document.querySelector(item.target);\n                if (!el) {\n                    throw new Error('target not found');\n                }\n                const prev = document.querySelectorAll('.tutorialActive');\n                for (let i = 0; i < prev.length; i++) {\n                    prev[i].classList.remove('tutorialActive');\n                }\n                el.classList.add('tutorialActive');\n            }\n            this.events.emit('tutorial', item);\n        });\n    }\n}\nexports.Tutorial = Tutorial;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.User = void 0;\nclass User {\n    constructor(ctx) {\n        this.ctx = ctx;\n    }\n    register(username, email, password, voucher) {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log('register init');\n            const res = yield this.ctx.http.post('register', {\n                username, email, password, voucher\n            });\n            console.log('register', res);\n        });\n    }\n}\nexports.User = User;\n","var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-action-sheet.entry.js\",\n\t\t\"common\",\n\t\t0\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-alert.entry.js\",\n\t\t\"common\",\n\t\t1\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-app_8.entry.js\",\n\t\t\"common\",\n\t\t2\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-avatar_3.entry.js\",\n\t\t\"common\",\n\t\t3\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-back-button.entry.js\",\n\t\t\"common\",\n\t\t4\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-backdrop.entry.js\",\n\t\t5\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-button_2.entry.js\",\n\t\t\"common\",\n\t\t6\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-card_5.entry.js\",\n\t\t\"common\",\n\t\t7\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-checkbox.entry.js\",\n\t\t\"common\",\n\t\t8\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-chip.entry.js\",\n\t\t\"common\",\n\t\t9\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-col_3.entry.js\",\n\t\t10\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-datetime_3.entry.js\",\n\t\t\"common\",\n\t\t11\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-fab_3.entry.js\",\n\t\t\"common\",\n\t\t12\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-img.entry.js\",\n\t\t13\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-infinite-scroll_2.entry.js\",\n\t\t14\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-input.entry.js\",\n\t\t\"common\",\n\t\t15\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item-option_3.entry.js\",\n\t\t\"common\",\n\t\t16\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item_8.entry.js\",\n\t\t\"common\",\n\t\t17\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-loading.entry.js\",\n\t\t\"common\",\n\t\t18\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-menu_3.entry.js\",\n\t\t\"common\",\n\t\t19\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-modal.entry.js\",\n\t\t\"common\",\n\t\t20\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-nav_2.entry.js\",\n\t\t\"common\",\n\t\t21\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-popover.entry.js\",\n\t\t\"common\",\n\t\t22\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-progress-bar.entry.js\",\n\t\t\"common\",\n\t\t23\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-radio_2.entry.js\",\n\t\t\"common\",\n\t\t24\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-range.entry.js\",\n\t\t\"common\",\n\t\t25\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-refresher_2.entry.js\",\n\t\t\"common\",\n\t\t26\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-reorder_2.entry.js\",\n\t\t\"common\",\n\t\t27\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-ripple-effect.entry.js\",\n\t\t28\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-route_4.entry.js\",\n\t\t\"common\",\n\t\t29\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-searchbar.entry.js\",\n\t\t\"common\",\n\t\t30\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-segment_2.entry.js\",\n\t\t\"common\",\n\t\t31\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-select_3.entry.js\",\n\t\t\"common\",\n\t\t32\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-slide_2.entry.js\",\n\t\t33\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-spinner.entry.js\",\n\t\t\"common\",\n\t\t34\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-split-pane.entry.js\",\n\t\t35\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-tab-bar_2.entry.js\",\n\t\t\"common\",\n\t\t36\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-tab_2.entry.js\",\n\t\t\"common\",\n\t\t37\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-text.entry.js\",\n\t\t\"common\",\n\t\t38\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-textarea.entry.js\",\n\t\t\"common\",\n\t\t39\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toast.entry.js\",\n\t\t\"common\",\n\t\t40\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toggle.entry.js\",\n\t\t\"common\",\n\t\t41\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-virtual-scroll.entry.js\",\n\t\t42\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./node_modules/@ionic/core/dist/esm lazy recursive ^\\\\.\\\\/.*\\\\.entry\\\\.js$ include: \\\\.entry\\\\.js$ exclude: \\\\.system\\\\.entry\\\\.js$\";\nmodule.exports = webpackAsyncContext;","export default \"<ion-app>\\n  <ion-router-outlet></ion-router-outlet>\\n</ion-app>\\n\";","import { NgModule } from '@angular/core';\nimport { PreloadAllModules, RouterModule, Routes } from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: 'home',\n    loadChildren: () => import('./home/home.module').then( m => m.HomePageModule)\n  },\n  {\n    path: '',\n    redirectTo: 'home',\n    pathMatch: 'full'\n  },\n  {\n    path: 'lounge',\n    loadChildren: () => import('./pages/lounge/lounge.module').then( m => m.LoungePageModule)\n  },\n  {\n    path: 'battlefield',\n    loadChildren: () => import('./pages/battlefield/battlefield.module').then( m => m.BattlefieldPageModule)\n  },\n  {\n    path: 'card-viewer',\n    loadChildren: () => import('./pages/card-viewer/card-viewer.module').then( m => m.CardViewerPageModule)\n  },\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forRoot(routes, { preloadingStrategy: PreloadAllModules })\n  ],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component } from '@angular/core';\n\nimport { Platform } from '@ionic/angular';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: 'app.component.html',\n  styleUrls: ['app.component.scss']\n})\nexport class AppComponent {\n  constructor(\n    private platform: Platform,\n    private splashScreen: SplashScreen,\n    private statusBar: StatusBar\n  ) {\n    this.initializeApp();\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { RouteReuseStrategy } from '@angular/router';\n\nimport { IonicModule, IonicRouteStrategy } from '@ionic/angular';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\n\nimport { AppComponent } from './app.component';\nimport { AppRoutingModule } from './app-routing.module';\n\nimport { HttpClientModule  } from '@angular/common/http'\nimport {DiceGuardiansModuleService} from './services/dice-guardians-module.service'\n\n\n\n@NgModule({\n  declarations: [AppComponent],\n  entryComponents: [],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(),\n    AppRoutingModule,\n    HttpClientModule\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    { provide: RouteReuseStrategy, useClass: IonicRouteStrategy },\n    DiceGuardiansModuleService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n","import { HttpClient, HttpHeaders } from '@angular/common/http'\nimport { Platform } from '@ionic/angular'\nimport { Injectable } from '@angular/core'\n\nimport { Animation, AnimationController } from '@ionic/angular'\n\nimport {\n  User,\n  Http,\n  Dice,\n  Board,\n  Map,\n  Player,\n  DEFAULT_RED,\n  DEFAULT_BLUE,\n  Storage,\n\n\n  Room,\n  Room0,\n  Room1,\n\n  TUTORIAL,\n  Tutorial,\n\n  Audio\n} from 'dice-guardians-module'\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DiceGuardiansModuleService {\n  httpClient:HttpClient\n\n  http:Http\n\n  user:User\n  board:Board\n  map:Map\n\n  baseUrl:string\n  platform:Platform\n/*\n  storage:Storage = new Storage(\n    localStorage,\n    ['cards', 'abilities']\n  )\n  */\n\n  animationCtrl: AnimationController\n\n  constructor(\n    httpClient:HttpClient,\n    animationCtrl: AnimationController,\n    platform:Platform\n  ) {\n    const self = this\n    this.platform = platform\n\n    this.animationCtrl = animationCtrl\n\n\n    this.map = new Map(this, [\n      //Room0\n      Room1\n    ])\n\n    this.board = new Board(\n      this,\n      [Room0, Room1],\n      {\n        red : new Player(DEFAULT_RED, this),\n        blue : new Player(DEFAULT_BLUE, this)\n      },\n      true\n    )\n\n\n    this.board.players.red.energyPool.mint('water', 3)\n    this.board.players.red.energyPool.mint('wood', 3)\n    this.board.players.red.energyPool.mint('neutral', 1)\n\n    this.board.players.blue.energyPool.mint('fire', 3)\n    this.board.players.blue.energyPool.mint('metal', 1)\n    this.board.players.blue.energyPool.mint('light', 2)\n\n\n    this.platform.ready().then(() => {\n      this.board.events.emit('ready', {})\n    })\n    /*\n    this.httpClient = httpClient\n\n    this.baseUrl = 'http://' + window.location.hostname + ':3000/'\n\n    this.http = Http(this)\n    // instantiate the goddamn user\n    this.user = new User(this)*/\n\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n","/* (ignored) */"]}