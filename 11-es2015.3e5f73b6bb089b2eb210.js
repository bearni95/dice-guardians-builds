(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"1+Ht":function(t,e,n){"use strict";n.r(e),n.d(e,"BattlefieldPageModule",(function(){return rt}));var o=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),c=n("tyNb"),a=n("mrSG"),l=n("fXoL"),s=n("Sjme");let d=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Fb({type:t,selectors:[["app-chip"]],inputs:{text:"text",color:"color",width:"width"},decls:2,vars:1,consts:[[1,"chip"]],template:function(t,e){1&t&&(l.Ob(0,"div",0),l.pc(1),l.Nb()),2&t&&(l.zb(1),l.rc(" ",e.text,"\n"))},styles:[".chip[_ngcontent-%COMP%]{width:100%;padding:5px 10px;background-color:#546e7a;border:1px solid #263238;border-radius:50px;text-align:center;font-size:.95em}"]}),t})();function p(t,e){if(1&t&&l.Mb(0,"div"),2&t){const t=l.Yb();l.lc("left:",-1*t.card.offset.x,"px;bottom: ",-1*t.card.offset.y,"px;"),l.Bb("creature-shadow creature-shadow-",t.player.color,"")}}function b(t,e){if(1&t){const t=l.Pb();l.Ob(0,"div",7),l.Ob(1,"div"),l.pc(2),l.Nb(),l.Ob(3,"div",8),l.Mb(4,"div",9),l.Ob(5,"div",10),l.pc(6),l.Nb(),l.Nb(),l.Ob(7,"div",11),l.Wb("click",(function(){l.hc(t);const e=l.Yb();return e.board.cardModal(e.card),e.toggleTooltip()})),l.pc(8,"View Card"),l.Nb(),l.Ob(9,"div",11),l.Wb("click",(function(){return l.hc(t),l.Yb().toggleTooltip()})),l.pc(10,"[Close]"),l.Nb(),l.Nb()}if(2&t){const t=l.Yb();l.zb(1),l.Bb("menu-item h1 menu-item-",t.player.color,""),l.zb(1),l.qc(t.card.title),l.zb(2),l.kc("width:",t.card.getVitPercent(),"%;"),l.zb(2),l.sc("VIT: ",t.card.boardStats.vit,"/",t.card.vit,"")}}function g(t,e){if(1&t){const t=l.Pb();l.Ob(0,"app-chip",15),l.Wb("click",(function(){l.hc(t);const e=l.Yb(2);return e.toggleTooltip(),e.board.moveBg(e.player,e.card,!0)})),l.Nb()}if(2&t){const t=l.Yb(2);l.dc("text","MOV: ",t.card.boardStats.mov,"")}}function u(t,e){if(1&t&&(l.Ob(0,"div",8),l.pc(1),l.Nb()),2&t){const t=l.Yb(2);l.zb(1),l.rc(" Move (",t.card.boardStats.mov,") ")}}function f(t,e){if(1&t){const t=l.Pb();l.Ob(0,"app-chip",15),l.Wb("click",(function(){l.hc(t);const e=l.Yb(2);return e.toggleTooltip(),e.board.battleBg(e.player,e.card)})),l.Nb()}if(2&t){const t=l.Yb(2);l.dc("text","BTL: ",t.card.boardStats.btl,"")}}function h(t,e){if(1&t&&(l.Ob(0,"div",8),l.pc(1),l.Nb()),2&t){const t=l.Yb(2);l.zb(1),l.rc(" Battle (",t.card.boardStats.btl,") ")}}function x(t,e){if(1&t&&(l.Ob(0,"div",12),l.oc(1,g,1,1,"app-chip",13),l.oc(2,u,2,1,"div",14),l.oc(3,f,1,1,"app-chip",13),l.oc(4,h,2,1,"div",14),l.Ob(5,"div",8),l.pc(6),l.Nb(),l.Ob(7,"div",8),l.pc(8),l.Nb(),l.Nb()),2&t){const t=l.Yb();l.zb(1),l.bc("ngIf",!t.board.isRival(t.player)&&!t.card.hasMoved),l.zb(1),l.bc("ngIf",t.board.isRival(t.player)||t.card.hasMoved),l.zb(1),l.bc("ngIf",!t.board.isRival(t.player)&&!t.card.hasBattled),l.zb(1),l.bc("ngIf",t.board.isRival(t.player)||t.card.hasBattled),l.zb(2),l.rc(" Vitality: ",t.card.vit," "),l.zb(2),l.rc(" Range: ",t.card.boardStats.rng," ")}}function m(t,e){if(1&t){const t=l.Pb();l.Ob(0,"div",16),l.Mb(1,"div",17),l.Mb(2,"div",18),l.Ob(3,"ion-img",19),l.Wb("click",(function(){l.hc(t);const e=l.Yb();return e.board.cancelMove(e.player,e.card)})),l.Nb(),l.Mb(4,"div",20),l.Mb(5,"div",21),l.Ob(6,"div",22),l.pc(7),l.Nb(),l.Nb()}if(2&t){const t=l.Yb();l.lc("left:",-1*t.card.offset.x,"px;bottom: ",-1*t.card.offset.y,"px;"),l.zb(7),l.qc(t.player.moveCounter+1)}}function O(t,e){if(1&t){const t=l.Pb();l.Ob(0,"div",16),l.Mb(1,"div",17),l.Mb(2,"div",18),l.Ob(3,"ion-img",23),l.Wb("click",(function(){l.hc(t);const e=l.Yb();return e.board.cancelBattle(e.player,e.card)})),l.Nb(),l.Mb(4,"div",20),l.Mb(5,"div",21),l.Ob(6,"div",22),l.pc(7),l.Nb(),l.Nb()}if(2&t){const t=l.Yb();l.lc("left:",-1*t.card.offset.x,"px;bottom: ",-1*t.card.offset.y,"px;"),l.zb(7),l.qc(t.card.btl)}}function C(t,e){if(1&t&&l.Mb(0,"div"),2&t){const t=l.Yb();l.Bb("attack-animation attack-animation-",t.card.id,"")}}const M=function(t,e,n){return{"rival-illustration":t,"click-events-enable":e,"click-events-disable":n}};let y=(()=>{class t{constructor(t){this.tooltipClass="hidden",this.currentVit=0,this.animationCtrl=t}ngOnInit(){this.currentVit=this.card.vit}vitPercent(){return Math.floor(100*this.currentVit/this.card.vit)}magnify(t){this.board.cardModal(t)}toggleTooltip(){if(console.log("toggleTooltip"),this.board.players.red.isBattlePending&&this.board.isRival(this.player))return console.log("calling battlefn"),void this.board.battleFn(this.board.players.red,this.card);let t=this.board.getAllBoardCards();for(let e=0;e<t.length;e++)t[e].canBeClicked=!t[e].canBeClicked;this.card.canBeClicked=!this.card.canBeClicked,this.card.showMenu=!this.card.showMenu}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(r.a))},t.\u0275cmp=l.Fb({type:t,selectors:[["app-board-battler"]],inputs:{card:"card",board:"board",player:"player"},decls:9,vars:15,consts:[[1,"board-battler"],[3,"class","style",4,"ngIf"],[1,"illustration",3,"src","ngClass","click"],["class","board-card-menu click-events-enable card-top-menu",4,"ngIf"],["class","board-card-menu click-events-enable card-right-menu",4,"ngIf"],["class","action-ring",3,"style",4,"ngIf"],[3,"class",4,"ngIf"],[1,"board-card-menu","click-events-enable","card-top-menu"],[1,"menu-item"],[1,"progress-bar"],[1,"progress-bar-text"],[1,"menu-item",3,"click"],[1,"board-card-menu","click-events-enable","card-right-menu"],[3,"text","click",4,"ngIf"],["class","menu-item",4,"ngIf"],[3,"text","click"],[1,"action-ring"],[1,"top-triangle"],[1,"left-triangle"],["src","assets/icons/mov-w-t.png",1,"action-img","click-events-enable",3,"click"],[1,"bottom-triangle"],[1,"right-triangle"],[1,"step-counter"],["src","assets/icons/btl-w-t.png",1,"action-img","click-events-enable",3,"click"]],template:function(t,e){1&t&&(l.Ob(0,"div",0),l.oc(1,p,1,7,"div",1),l.Ob(2,"ion-img",2),l.Wb("click",(function(){return e.toggleTooltip()})),l.Nb(),l.oc(3,b,11,9,"div",3),l.oc(4,x,9,6,"div",4),l.oc(5,m,8,5,"div",5),l.oc(6,O,8,5,"div",5),l.Nb(),l.Mb(7,"div"),l.oc(8,C,1,3,"div",6)),2&t&&(l.zb(1),l.bc("ngIf",!e.player.isBattlePending&&!e.player.isMovePending),l.zb(1),l.cc("src",e.card.getBattlerUrl()),l.bc("ngClass",l.fc(11,M,e.board.isRival(e.player),e.card.canBeClicked,!e.card.canBeClicked)),l.zb(1),l.bc("ngIf",e.card.showMenu||e.card.receivingAttack),l.zb(1),l.bc("ngIf",e.card.showMenu),l.zb(1),l.bc("ngIf",e.player.isMovePending&&e.board.pendingCard.id===e.card.id),l.zb(1),l.bc("ngIf",e.player.isBattlePending&&e.board.pendingCard.id===e.card.id),l.zb(1),l.Bb("cast-animation cast-animation-",e.card.id,""),l.zb(1),l.bc("ngIf",e.card.receivingAttack))},directives:[o.j,o.h,d],styles:['.board-battler[_ngcontent-%COMP%]{width:100px;height:100px;z-index:9999}.board-battler[_ngcontent-%COMP%], .tooltip[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.tooltip[_ngcontent-%COMP%]{position:absolute;height:80px;background-color:rgba(0,0,0,.8);overflow:hidden;text-align:center;font-size:.8em;width:100%;padding:3px;top:-80px;border-radius:5px}.edge-container[_ngcontent-%COMP%]{width:100%;height:50%;display:flex;justify-content:space-around;align-items:center}ion-img[_ngcontent-%COMP%]{height:100%}.board-edge[_ngcontent-%COMP%]{height:100%;max-width:30%;background-color:transparent;padding:3px;border-radius:5px}.can-move[_ngcontent-%COMP%]{background-color:#fa9d1c}.can-attack[_ngcontent-%COMP%]{background-color:#f85859}.can-deffend[_ngcontent-%COMP%]{background-color:#2d3e48}.can-special[_ngcontent-%COMP%]{background-color:#f9fdfe}.card-name[_ngcontent-%COMP%]{width:100%;height:50%;display:flex;justify-content:center;align-items:center}.illustration[_ngcontent-%COMP%]{-webkit-filter:drop-shadow(0 0 5px #fff);filter:drop-shadow(0 0 5px white)}.rival-creature[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]{transform:scaleX(-1)}ion-progress-bar[_ngcontent-%COMP%]{height:12px}.vit-txt[_ngcontent-%COMP%]{position:absolute;top:2px;z-index:10;font-size:.8em}.tooltip.hidden[_ngcontent-%COMP%]{display:none}.tooltip.visible[_ngcontent-%COMP%]{display:flex}.board-card-menu[_ngcontent-%COMP%]{position:absolute;width:320px;background-color:transparent;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;transition:.3s}.board-card-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{position:relative;width:100%;background-color:rgba(55,71,79,.6);border:1px solid #78909c;border-bottom-color:#607d8b;display:flex;justify-content:center;align-items:center;text-align:center}.board-card-menu[_ngcontent-%COMP%]   .menu-item.h1[_ngcontent-%COMP%]{font-weight:700}.card-right-menu[_ngcontent-%COMP%]{left:100%;top:0;width:160px}.card-top-menu[_ngcontent-%COMP%]{top:-100px;width:300px}.board-card-menu.hidden[_ngcontent-%COMP%]{display:none}.board-card-menu.visible[_ngcontent-%COMP%]{display:flex}.rival-illustration[_ngcontent-%COMP%]{transform:scaleX(-1)}.action-ring[_ngcontent-%COMP%]{position:absolute;border:5px solid #263238;border-radius:100%;width:100px;height:100px}.top-triangle[_ngcontent-%COMP%]{border-bottom:10px solid #263238;top:-21px}.bottom-triangle[_ngcontent-%COMP%], .top-triangle[_ngcontent-%COMP%]{width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;position:absolute;left:calc(50% - 8.5px)}.bottom-triangle[_ngcontent-%COMP%]{border-top:10px solid #263238;bottom:-40px}.left-triangle[_ngcontent-%COMP%]{border-right:10px solid #263238;left:-13px}.left-triangle[_ngcontent-%COMP%], .right-triangle[_ngcontent-%COMP%]{width:0;height:0;border-top:10px solid transparent;border-bottom:10px solid transparent;position:absolute;top:calc(50% - 8.5px)}.right-triangle[_ngcontent-%COMP%]{border-left:10px solid #263238;right:-13px}.action-ring[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:64px;bottom:-32px;left:calc(50% - 32px);height:64px;padding:10px}.action-ring[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%], .step-counter[_ngcontent-%COMP%]{position:absolute;background-color:#263238;border-radius:100%;border:3px solid #263238}.step-counter[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;justify-content:center;align-items:center;font-size:1.1em;left:calc(50% - 16px);top:-16px}.progress-bar[_ngcontent-%COMP%]{position:absolute;height:100%;background-color:#006400;left:0;box-shadow:inset 0 0 5px #90ee90;transition:.3s}.progress-bar-text[_ngcontent-%COMP%]{color:#fff;z-index:1}app-chip[_ngcontent-%COMP%]{width:100%}.menu-item-red[_ngcontent-%COMP%]{background-color:#eb445a!important}.menu-item-blue[_ngcontent-%COMP%]{background-color:#3880ff!important}.creature-shadow[_ngcontent-%COMP%]{position:absolute;background-color:rgba(0,0,0,.5);bottom:0;width:60%;margin-left:20%;height:30px;border-radius:100%}.creature-shadow-red[_ngcontent-%COMP%]{border:2.5px solid #eb445a}.creature-shadow-blue[_ngcontent-%COMP%]{border:2.5px solid #3880ff}.action-img[_ngcontent-%COMP%]:hover:after{width:64px;height:64px;content:"x";background-color:#263238;top:-3px;left:-3px;position:absolute;border-radius:100%;font-size:3em;text-align:center;line-height:56px}.cast-animation[_ngcontent-%COMP%]{position:absolute;background-image:url(/assets/spritesheets/cast.png);top:calc(50% - 100px);left:calc(50% - 100px);width:200px;height:200px;background-size:1000px 600px;z-index:9999;-webkit-animation:playCastX .3s steps(5) infinite,playCastY .9s steps(3) infinite,playHide .9s steps(5) forwards;animation:playCastX .3s steps(5) infinite,playCastY .9s steps(3) infinite,playHide .9s steps(5) forwards}@-webkit-keyframes playCastX{0%{background-position-x:0}to{background-position-x:-1000px}}@keyframes playCastX{0%{background-position-x:0}to{background-position-x:-1000px}}@-webkit-keyframes playCastY{0%{background-position-y:0}to{background-position-y:-600px}}@keyframes playCastY{0%{background-position-y:0}to{background-position-y:-600px}}@-webkit-keyframes playHide{0%{opacity:1}to{opacity:0}}@keyframes playHide{0%{opacity:1}to{opacity:0}}.attack-animation[_ngcontent-%COMP%]{position:absolute;background-image:url(/assets/spritesheets/attack.png);top:calc(50% - 100px);left:calc(50% - 100px);width:200px;height:200px;background-size:600px 200px;z-index:9999;-webkit-animation:playAttackX .15s steps(3) infinite;animation:playAttackX .15s steps(3) infinite}@-webkit-keyframes playAttackX{0%{background-position-x:0}to{background-position-x:-600px}}@keyframes playAttackX{0%{background-position-x:0}to{background-position-x:-600px}}']}),t})();function P(t,e){if(1&t&&l.Mb(0,"div",11),2&t){const t=l.Yb().$implicit;l.nc("\n            background-image:url(",t.sprite.url,");\n            background-size:",2*t.sprite.width,"px ",2*t.sprite.height,"px;\n            background-position: ",-64*t.sprite.x,"px ",-64*t.sprite.y,"px;\n          ")}}function v(t,e){1&t&&l.Mb(0,"div",12)}function _(t,e){if(1&t){const t=l.Pb();l.Ob(0,"div",8),l.Wb("click",(function(){l.hc(t);const n=e.$implicit,o=l.Yb(3);return n.click(o.lib.board.players.red)})),l.oc(1,P,1,7,"div",9),l.oc(2,v,1,0,"div",10),l.Nb()}if(2&t){const t=e.$implicit;l.Cb("cell ",t.classes.join(" ")," ",t.domPrefix,"x-",t.x,"-y-",t.y,""),l.zb(1),l.bc("ngIf",t.sprite),l.zb(1),l.bc("ngIf",""===t.src)}}const w=function(t){return[t]};function k(t,e){if(1&t&&(l.Ob(0,"div",6),l.oc(1,_,3,8,"div",7),l.Nb()),2&t){const t=e.$implicit,n=l.Yb().$implicit,o=l.Yb();l.Bb("y-",t,""),l.zb(1),l.bc("ngForOf",l.ec(4,w,o.lib.board.getCell(n,t)))}}function z(t,e){if(1&t&&(l.Ob(0,"div",4),l.oc(1,k,2,6,"div",5),l.Nb()),2&t){const t=e.$implicit,n=l.Yb();l.Bb("x-",t,""),l.zb(1),l.bc("ngForOf",n.lib.board.getActiveRoom().rows)}}function N(t,e){if(1&t&&l.Mb(0,"app-board-battler",13),2&t){const t=e.$implicit,n=l.Yb();l.lc("top:",t.y,"px;left:",t.x,"px;"),l.bc("card",t)("board",n.lib.board)("player",n.lib.board.players.blue)}}function I(t,e){if(1&t&&l.Mb(0,"app-board-battler",13),2&t){const t=e.$implicit,n=l.Yb();l.lc("top:",t.y,"px;left:",t.x,"px;"),l.bc("card",t)("board",n.lib.board)("player",n.lib.board.players.red)}}let Y=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Fb({type:t,selectors:[["app-board"]],inputs:{lib:"lib"},decls:5,vars:4,consts:[[1,"ion-play-area"],[1,"board-background",3,"src"],["class","ion-play-row",3,"class",4,"ngFor","ngForOf"],[3,"card","board","player","style",4,"ngFor","ngForOf"],[1,"ion-play-row"],["class","ion-play-col",3,"class",4,"ngFor","ngForOf"],[1,"ion-play-col"],["class","ion-play-cell",3,"class","click",4,"ngFor","ngForOf"],[1,"ion-play-cell",3,"click"],["class","sprite",3,"style",4,"ngIf"],["class","ion-cell-borders",4,"ngIf"],[1,"sprite"],[1,"ion-cell-borders"],[3,"card","board","player"]],template:function(t,e){1&t&&(l.Ob(0,"div",0),l.Mb(1,"ion-img",1),l.oc(2,z,2,4,"div",2),l.oc(3,N,1,7,"app-board-battler",3),l.oc(4,I,1,7,"app-board-battler",3),l.Nb()),2&t&&(l.zb(1),l.cc("src",e.lib.board.getActiveRoom().backgroundUrl),l.zb(1),l.bc("ngForOf",e.lib.board.getActiveRoom().cols),l.zb(1),l.bc("ngForOf",e.lib.board.players.blue.boardCards),l.zb(1),l.bc("ngForOf",e.lib.board.players.red.boardCards))},directives:[o.i,o.j,y],styles:[".ion-play-area[_ngcontent-%COMP%]{position:relative}.ion-play-row[_ngcontent-%COMP%]{width:100%}.ion-play-cell[_ngcontent-%COMP%], .ion-play-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.ion-play-cell[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;width:64px;height:64px;color:#fff;position:relative}.ion-cell-borders[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,100%,.4);position:absolute;top:0;left:0;width:80%;height:80%;margin:10%;border-radius:10px}.ion-play-cell[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:150%;height:150%;position:absolute;top:-3px;left:-19px}.player-tower-hp-3[_ngcontent-%COMP%]{background-image:url(/assets/textures/orange_pillar_hp_3.png);background-size:cover;border:3px solid green;box-shadow:0 0 15px green}.player-tower-hp-2[_ngcontent-%COMP%]{background-image:url(/assets/textures/orange_pillar_hp_2.png);background-size:cover;border:3px solid #ff0;box-shadow:0 0 15px #ff0}.player-tower-hp-1[_ngcontent-%COMP%]{background-image:url(/assets/textures/orange_pillar_hp_1.png);background-size:cover;border:3px solid red;box-shadow:0 0 15px red}.player-tower-hp-0[_ngcontent-%COMP%]{background-image:url(/assets/textures/orange_pillar_hp_0.png);background-size:cover}.player-tower-hp-dead[_ngcontent-%COMP%]{background-image:url(/assets/textures/orange_pillar_hp_dead.png);background-size:cover}.rival-tower-hp-3[_ngcontent-%COMP%]{background-image:url(/assets/textures/blue_pillar_hp_3.png);border:3px solid green;box-shadow:0 0 15px green;background-size:cover}.rival-tower-hp-2[_ngcontent-%COMP%]{background-image:url(/assets/textures/blue_pillar_hp_2.png);background-size:cover;border:3px solid #ff0;box-shadow:0 0 15px #ff0}.rival-tower-hp-1[_ngcontent-%COMP%]{background-image:url(/assets/textures/blue_pillar_hp_1.png);background-size:cover;border:3px solid red;box-shadow:0 0 15px red}.rival-tower-hp-0[_ngcontent-%COMP%]{background-image:url(/assets/textures/blue_pillar_hp_0.png)}.rival-tower-hp-0[_ngcontent-%COMP%], .rival-tower-hp-dead[_ngcontent-%COMP%]{background-size:cover;border:none;box-shadow:none}.rival-tower-hp-dead[_ngcontent-%COMP%]{background-image:url(/assets/textures/blue_pillar_hp_dead.png)}.board-battlers-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}app-board-battler[_ngcontent-%COMP%]{position:absolute;pointer-events:none;transition:.3s}.cell[_ngcontent-%COMP%]{font-size:.8em}.sprite[_ngcontent-%COMP%]{width:100%;height:100%}.board-background[_ngcontent-%COMP%]{position:absolute;width:1080px;height:1080px;left:-253px;top:-253px}.floor[_ngcontent-%COMP%]   .ion-cell-borders[_ngcontent-%COMP%], .wall[_ngcontent-%COMP%]   .ion-cell-borders[_ngcontent-%COMP%]{border:none;background-color:transparent}.player-tile[_ngcontent-%COMP%]   .ion-cell-borders[_ngcontent-%COMP%]{background-color:rgba(235,68,90,.7)}.rival-tile[_ngcontent-%COMP%]   .ion-cell-borders[_ngcontent-%COMP%]{background-color:rgba(56,128,255,.7)}.player-tile-locked[_ngcontent-%COMP%]   .ion-cell-borders[_ngcontent-%COMP%]{background-color:rgba(235,68,90,.3)}.victory-tile[_ngcontent-%COMP%]   .ion-cell-borders[_ngcontent-%COMP%]{background-color:rgba(106,27,154,.7)}.neutral-ground[_ngcontent-%COMP%]   .ion-cell-borders[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.2)}.vit-restore[_ngcontent-%COMP%]   .ion-cell-borders[_ngcontent-%COMP%]{background-color:rgba(45,211,111,.7)}.possible-battle-tile[_ngcontent-%COMP%]   .ion-cell-borders[_ngcontent-%COMP%], .possible-cast-tile[_ngcontent-%COMP%]   .ion-cell-borders[_ngcontent-%COMP%], .possible-move-tile[_ngcontent-%COMP%]   .ion-cell-borders[_ngcontent-%COMP%], .possible-unfold-tile[_ngcontent-%COMP%]   .ion-cell-borders[_ngcontent-%COMP%]{border:3px solid #dedede;background-color:hsla(0,0%,100%,.3)}"]}),t})();function j(t,e){if(1&t){const t=l.Pb();l.Ob(0,"div",2),l.Wb("click",(function(){l.hc(t);const n=e.$implicit;return l.Yb().toggleTooltip(n.type)})),l.Ob(1,"div",3),l.Mb(2,"ion-img",4),l.Nb(),l.Ob(3,"div",5),l.pc(4),l.Nb(),l.Ob(5,"div"),l.pc(6),l.Nb(),l.Nb()}if(2&t){const t=e.$implicit,n=l.Yb();l.zb(2),l.dc("src","assets/dice/",t.type,".png"),l.zb(2),l.rc(" ",t.value," "),l.zb(1),l.Bb("energy-name ",n.getToolTipClass(t.type),""),l.zb(1),l.rc(" ",t.type.toUpperCase()," ")}}let F=(()=>{class t{constructor(){this.tooltipClasses={},this.visible=[]}ngOnInit(){const t=this;this.player.energyPool.events.on("mint",()=>{t.getVisibleEnergies(t)}),this.player.energyPool.events.on("burn",()=>{t.getVisibleEnergies(t)}),this.player.energyPool.events.on("reset",()=>{t.getVisibleEnergies(t)}),t.getVisibleEnergies(t)}sleep(t=500){return Object(a.a)(this,void 0,void 0,(function*(){return new Promise((t,e)=>{try{setTimeout(()=>{t()})}catch(n){e(n)}})}))}getVisibleEnergies(t){return Object(a.a)(this,void 0,void 0,(function*(){yield this.sleep(),console.log(this.player.energyPool);let e=[];const n=t.player.energyPool.types.values();for(let o=0;o<t.player.energyPool.types.size;o++){const o=n.next().value;t.tooltipClasses[o]||(t.tooltipClasses[o]="hidden");const i=t.player.energyPool.get(o);i>0&&e.push({type:o,value:i})}console.log(e),t.visible=e}))}toggleTooltip(t){if(console.log("pre",this.tooltipClasses),"visible"===this.tooltipClasses[t])this.tooltipClasses[t]="hidden";else{const e=Object.keys(this.tooltipClasses);for(let t=0;t<e.length;t++)this.tooltipClasses[e[t]]="hidden";this.tooltipClasses[t]="visible"}console.log("post",this.tooltipClasses)}getToolTipClass(t){return this.tooltipClasses[t]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Fb({type:t,selectors:[["app-energy-pool"]],inputs:{player:"player"},decls:2,vars:1,consts:[[1,"energy-pool","player-energy-pool"],["class","energy-item",3,"click",4,"ngFor","ngForOf"],[1,"energy-item",3,"click"],[1,"energy-type"],[3,"src"],[1,"energy-value"]],template:function(t,e){1&t&&(l.Ob(0,"div",0),l.oc(1,j,7,6,"div",1),l.Nb()),2&t&&(l.zb(1),l.bc("ngForOf",e.visible))},directives:[o.i],styles:['.energy-pool[_ngcontent-%COMP%]{flex-wrap:wrap;width:100%;position:relative}.energy-item[_ngcontent-%COMP%], .energy-pool[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;margin:5px 0}.energy-item[_ngcontent-%COMP%]{background-color:#90a4ae;border:1px solid #eceff1;width:20%;flex-direction:column}.energy-type[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:100%;border:3px solid #eceff1;margin:5px 0;color:#eceff1;overflow:hidden}.energy-type[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .energy-type[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{border-radius:5px}.energy-value[_ngcontent-%COMP%]{font-size:2em}.energy-name[_ngcontent-%COMP%]{position:absolute;height:30px;top:-40px;background-color:#263238;display:flex;justify-content:center;align-items:center;padding:5px 10px;border-radius:30px;border:1px solid #eceff1}.energy-name.visible[_ngcontent-%COMP%]{display:flex}.energy-name.hidden[_ngcontent-%COMP%]{display:none}.energy-name[_ngcontent-%COMP%]:after{position:absolute;width:0;height:0;content:"";border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid #eceff1;bottom:-10px}']}),t})();function B(t,e){if(1&t&&l.Mb(0,"ion-icon",5),2&t){const t=l.Yb();l.cc("name",t.iconLeft)}}function T(t,e){if(1&t&&l.Mb(0,"ion-icon",5),2&t){const t=l.Yb();l.cc("name",t.iconRight)}}let S=(()=>{class t{constructor(){this.text="",this.width="",this.iconLeft="",this.iconRight=""}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Fb({type:t,selectors:[["app-button"]],inputs:{text:"text",width:"width",iconLeft:"iconLeft",iconRight:"iconRight"},decls:7,vars:6,consts:[[1,"button-outer"],[1,"corner","left-corner"],[1,"button-inner"],[3,"name",4,"ngIf"],[1,"corner","right-corner"],[3,"name"]],template:function(t,e){1&t&&(l.Ob(0,"div",0),l.Mb(1,"div",1),l.Ob(2,"div",2),l.oc(3,B,1,1,"ion-icon",3),l.pc(4),l.oc(5,T,1,1,"ion-icon",3),l.Nb(),l.Mb(6,"div",4),l.Nb()),2&t&&(l.kc("width:",e.width,";"),l.zb(3),l.bc("ngIf",""!==e.iconLeft),l.zb(1),l.rc(" ",e.text," "),l.zb(1),l.bc("ngIf",""!==e.iconRight))},directives:[o.j],styles:['.button-outer[_ngcontent-%COMP%]{width:100%;display:flex;margin:10px 0}.button-inner[_ngcontent-%COMP%]{width:100%;height:40px;background-color:#37474f;border-top:1px solid #78909c;border-bottom:1px solid #607d8b;position:relative;color:#fff;display:flex;justify-content:center;align-items:center;color:#eceff1}.corner[_ngcontent-%COMP%]{content:"";width:0;height:0;position:relative}.left-corner[_ngcontent-%COMP%]{border-top:20px solid transparent;border-right:20px solid #37474f;border-bottom:20px solid transparent}.left-corner[_ngcontent-%COMP%]:before{background-color:#78909c;top:-10px;transform:rotate(-45deg)}.left-corner[_ngcontent-%COMP%]:after, .left-corner[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-4px;width:28px;height:1px}.left-corner[_ngcontent-%COMP%]:after{background-color:#607d8b;top:9px;transform:rotate(45deg)}.right-corner[_ngcontent-%COMP%]{border-top:20px solid transparent;border-left:20px solid #37474f;border-bottom:20px solid transparent}.right-corner[_ngcontent-%COMP%]:before{background-color:#78909c;top:-10px;transform:rotate(45deg)}.right-corner[_ngcontent-%COMP%]:after, .right-corner[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-24px;width:28px;height:1px}.right-corner[_ngcontent-%COMP%]:after{background-color:#607d8b;top:9px;transform:rotate(-45deg)}']}),t})();var D=n("m/Q0");let R=(()=>{class t{constructor(){this.ranks=D.Dice.ranks,this.colors=D.Dice.colors}ngOnInit(){this.dice.setCtx(this)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Fb({type:t,selectors:[["app-dice"]],inputs:{dice:"dice"},decls:8,vars:27,consts:[[1,"view"],[1,"diceFace","front"],[1,"diceFace","right"],[1,"diceFace","back"],[1,"diceFace","left"],[1,"diceFace","top"],[1,"diceFace","bottom"]],template:function(t,e){1&t&&(l.Ob(0,"div",0),l.Ob(1,"div"),l.Mb(2,"div",1),l.Mb(3,"div",2),l.Mb(4,"div",3),l.Mb(5,"div",4),l.Mb(6,"div",5),l.Mb(7,"div",6),l.Nb(),l.Nb()),2&t&&(l.zb(1),l.Bb("dice ",e.dice.rolledFaceClass,""),l.zb(1),l.lc("\n            background-color:",e.dice.color,";\n            background-image:url('",e.dice.getAttrImage(e.dice.faces[0]),"')\n          "),l.zb(1),l.lc("\n          background-color:",e.dice.color,";\n          background-image:url('",e.dice.getAttrImage(e.dice.faces[1]),"')\n          "),l.zb(1),l.lc("\n          background-color:",e.dice.color,";\n          background-image:url('",e.dice.getAttrImage(e.dice.faces[2]),"')\n          "),l.zb(1),l.lc("\n          background-color:",e.dice.color,";\n          background-image:url('",e.dice.getAttrImage(e.dice.faces[3]),"')\n          "),l.zb(1),l.lc("\n          background-color:",e.dice.color,";\n          background-image:url('",e.dice.getAttrImage(e.dice.faces[4]),"')\n          "),l.zb(1),l.lc("\n          background-color:",e.dice.color,";\n          background-image:url('",e.dice.getAttrImage(e.dice.faces[5]),"')\n          "))},styles:[".view[_ngcontent-%COMP%]{margin:25px;perspective:150px}.dice[_ngcontent-%COMP%], .view[_ngcontent-%COMP%]{width:50px;height:50px}.dice[_ngcontent-%COMP%]{position:relative;transform-style:preserve-3d;transition:transform .5s}.dice-front[_ngcontent-%COMP%]{transform:rotateY(1turn)!important}.dice-right[_ngcontent-%COMP%]{transform:rotateY(-90deg)!important}.dice-back[_ngcontent-%COMP%]{transform:rotateY(180deg)!important}.dice-left[_ngcontent-%COMP%]{transform:rotateY(90deg)!important}.dice-top[_ngcontent-%COMP%]{transform:rotateX(-90deg)!important}.dice-bottom[_ngcontent-%COMP%]{transform:rotateX(90deg)!important}.btnFront[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateY(1turn)!important}.btnRight[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateY(-90deg)!important}.btnBack[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateY(180deg)!important}.btnLeft[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateY(90deg)!important}.btnTop[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateX(-90deg)!important}.btnBottom[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateX(90deg)!important}.diceFace[_ngcontent-%COMP%]{position:absolute;width:50px;height:50px;text-align:center;line-height:50px;font-size:1.2em;border:2px solid #fff;background-size:cover}.front[_ngcontent-%COMP%]{background-color:rgba(255,0,0,.6);transform:rotateY(0deg) translateZ(25px)}.right[_ngcontent-%COMP%]{background-color:rgba(0,255,0,.6);transform:rotateY(90deg) translateZ(25px)}.back[_ngcontent-%COMP%]{background-color:rgba(255,255,0,.6);transform:rotateY(180deg) translateZ(25px)}.left[_ngcontent-%COMP%]{background-color:rgba(255,0,255,.6);transform:rotateY(-90deg) translateZ(25px)}.top[_ngcontent-%COMP%]{background-color:rgba(0,255,255,.6);transform:rotateX(90deg) translateZ(25px)}.bottom[_ngcontent-%COMP%]{transform:rotateX(-90deg) translateZ(25px)}span[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;margin:3px;background-color:#0aa;border:2px inset #dd0}.test[_ngcontent-%COMP%]:checked + .test2[_ngcontent-%COMP%]{display:block;width:80px;background-color:#0aa}input[type=radio][_ngcontent-%COMP%]{transform:scale(2);margin:10px;color:red}"]}),t})();function A(t,e){if(1&t){const t=l.Pb();l.Ob(0,"app-button",7),l.Wb("click",(function(){return l.hc(t),l.Yb().board.toggleDeckView()})),l.Nb()}}function X(t,e){if(1&t){const t=l.Pb();l.Ob(0,"div",10),l.Wb("click",(function(){l.hc(t);const n=e.$implicit;return l.Yb(2).player.pickDice(n)})),l.Mb(1,"ion-img",11),l.Nb()}if(2&t){const t=e.$implicit;l.kc("--src: url(",t.rankedInfo[t.rank],")"),l.zb(1),l.cc("src",t.getAttrImage(t.faces[0]))}}function W(t,e){if(1&t&&(l.Ob(0,"div",8),l.oc(1,X,2,4,"div",9),l.Nb()),2&t){const t=l.Yb();l.zb(1),l.bc("ngForOf",t.player.dicePool)}}function L(t,e){if(1&t){const t=l.Pb();l.Ob(0,"app-dice",12),l.Wb("click",(function(){l.hc(t);const n=e.$implicit;return l.Yb().player.unpickDice(n)})),l.Nb()}2&t&&l.bc("dice",e.$implicit)}function V(t,e){if(1&t){const t=l.Pb();l.Ob(0,"app-button",13),l.Wb("click",(function(){return l.hc(t),l.Yb().player.rollDice()})),l.Nb()}}function $(t,e){if(1&t){const t=l.Pb();l.Ob(0,"app-button",14),l.Wb("click",(function(){l.hc(t);const e=l.Yb();return e.board.endTurn(e.player)})),l.Nb()}}let E=(()=>{class t{constructor(){}ngOnInit(){}toggleDiceExplanation(){}selectDice(t){this.player.dice.push(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Fb({type:t,selectors:[["app-dice-pool"]],inputs:{player:"player",board:"board"},decls:7,vars:5,consts:[["class","viewDeckButton","text","Toggle Deck View","width","100%",3,"click",4,"ngIf"],[1,"dice-pool"],["class","player-dice-pool",4,"ngIf"],[1,"selected-dice"],[3,"dice","click",4,"ngFor","ngForOf"],["text","ROLL DICE","width","100%","class","rollDiceButton",3,"click",4,"ngIf"],["text","END TURN","width","100%","class","endTurnButton",3,"click",4,"ngIf"],["text","Toggle Deck View","width","100%",1,"viewDeckButton",3,"click"],[1,"player-dice-pool"],["class","dice-model",3,"style","click",4,"ngFor","ngForOf"],[1,"dice-model",3,"click"],[3,"src"],[3,"dice","click"],["text","ROLL DICE","width","100%",1,"rollDiceButton",3,"click"],["text","END TURN","width","100%",1,"endTurnButton",3,"click"]],template:function(t,e){1&t&&(l.oc(0,A,1,0,"app-button",0),l.Ob(1,"div",1),l.oc(2,W,2,1,"div",2),l.Ob(3,"div",3),l.oc(4,L,1,1,"app-dice",4),l.Nb(),l.Nb(),l.oc(5,V,1,0,"app-button",5),l.oc(6,$,1,0,"app-button",6)),2&t&&(l.bc("ngIf","red"===e.player.color),l.zb(2),l.bc("ngIf",!e.board.isRival(e.player)),l.zb(2),l.bc("ngForOf",e.player.dice),l.zb(1),l.bc("ngIf",!e.board.isRival(e.player)),l.zb(1),l.bc("ngIf",!e.board.isRival(e.player)))},directives:[o.j,o.i,S,R],styles:['.dice-info-container[_ngcontent-%COMP%]{width:100%;position:relative}.dice-info[_ngcontent-%COMP%]{position:absolute;width:100%;left:100%;padding:10px;background-color:#121212;color:#fff;flex-direction:column;border-radius:10px;border:1px solid #000}.dice-info[_ngcontent-%COMP%], .dice-info-lvl[_ngcontent-%COMP%]{display:flex}.dice-info-lvl-1[_ngcontent-%COMP%], .dice-lvl-1[_ngcontent-%COMP%]{background-color:#b32d91}.dice-info-lvl-2[_ngcontent-%COMP%], .dice-lvl-2[_ngcontent-%COMP%]{background-color:#2d4eb3}.dice-info-lvl-3[_ngcontent-%COMP%], .dice-lvl-3[_ngcontent-%COMP%]{background-color:#562e73}.dice-info-lvl-4[_ngcontent-%COMP%], .dice-info-lvl-5[_ngcontent-%COMP%], .dice-lvl-4[_ngcontent-%COMP%], .dice-lvl-5[_ngcontent-%COMP%]{background-color:#e57e3a}.dice-info-face[_ngcontent-%COMP%]{border:1px solid #fff}ion-dice-area[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;width:100%;flex-direction:column}.dice-pool[_ngcontent-%COMP%], ion-dice-pool[_ngcontent-%COMP%]{display:flex}.dice-pool[_ngcontent-%COMP%]{flex-direction:column}.dice-lvl[_ngcontent-%COMP%]{width:50px;height:50px;border:3px solid #fff;border-radius:7px;margin:3px}.selected-dice[_ngcontent-%COMP%]{height:100px}.player-dice-pool[_ngcontent-%COMP%], .selected-dice[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.player-dice-pool[_ngcontent-%COMP%]{flex-wrap:wrap;background-color:#37474f;border:1px solid #78909c;border-bottom-color:#607d8b;margin:5px 0}.dice-model[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid #fff;border-radius:5px;margin:3px;position:relative}.dice-model[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{overflow:hidden;border-radius:5px}.dice-model[_ngcontent-%COMP%]:hover:before{content:"";position:absolute;top:-240px;left:calc(50% - 75px);background-image:var(--src);background-position:50%;background-size:cover;width:150px;height:225px;border-radius:5px;border:1px solid #78909c;opacity:.8}.dice-model[_ngcontent-%COMP%]:hover:after{content:"";position:absolute;width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid #78909c;top:-14px}']}),t})();function q(t,e){if(1&t&&(l.Ob(0,"div",15),l.pc(1),l.Nb()),2&t){const t=l.Yb(2);l.zb(1),l.sc("",t.board.tutorial.emitNonce," / ",t.board.tutorial.emits.length,"")}}function J(t,e){if(1&t&&(l.Ob(0,"div",13),l.Ob(1,"p"),l.pc(2),l.Nb(),l.oc(3,q,2,2,"div",14),l.Nb()),2&t){const t=l.Yb();l.zb(2),l.qc(t.player.activeMessage),l.zb(1),l.bc("ngIf",t.board.isRival(t.player))}}function Z(t,e){if(1&t){const t=l.Pb();l.Ob(0,"app-button",16),l.Wb("click",(function(){return l.hc(t),l.Yb().board.tutorial.backward()})),l.Nb()}}function H(t,e){if(1&t){const t=l.Pb();l.Ob(0,"app-button",17),l.Wb("click",(function(){return l.hc(t),l.Yb().board.tutorial.forward()})),l.Nb()}}function U(t,e){1&t&&l.Mb(0,"div",18)}let G=(()=>{class t{constructor(){this.instructions=[]}sleep(t=1e3){return Object(a.a)(this,void 0,void 0,(function*(){return new Promise((e,n)=>{setTimeout(()=>{e()},t)})}))}ngOnInit(){return Object(a.a)(this,void 0,void 0,(function*(){let t=this;console.log("profile!",this.player),"blue"===this.player.color&&this.board.events.on("tutorial",e=>Object(a.a)(this,void 0,void 0,(function*(){t.player.toast(e.text)})))}))}fadeOut(t){this.instructions.splice(t=this.instructions.length-t-1,1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Fb({type:t,selectors:[["app-profile"]],inputs:{player:"player",board:"board"},decls:14,vars:16,consts:[[1,"profile-image"],[1,"profile-img-src","confident"],[1,"user-chips"],["width","50%","color","neutral",3,"text"],["width","50%",3,"color","text"],[3,"player"],[3,"board","player"],[1,"instructions-container"],["class","spoken-words",4,"ngIf"],[1,"tutorial-buttons"],["text","Previous","width","100%","class","gotItButton",3,"click",4,"ngIf"],["text","Next","width","100%","class","gotItButton",3,"click",4,"ngIf"],["class","tutorial-overlay",4,"ngIf"],[1,"spoken-words"],["class","page",4,"ngIf"],[1,"page"],["text","Previous","width","100%",1,"gotItButton",3,"click"],["text","Next","width","100%",1,"gotItButton",3,"click"],[1,"tutorial-overlay"]],template:function(t,e){1&t&&(l.Ob(0,"div"),l.Ob(1,"div",0),l.Mb(2,"div",1),l.Nb(),l.Ob(3,"div",2),l.Mb(4,"app-chip",3),l.Mb(5,"app-chip",4),l.Nb(),l.Mb(6,"app-energy-pool",5),l.Mb(7,"app-dice-pool",6),l.Nb(),l.Ob(8,"div",7),l.oc(9,J,4,2,"div",8),l.Ob(10,"div",9),l.oc(11,Z,1,0,"app-button",10),l.oc(12,H,1,0,"app-button",11),l.Nb(),l.Nb(),l.oc(13,U,1,0,"div",12)),2&t&&(l.Bb("profile-container profile-color-",e.player.color,""),l.zb(2),l.kc("background-image: url(",e.player.avatar.src,")"),l.zb(2),l.bc("text",e.player.name),l.zb(1),l.dc("text","",e.player.score," points"),l.bc("color",e.player.color),l.zb(1),l.bc("player",e.player),l.zb(1),l.bc("board",e.board)("player",e.player),l.zb(2),l.bc("ngIf",""!==e.player.activeMessage),l.zb(2),l.bc("ngIf","red"!==e.player.color),l.zb(1),l.bc("ngIf","red"!==e.player.color),l.zb(1),l.bc("ngIf","blue"===e.player.color))},directives:[d,F,E,o.j,S],styles:[".score[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}ion-chip[_ngcontent-%COMP%]{width:45%}ion-label[_ngcontent-%COMP%]{width:100%;text-align:center}.profile-image[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:100%;overflow:hidden;background-color:#fff;border:5px solid #fff;margin-bottom:10px}.profile-img-src[_ngcontent-%COMP%]{background-size:480px 240px;width:100%;height:100%}.profile-img-src.neutral[_ngcontent-%COMP%]{background-position:0 0}.profile-img-src.smile[_ngcontent-%COMP%]{background-position:120px 0}.profile-img-src.confident[_ngcontent-%COMP%]{background-position:240px 0}.profile-img-src.happy[_ngcontent-%COMP%]{background-position:360px 0}.profile-img-src.question[_ngcontent-%COMP%]{background-position:0 120px}.profile-img-src.pissed[_ngcontent-%COMP%]{background-position:120px 120px}.profile-img-src.sad[_ngcontent-%COMP%]{background-position:240px 120px}.profile-img-src.defeated[_ngcontent-%COMP%]{background-position:360px 120px}.profile-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;flex-direction:column;width:280px}.instructions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;left:0;width:100%;margin-top:20px}.spoken-words[_ngcontent-%COMP%]{background-color:#eceff1;color:#000;padding:10px 20px;border-radius:5px;border:1px solid #000;box-shadow:0 0 10px #000;margin:10px 0;transition:.3s}.spoken-words[_ngcontent-%COMP%]:hover{background-color:#fff}.profile-color-blue[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{transform:scaleX(-1);border:3px solid #3880ff}.profile-color-blue[_ngcontent-%COMP%]   .player-dice-pool[_ngcontent-%COMP%]{display:none}.profile-color-red[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{border:3px solid #eb445a}app-dice-pool[_ngcontent-%COMP%], app-energy-pool[_ngcontent-%COMP%]{width:100%}.user-chips[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;margin:5px;width:100%}app-chip[_ngcontent-%COMP%]{width:40%}.tutorial-overlay[_ngcontent-%COMP%]{display:none;background-color:rgba(0,0,0,.6);height:100vh;width:calc(100vw - 800px);position:fixed;top:0;left:400px}.page[_ngcontent-%COMP%]{font-size:.8em;width:100%;text-align:center;margin:10px 0}"]}),t})();var K=n("lXt9");function Q(t,e){if(1&t){const t=l.Pb();l.Ob(0,"app-button",7),l.Wb("click",(function(){return l.hc(t),l.Yb().hideSplash()})),l.Nb()}}let tt=(()=>{class t{constructor(t){this.text="Loading, please wait...",this.ready=!1,this.config={volume:{overall:1,music:.6,effect:.8}},this.animationCtrl=t}ngOnInit(){let t=this;this.board.events.on("ready",()=>{setTimeout(()=>{t.text="Game ready",t.ready=!0},1e3)});let e=localStorage.getItem("audio-config");if(!e)return e=this.config,void localStorage.setItem("audio-config",JSON.stringify(e));e=JSON.parse(e),this.config=e}hideSplash(){return Object(a.a)(this,void 0,void 0,(function*(){const t=document.querySelector(".overall");console.log("splash",t);const e=this.animationCtrl.create().addElement(t).duration(350).easing("ease-in").fromTo("transform","translateY(0px)","translateY(100vh)").fromTo("opacity","1","0");yield e.play(),console.log(e),t.parentNode.removeChild(t),this.board.events.emit("splashHidden",{}),new D.DGAudio("assets/audio/music-zapsplat-beach-cruzin.mp3","music").play()}))}updateAudioSettings(){let t=document.querySelector('ion-toggle[value="music"]');const e=t.checked;t=document.querySelector('ion-toggle[value="effect"]');const n=t.checked;let o=localStorage.getItem("audio-config");o?o=JSON.parse(o):(o={volume:{overall:1,music:.6,effect:.8}},localStorage.setItem("audio-config",JSON.stringify(o))),o.volume.music=e?.6:0,o.volume.effect=n?.6:0,this.config=o,localStorage.setItem("audio-config",JSON.stringify(o))}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(r.a))},t.\u0275cmp=l.Fb({type:t,selectors:[["app-splash"]],inputs:{board:"board"},decls:16,vars:7,consts:[[1,"overall"],["src","assets/intro.png",1,"background"],["src","assets/logo-text.png",1,"logo"],[1,"container"],["text","Launch Demo",3,"click",4,"ngIf"],["slot","end","value","music",3,"checked","ionChange"],["slot","end","value","effect",3,"checked","ionChange"],["text","Launch Demo",3,"click"]],template:function(t,e){1&t&&(l.Ob(0,"div",0),l.Mb(1,"ion-img",1),l.Mb(2,"ion-img",2),l.Ob(3,"div",3),l.Ob(4,"p"),l.pc(5),l.Nb(),l.oc(6,Q,1,0,"app-button",4),l.Ob(7,"ion-list"),l.Ob(8,"ion-item"),l.Ob(9,"ion-label"),l.pc(10,"Music"),l.Nb(),l.Ob(11,"ion-toggle",5),l.Wb("ionChange",(function(){return e.updateAudioSettings()})),l.Nb(),l.Nb(),l.Ob(12,"ion-item"),l.Ob(13,"ion-label"),l.pc(14,"Effects"),l.Nb(),l.Ob(15,"ion-toggle",6),l.Wb("ionChange",(function(){return e.updateAudioSettings()})),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb()),2&t&&(l.kc("display:",e.board.splashDisplay,""),l.zb(5),l.qc(e.text),l.zb(1),l.bc("ngIf",e.ready),l.zb(5),l.bc("checked",e.config.volume.music>0),l.zb(4),l.bc("checked",e.config.volume.effect>0))},directives:[o.j,S],styles:[".overall[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000;color:#eceff1;z-index:99999999;justify-content:flex-end;transition:.5s}.container[_ngcontent-%COMP%], .overall[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.container[_ngcontent-%COMP%]{background-color:rgba(38,50,56,.95);border:1px solid #78909c;border-bottom-color:#607d8b;z-index:1;width:300px;justify-content:center;margin-bottom:20px;padding-bottom:10px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em;text-align:center;color:#eceff1;margin:20px 0}.container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:100px;background-color:#eceff1;border-radius:100%}.background[_ngcontent-%COMP%]{position:fixed;top:0;height:100vh;width:100vh}app-button[_ngcontent-%COMP%]{margin-bottom:10px}.logo[_ngcontent-%COMP%]{position:absolute;width:350px;top:calc(50% - 100px);-webkit-filter:drop-shadow(0 0 7px #eceff1);filter:drop-shadow(0 0 7px #eceff1)}"]}),t})();function et(t,e){if(1&t&&l.Mb(0,"app-card",9),2&t){const t=e.$implicit,n=l.Yb();l.bc("card",t)("board",n.lib.board)("player",n.lib.board.players.red)("width",200)("showMagnify",!0)}}const nt=[{path:"",component:(()=>{class t{constructor(t){this.leftToggleName="arrow-back-outline",this.leftDrawerClass="shown",this.bottomToggleName="arrow-down-outline",this.bottomDrawerClass="shown",this.tutorialPointerStyle="",this.tutorialParentStyle="",this.lib=t;const e=this;this.lib.board.events.on("tutorial",t=>Object(a.a)(this,void 0,void 0,(function*(){t.pointerStyle&&(e.tutorialPointerStyle=t.pointerStyle),t.parentStyle&&(e.tutorialParentStyle=t.parentStyle)})))}ngOnInit(){}toggle(t){switch(t){case"left":"arrow-forward-outline"===this.leftToggleName?(this.leftToggleName="arrow-back-outline",this.leftDrawerClass="shown"):(this.leftToggleName="arrow-forward-outline",this.leftDrawerClass="hidden");break;case"bottom":"arrow-up-outline"===this.bottomToggleName?(this.bottomToggleName="arrow-down-outline",this.bottomDrawerClass="shown"):(this.bottomToggleName="arrow-up-outline",this.bottomDrawerClass="hidden");break;default:throw new Error("Unrecognized toggle target `"+t+"`")}}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(s.a))},t.\u0275cmp=l.Fb({type:t,selectors:[["app-battlefield"]],decls:15,vars:18,consts:[[1,"drawer","central-drawer"],[3,"lib"],[1,"user-card","user-card-blue"],[3,"board","player"],[1,"user-card","user-card-red"],["innerAlign","flex-start",3,"card","board","player","width","showMagnify",4,"ngFor","ngForOf"],[1,"close-card-modal",3,"click"],[3,"card","width"],[3,"board"],["innerAlign","flex-start",3,"card","board","player","width","showMagnify"]],template:function(t,e){1&t&&(l.Ob(0,"ion-content"),l.Ob(1,"div"),l.Ob(2,"div",0),l.Mb(3,"app-board",1),l.Nb(),l.Nb(),l.Ob(4,"div",2),l.Mb(5,"app-profile",3),l.Nb(),l.Ob(6,"div",4),l.Mb(7,"app-profile",3),l.Nb(),l.Ob(8,"div"),l.oc(9,et,1,5,"app-card",5),l.Nb(),l.Ob(10,"div"),l.Ob(11,"div",6),l.Wb("click",(function(){return e.lib.board.cardModal(e.lib.board.activeCard)})),l.pc(12,"x"),l.Nb(),l.Mb(13,"app-card",7),l.Nb(),l.Nb(),l.Mb(14,"app-splash",8)),2&t&&(l.zb(1),l.Bb("main ",e.lib.board.cursorClass,""),l.zb(2),l.bc("lib",e.lib),l.zb(2),l.bc("board",e.lib.board)("player",e.lib.board.players.blue),l.zb(2),l.bc("board",e.lib.board)("player",e.lib.board.players.red),l.zb(1),l.Bb("bottom-drawer drawer ",e.lib.board.deckContainerClass,""),l.zb(1),l.bc("ngForOf",e.lib.board.players.red.deckCards),l.zb(1),l.Bb("card-view-modal ",e.lib.board.cardModalClasses.join(" "),""),l.zb(3),l.bc("card",e.lib.board.activeCard)("width",600),l.zb(1),l.bc("board",e.lib.board))},directives:[r.d,Y,G,o.i,K.a,tt],styles:[".left-drawer[_ngcontent-%COMP%]{left:0;top:0;width:300px;height:100vh;background-color:rgba(0,0,0,.8);padding:10px;z-index:5;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}.left-drawer.shown[_ngcontent-%COMP%]{transform:translateX(0)}.left-drawer.hidden[_ngcontent-%COMP%]{transform:translateX(-300px)}.toggle-button[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;background-color:#000;border:3px solid #fff;display:flex;justify-content:center;align-items:center;font-size:25px;border-radius:100%}.left-drawer[_ngcontent-%COMP%]   .toggle-button[_ngcontent-%COMP%]{right:-40px;top:40px;top:0}.bottom-drawer[_ngcontent-%COMP%]   .toggle-button[_ngcontent-%COMP%]{top:5px;left:calc(50vw - 15px);z-index:9999}.central-drawer[_ngcontent-%COMP%]{height:100vh;width:100vw;display:flex;justify-content:center;align-items:center}.right-drawer[_ngcontent-%COMP%]{width:500px;height:100vh;top:0;right:0;background-color:#000}.bottom-drawer[_ngcontent-%COMP%], .right-drawer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;overflow-y:scroll}.bottom-drawer[_ngcontent-%COMP%]{transition:.5s;position:fixed;width:900px;z-index:9999;top:110vh;left:calc(50vw - 450px);background-color:rgba(37,48,54,.6);border:1px solid #78909c;height:calc(100vh - 20px)}.bottom-drawer[_ngcontent-%COMP%]   .card-outer[_ngcontent-%COMP%]{justify-content:flex-start!important}.bottom-drawer.shown[_ngcontent-%COMP%]{transform:translateY(0)}.bottom-drawer.hidden[_ngcontent-%COMP%]{transform:translateY(300px)}.card-view-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;background-color:rgba(0,0,0,.6);transition:.3s;opacity:1;visibility:visible;z-index:9999}.card-view-modal.hidden[_ngcontent-%COMP%]{opacity:0;visibility:hidden}.close-card-modal[_ngcontent-%COMP%]{width:50px;height:50px;font-size:2em;justify-content:center;text-align:center;border-radius:100%;background-color:#000;border:5px solid #fff;color:#fff;position:absolute;top:50px;right:50px}.close-card-modal[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]{display:flex;align-items:center}.main[_ngcontent-%COMP%]{position:fixed;width:100vw;height:100vh;top:0;left:0;justify-content:space-between}*[_ngcontent-%COMP%], .main.cursor-0[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor.png),auto}.main.cursor-1[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-1.png),auto}.main.cursor-2[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-2.png),auto}.main.cursor-3[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-3.png),auto}.main.cursor-4[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-4.png),auto}.main.cursor-5[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-5.png),auto}.main.cursor-6[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-6.png),auto}.main.cursor-7[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-7.png),auto}.main.cursor-8[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-8.png),auto}.main.cursor-9[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-9.png),auto}.main.cursor-plus-9[_ngcontent-%COMP%]{cursor:url(/assets/icons/cursor-plus-9.png),auto}.user-card[_ngcontent-%COMP%]{z-index:999;position:fixed;background-color:rgba(38,50,56,.95);border:1px solid #78909c;border-bottom-color:#607d8b;padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center}.user-card-blue[_ngcontent-%COMP%]{top:10px;left:10px}.user-card-red[_ngcontent-%COMP%]{top:10px;right:10px}app-profile[_ngcontent-%COMP%]{width:100%}.view-deck[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.bottom-drawer.full[_ngcontent-%COMP%]{top:10px}.tutorial[_ngcontent-%COMP%]{width:100vw;height:100vh;z-index:9999999;position:fixed;top:0;left:0}.tutorial-pointer[_ngcontent-%COMP%]{position:absolute}.tutorial-square[_ngcontent-%COMP%]{width:150px;height:150px;-webkit-filter:drop-shadow(0 0 10px #fff);filter:drop-shadow(0 0 10px white);border-radius:10px}"]}),t})()}];let ot=(()=>{class t{}return t.\u0275mod=l.Jb({type:t}),t.\u0275inj=l.Ib({factory:function(e){return new(e||t)},imports:[[c.i.forChild(nt)],c.i]}),t})();var it=n("j1ZV");let rt=(()=>{class t{}return t.\u0275mod=l.Jb({type:t}),t.\u0275inj=l.Ib({factory:function(e){return new(e||t)},imports:[[o.b,i.a,r.j,ot,it.a]]}),t})()}}]);