(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+qE3":function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(r,n){function i(){void 0!==o&&e.removeListener("error",o),r([].slice.call(arguments))}var o;"error"!==t&&(o=function(r){e.removeListener(t,i),n(r)},e.once("error",o)),e.once(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,r,n){var i,o,a;if(l(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):m(i,i.length)}function b(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var l=c.length,u=m(c,l);for(r=0;r<l;++r)o(u[r],this,t)}return!0},s.prototype.on=s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,h(this,e,t)),this},s.prototype.off=s.prototype.removeListener=function(e,t){var r,n,i,o,a;if(l(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):b.call(e,t)},s.prototype.listenerCount=b,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},4:function(e,t){},"4/ot":function(e){e.exports=JSON.parse('{"PLAY":"Play","DECK-EDITOR":"Deck editor","VERSION":"Version","COINS":"coins","HELP":"Help","FULLSCREEN":"Fullscreen","LOG-OUT":"Log Out","PURCHASE-BOOSTER-PACK":"Purchase Booster Pack","COOLDOWN":"Cooldown","RANGE":"Range","DICE-COLLECTION":"Dice Collection","DICE-DECK":"Dice Deck","CARD-COLLECTION":"Card Collection","CARD-DECK":"Card Deck","CLAN:Frog":"Frog","CLAN:Tortoise":"Tortoise","CLAN:Beast":"Beast","CLAN:Crab":"Crab","CLAN:Sea Monster":"Sea Monster","CLAN:Iceborn":"Iceborn","CLAN:Mermaid":"Mermaid","CLAN:Warrior":"Warrior","CLAN:Elf":"Elf","CLAN:Swordsmaster":"Swordsmaster","CLAN:Spirit":"Spirit","CLAN:Winged":"Winged","CLAN:Snake":"Snake","CLAN:Elemental":"Elemental","CLAN:Demon":"Demon","CLAN:Gargoyle":"Gargoyle","CLAN:Lion":"Lion","CLAN:Cyber":"Cyber","CLAN:Mage":"Mage","CLAN:Paladin":"Paladin","CLAN:Arachnid":"Arachnid","CLAN:Dragon":"Dragon","CLAN:Homunculus":"Homunculus","CLAN:Gunsmaster":"Gunsmaster","CLAN:Goblin":"Goblin","CLAN:Archer":"Archer","CLAN:Skeleton":"Skeleton","CLAN:Alchemist":"Alchemist","CLAN:Cleric":"Cleric","CLAN:Illusion":"Illusion","CLAN:Potion":"Potion","CLAN:Hex":"Hex","CLAN:Hammer":"Hammer","CLAN:Sword":"Sword","CLAN:Bow":"Bow","CLAN:Gauntlet":"Gauntlet","CLAN:Crystal":"Crystal","CLAN:Sceptre":"Sceptre","CLAN:Caster":"Caster","CLAN:Titan":"Titan","CLAN:Undead":"Undead","CLAN:Mimic":"Mimic","CARD:title:Tortoad Jeremy":"Tortoad Jeremy","CARD:title:Shelled Death Claw":"Shelled Death Claw","CARD:title:Dark Sea Star":"Dark Sea Star","CARD:title:Ice Lion":"Ice Lion","CARD:title:Sea Queen Arliette":"Sea Queen Arliette","CARD:title:Froggicorn":"Froggicorn","CARD:title:Furious Panda":"Furious Panda","CARD:title:Deer Of Dusk":"Deer Of Dusk","CARD:title:Elvic Swordsmaster":"Elvic Swordsmaster","CARD:title:Winged Green Arrow":"Winged Green Arrow","CARD:title:Fire Wisp":"Fire Wisp","CARD:title:Fire Snake":"Fire Snake","CARD:title:Flame Bull":"Flame Bull","CARD:title:Flame Knight":"Flame Knight","CARD:title:Flamemaster Ifrit":"Flamemaster Ifrit","CARD:title:Winged Bunny":"Winged Bunny","CARD:title:Storm Gargoyle":"Storm Gargoyle","CARD:title:Winged Lion":"Winged Lion","CARD:title:Storm Golem":"Storm Golem","CARD:title:Crystal Chicken":"Crystal Chicken","CARD:title:Cyber Tank":"Cyber Tank","CARD:title:Cyber Hawk":"Cyber Hawk","CARD:title:Metalmorphed Hound":"Metalmorphed Hound","CARD:title:Cybermancer":"Cybermancer","CARD:title:Witch Hunter Armaggel":"Witch Hunter Armaggel","CARD:title:Thunder Cobra":"Thunder Cobra","CARD:title:Clockwork Spider":"Clockwork Spider","CARD:title:Stormpion":"Stormpion","CARD:title:Stormcaster Freeya":"Stormcaster Freeya","CARD:title:Thunder Emperor":"Thunder Emperor","CARD:title:Frog of Dawn":"Frog of Dawn","CARD:title:Light Disgrace":"Light Disgrace","CARD:title:Elvic Paladin Lancer":"Elvic Paladin Lancer","CARD:title:Celestial Sniper":"Celestial Sniper","CARD:title:Celestial Dragon":"Celestial Dragon","CARD:title:Goblin Archer":"Goblin Archer","CARD:title:Shadow Chaser":"Shadow Chaser","CARD:title:Skeleton Dragon":"Skeleton Dragon","CARD:title:Abomination Hound":"Abomination Hound","CARD:title:Bear Of Doom":"Bear Of Doom","CARD:title:Minitaur Galgeon":"Minitaur Galgeon","CARD:title:Gazer Skull":"Gazer Skull","CARD:title:Alchemist Dante":"Alchemist Dante","CARD:title:Aetherial Werewolf":"Aetherial Werewolf","CARD:title:Aetherial Warlord Jeffroy":"Aetherial Warlord Jeffroy","CARD:title:Glacier Acolyte":"Glacier Acolyte","CARD:title:Pond Caster Ashmira":"Pond Caster Ashmira","CARD:title:Forest Healing Spirit":"Forest Healing Spirit","CARD:title:Elvic Archer":"Elvic Archer","CARD:title:Healing Potion":"Healing Potion","CARD:title:Mighty Dark Hammer":"Mighty Dark Hammer","CARD:title:Rose Sword":"Rose Sword","CARD:title:Frozen Bow":"Frozen Bow","CARD:title:Flaming Blade":"Flaming Blade","CARD:title:Rainbow Sword":"Rainbow Sword","CARD:title:Lightning Gauntlet":"Lightning Gauntlet","CARD:title:Heavy Sword":"Heavy Sword","CARD:title:Sceptre Of Life":"Sceptre Of Life","CARD:title:Doomed Blade":"Doomed Blade","CARD:title:Elemental Crystal of Light":"Elemental Crystal of Light","CARD:title:Elemental Crystal of Fire":"Elemental Crystal of Fire","CARD:title:Elemental Crystal of Forest":"Elemental Crystal of Forest","CARD:title:Elemental Crystal of Thunder":"Elemental Crystal of Thunder","CARD:title:Elemental Crystal of Dark":"Elemental Crystal of Dark","CARD:title:Elemental Crystal of Water":"Elemental Crystal of Water","CARD:title:Elemental Crystal of Metal":"Elemental Crystal of Metal","CARD:title:Elemental Crystal of Aether":"Elemental Crystal of Aether","CARD:title:Elemental Crystal of Wind":"Elemental Crystal of Wind","CARD:title:Sceptre Of Venom":"Sceptre Of Venom","CARD:title:Light Caster Innova":"Light Caster Innova","CARD:title:Fire Caster Aries":"Fire Caster Aries","CARD:title:Forest Caster Filia":"Forest Caster Filia","CARD:title:Thunder Caster Slimo":"Thunder Caster Slimo","CARD:title:Dark Caster Dagger":"Dark Caster Dagger","CARD:title:Water Caster Sleemo":"Water Caster Sleemo","CARD:title:Metal Caster Slymow":"Metal Caster Slymow","CARD:title:Aether Caster Libreryo":"Aether Caster Libreryo","CARD:title:Wind Caster Tempestia":"Wind Caster Tempestia","CARD:title:Ghastmallow":"Ghastmallow","CARD:title:Feral Kitsune":"Feral Kitsune","CARD:title:Paper Airplane Mimic":"Paper Airplane Mimic","CARD:title:Wind Goddess Airi":"Wind Goddess Airi","CARD:title:Sword Mimic":"Sword Mimic","CARD:title:Shield Mimic":"Shield Mimic","CARD:title:Clockwork Slime":"Clockwork Slime","CARD:title:Shock Puppet":"Shock Puppet","CARD:title:Celestial Knight":"Celestial Knight","CARD:title:Celestial Wolf":"Celestial Wolf","CARD:title:Mimic Book":"Mimic Book","CARD:title:Book Master":"Book Master","CARD:title:Atherial Elf Dreyel":"Atherial Elf Dreyel","CARD:title:Aetherial Sarcophagus":"Aetherial Sarcophagus","CARD:title:Seaweed Cannon":"Seaweed Cannon","CARD:title:Ice Bull":"Ice Bull","CARD:title:Kindred Glacier":"Kindred Glacier","CARD:title:Sea Octopus":"Sea Octopus","CARD:title:Grand Titan Demeres":"Grand Titan Demeres","CARD:title:Goblin Mage":"Goblin Mage","CARD:title:Hornet Warrior":"Hornet Warrior","CARD:title:Infection Tree":"Infection Tree","CARD:title:Mimic Bow":"Mimic Bow","CARD:title:Toucan Panther":"Toucan Panther","CARD:title:Flame Oculus":"Flame Oculus","CARD:title:Fire Mummy":"Fire Mummy","CARD:title:Volcano Vulture":"Volcano Vulture","CARD:title:Searing Jiangshi":"Searing Jiangshi","CARD:title:Grand Titan Ignis":"Grand Titan Ignis","CARD:title:Melee Pelican":"Melee Pelican","CARD:title:Razortail Eagle":"Razortail Eagle","CARD:title:Void Saber":"Void Saber","CARD:title:Parrot King":"Parrot King","CARD:title:Grand Titan Ventross":"Grand Titan Ventross","CARD:title:Long Blade Fallen":"Long Blade Fallen","CARD:title:Dual Blade Fallen":"Dual Blade Fallen","CARD:title:Crocodile Paladin":"Crocodile Paladin","CARD:title:Long Lance Fallen":"Long Lance Fallen","CARD:title:Mimic Titan Aspar":"Mimic Titan Aspar","CARD:title:Clockwork Bird":"Clockwork Bird","CARD:title:Clockwork Iron Maiden":"Clockwork Iron Maiden","CARD:title:Clockwork Dragon":"Clockwork Dragon","CARD:title:Clockwork Juggernaut":"Clockwork Juggernaut","CARD:title:Grand Titan Dynamo":"Grand Titan Dynamo","CARD:title:Hieracosphinx":"Hieracosphinx","CARD:title:Mummy of Light":"Mummy of Light","CARD:title:Mirror Mirror":"Mirror Mirror","CARD:title:Ancient Priestess":"Ancient Priestess","CARD:title:Grand Titan Terran":"Grand Titan Terran","CARD:title:Enchanted Novel Swarm":"Enchanted Novel Swarm","CARD:title:Skeleton Knight Debons":"Skeleton Knight Debons","CARD:title:Pumpkin Chariot":"Pumpkin Chariot","CARD:title:Gentleman Jack":"Gentleman Jack","CARD:title:Grand Titan Yoggoth":"Grand Titan Yoggoth","CARD:title:Dragons Scarlet Wyrm":"Dragons Scarlet Wyrm","CARD:title:Aetherial Blood Clot":"Aetherial Blood Clot","CARD:title:Aetherial Blood Golem":"Aetherial Blood Golem","CARD:title:Aetherial Soul Spider":"Aetherial Soul Spider","CARD:title:Aetherial Titan":"Aetherial Titan"}')},"5+oW":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=r("P6U5"))&&n.__esModule?n:{default:n};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,i.default)(t,i.default.number),(0,i.default)(r,i.default.number),function(){var n=void 0,i=void 0,o=void 0;do{o=(n=2*e.next()-1)*n+(i=2*e.next()-1)*i}while(!o||o>1);return t+r*i*Math.sqrt(-2*Math.log(o)/o)}}},"5Eph":function(e){e.exports=JSON.parse('{"PLAY":"Jugar","DECK-EDITOR":"Editor de deck","VERSION":"Versi\xf3n","COINS":"monedas","HELP":"Ayuda","FULLSCREEN":"Pantalla completa","LOG-OUT":"Log Out","PURCHASE-BOOSTER-PACK":"Comprar Sobre de Cartas","COOLDOWN":"Recarga","DICE-COLLECTION":"Colecci\xf3n de Dados","DICE-DECK":"Deck de Dados","CARD-COLLECTION":"Colecci\xf3n de Cartas","CARD-DECK":"Deck de Cartas","RANGE":"Alcance","CARD:title:Rose Sword":"Espada de la Rosa"}')},"6qyq":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=s(r("YSVl")),o=s(r("d6kd")),a=s(r("LV5x"));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}t.default=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var s=t[0],l=void 0===s?"default":s,u=t.slice(1);switch(void 0===l?"undefined":n(l)){case"object":if(l instanceof o.default)return l;break;case"function":return new a.default(l);case"string":case"number":return new a.default(i.default.apply(void 0,c(u)))}throw new Error('invalid RNG "'+l+'"')}},Aa5B:function(e,t,r){"use strict";t.func=Symbol("func"),t.validate=Symbol("validate")},B9EA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=r("P6U5"))&&n.__esModule?n:{default:n};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,i.default)(t,i.default.number.positive),function(){return-Math.log(1-e.next())/t}}},B9Yq:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},"CO/a":function(e){e.exports=JSON.parse('{"version":1603211052392,"items":[{"name":"Touch of Grace","cost":3,"attribute":"neutral","talent":"heal","value":100000,"target":"Card","description":"Fully recovers any creature\\u0019 s VIT"},{"name":"Heal","cost":0,"attribute":"neutral","talent":"heal","value":100000,"target":"Card","description":"Fully recovers the target creature\\u0019 s VIT"}]}')},EhIR:function(e,t,r){(function(e){var n;!function(e,i,o){function a(e){var t,r=this,n=(t=4022871197,function(e){e=String(e);for(var r=0;r<e.length;r++){var n=.02519603282416938*(t+=e.charCodeAt(r));n-=t=n>>>0,t=(n*=t)>>>0,t+=4294967296*(n-=t)}return 2.3283064365386963e-10*(t>>>0)});r.next=function(){var e=2091639*r.s0+2.3283064365386963e-10*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=e-(r.c=0|e)},r.c=1,r.s0=n(" "),r.s1=n(" "),r.s2=n(" "),r.s0-=n(e),r.s0<0&&(r.s0+=1),r.s1-=n(e),r.s1<0&&(r.s1+=1),r.s2-=n(e),r.s2<0&&(r.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function c(e,t){var r=new a(e),n=t&&t.state,i=r.next;return i.int32=function(){return 4294967296*r.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=c:r("B9Yq")&&r("PDX0")?void 0===(n=(function(){return c}).call(t,r,t,i))||(i.exports=n):this.alea=c}(0,e,r("B9Yq"))}).call(this,r("YuTi")(e))},"F+Oh":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=r("P6U5"))&&n.__esModule?n:{default:n};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;(0,i.default)(t,i.default.number.gt(0).lte(1));var r=1/Math.log(1-t);return function(){return 1+Math.log(e.next())*r|0}}},F1V6:function(e){e.exports=JSON.parse('{"PLAY":"Jugar","DECK-EDITOR":"Editor de deck","VERSION":"Versi\xf3","COINS":"monedes","HELP":"Ajuda","FULLSCREEN":"Pantalla completa","LOG-OUT":"Log Out","PURCHASE-BOOSTER-PACK":"Comprar Booster Pack","COOLDOWN":"Rec\xe0rrega","DICE-COLLECTION":"Colecci\xf3 de Daus","DICE-DECK":"Deck de Daus","CARD-COLLECTION":"Colecci\xf3 de Cartes","CARD-DECK":"Deck de Cartes","RANGE":"Rang","CLAN:Frog":"Granota","CLAN:Tortoise":"Tortuga","CLAN:Beast":"B\xe8stia","CLAN:Crab":"Cranc","CLAN:Sea Monster":"Monstre Mar\xed","CLAN:Iceborn":"Fill Del Gel","CLAN:Mermaid":"Sirena","CLAN:Warrior":"Guerrer","CLAN:Elf":"Elf","CLAN:Swordsmaster":"Espadatx\xed","CLAN:Spirit":"Esperit","CLAN:Winged":"Volador","CLAN:Snake":"Serp","CLAN:Elemental":"Elemental","CLAN:Demon":"Dimoni","CLAN:Gargoyle":"G\xe0rgola","CLAN:Lion":"Lle\xf3","CLAN:Cyber":"Cyber","CLAN:Mage":"Mag","CLAN:Paladin":"Palad\xed","CLAN:Arachnid":"Ar\xe0cnid","CLAN:Dragon":"Drac","CLAN:Homunculus":"Homuncle","CLAN:Gunsmaster":"Artiller","CLAN:Goblin":"Goblin","CLAN:Archer":"Arquer","CLAN:Skeleton":"Esquelet","CLAN:Alchemist":"Alquimista","CLAN:Cleric":"Cl\xe8ric","CLAN:Illusion":"Il\xb7lusi\xf3","CLAN:Potion":"Poci\xf3","CLAN:Hex":"Malefici","CLAN:Hammer":"Martell","CLAN:Sword":"Espasa","CLAN:Bow":"Arc","CLAN:Gauntlet":"Guant","CLAN:Crystal":"Cristall","CLAN:Sceptre":"Ceptre","CLAN:Caster":"Invocador","CLAN:Titan":"Tit\xe0","CARD:title:Rose Sword":"Espasa de la Rosa","CARD:title:Rainbow Sword":"Espasa de l\'Arc Iris","CARD:title:Tortoad Jeremy":"Granotuga Jeremy","CARD:title:Shelled Death Claw":"Marisc de Pin\xe7a Mortal","CARD:title:Dark Sea Star":"Dark Sea Star","CARD:title:Ice Lion":"Ice Lion","CARD:title:Sea Queen Arliette":"Sea Queen Arliette","CARD:title:Froggicorn":"Froggicorn","CARD:title:Furious Panda":"Furious Panda","CARD:title:Deer Of Dusk":"Deer Of Dusk","CARD:title:Elvic Swordsmaster":"Elvic Swordsmaster","CARD:title:Winged Green Arrow":"Winged Green Arrow","CARD:title:Fire Wisp":"Fire Wisp","CARD:title:Fire Snake":"Fire Snake","CARD:title:Flame Bull":"Flame Bull","CARD:title:Flame Knight":"Flame Knight","CARD:title:Flamemaster Ifrit":"Flamemaster Ifrit","CARD:title:Winged Bunny":"Winged Bunny","CARD:title:Storm Gargoyle":"Storm Gargoyle","CARD:title:Winged Lion":"Winged Lion","CARD:title:Storm Golem":"Storm Golem","CARD:title:Crystal Chicken":"Crystal Chicken","CARD:title:Cyber Tank":"Cyber Tank","CARD:title:Cyber Hawk":"Cyber Hawk","CARD:title:Metalmorphed Hound":"Metalmorphed Hound","CARD:title:Cybermancer":"Cybermancer","CARD:title:Witch Hunter Armaggel":"Witch Hunter Armaggel","CARD:title:Thunder Cobra":"Thunder Cobra","CARD:title:Clockwork Spider":"Clockwork Spider","CARD:title:Stormpion":"Stormpion","CARD:title:Stormcaster Freeya":"Stormcaster Freeya","CARD:title:Thunder Emperor":"Thunder Emperor","CARD:title:Frog of Dawn":"Frog of Dawn","CARD:title:Light Disgrace":"Light Disgrace","CARD:title:Elvic Paladin Lancer":"Elvic Paladin Lancer","CARD:title:Celestial Sniper":"Celestial Sniper","CARD:title:Celestial Dragon":"Celestial Dragon","CARD:title:Goblin Archer":"Goblin Archer","CARD:title:Shadow Chaser":"Shadow Chaser","CARD:title:Skeleton Dragon":"Skeleton Dragon","CARD:title:Abomination Hound":"Abomination Hound","CARD:title:Bear Of Doom":"Bear Of Doom","CARD:title:Minitaur Galgeon":"Minitaur Galgeon","CARD:title:Gazer Skull":"Gazer Skull","CARD:title:Alchemist Dante":"Alchemist Dante","CARD:title:Aetherial Werewolf":"Aetherial Werewolf","CARD:title:Aetherial Warlord Jeffroy":"Aetherial Warlord Jeffroy","CARD:title:Glacier Acolyte":"Glacier Acolyte","CARD:title:Pond Caster Ashmira":"Pond Caster Ashmira","CARD:title:Forest Healing Spirit":"Forest Healing Spirit","CARD:title:Elvic Archer":"Elvic Archer","CARD:title:Healing Potion":"Healing Potion","CARD:title:Mighty Dark Hammer":"Mighty Dark Hammer","CARD:title:Frozen Bow":"Frozen Bow","CARD:title:Flaming Blade":"Flaming Blade","CARD:title:Lightning Gauntlet":"Lightning Gauntlet","CARD:title:Heavy Sword":"Heavy Sword","CARD:title:Sceptre Of Life":"Sceptre Of Life","CARD:title:Doomed Blade":"Doomed Blade","CARD:title:Elemental Crystal of Light":"Elemental Crystal of Light","CARD:title:Elemental Crystal of Fire":"Elemental Crystal of Fire","CARD:title:Elemental Crystal of Forest":"Elemental Crystal of Forest","CARD:title:Elemental Crystal of Thunder":"Cristall Elemental del Tro","CARD:title:Elemental Crystal of Dark":"Elemental Crystal of Dark","CARD:title:Elemental Crystal of Water":"Elemental Crystal of Water","CARD:title:Elemental Crystal of Metal":"Elemental Crystal of Metal","CARD:title:Elemental Crystal of Aether":"Elemental Crystal of Aether","CARD:title:Elemental Crystal of Wind":"Elemental Crystal of Wind","CARD:title:Sceptre Of Venom":"Sceptre Of Venom","CARD:title:Light Caster Innova":"Light Caster Innova","CARD:title:Fire Caster Aries":"Fire Caster Aries","CARD:title:Forest Caster Filia":"Forest Caster Filia","CARD:title:Thunder Caster Slimo":"Thunder Caster Slimo","CARD:title:Dark Caster Dagger":"Dark Caster Dagger","CARD:title:Water Caster Sleemo":"Water Caster Sleemo","CARD:title:Metal Caster Slymow":"Metal Caster Slymow","CARD:title:Aether Caster Libreryo":"Aether Caster Libreryo","CARD:title:Wind Caster Tempestia":"Wind Caster Tempestia"}')},"HFX+":function(e,t,r){var n;!function(){"use strict";var i="input is invalid type",o="object"==typeof window,a=o?window:{};a.JS_SHA3_NO_WINDOW&&(o=!1);var s=!o&&"object"==typeof self;!a.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?a=global:s&&(a=self);var c=!a.JS_SHA3_NO_COMMON_JS&&"object"==typeof e&&e.exports,l=r("PDX0"),u=!a.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,f="0123456789abcdef".split(""),d=[4,1024,262144,67108864],h=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],b=[224,256,384,512],m=[128,256],g=["hex","buffer","arrayBuffer","array","digest"],y={128:168,256:136};!a.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!u||!a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var v=function(e,t,r){return function(n){return new N(e,t,e).update(n)[r]()}},w=function(e,t,r){return function(n,i){return new N(e,t,i).update(n)[r]()}},_=function(e,t,r){return function(t,n,i,o){return E["cshake"+e].update(t,n,i,o)[r]()}},M=function(e,t,r){return function(t,n,i,o){return E["kmac"+e].update(t,n,i,o)[r]()}},k=function(e,t,r,n){for(var i=0;i<g.length;++i){var o=g[i];e[o]=t(r,n,o)}return e},S=function(e,t){var r=v(e,t,"hex");return r.create=function(){return new N(e,t,e)},r.update=function(e){return r.create().update(e)},k(r,v,e,t)},C=[{name:"keccak",padding:[1,256,65536,16777216],bits:b,createMethod:S},{name:"sha3",padding:[6,1536,393216,100663296],bits:b,createMethod:S},{name:"shake",padding:[31,7936,2031616,520093696],bits:m,createMethod:function(e,t){var r=w(e,t,"hex");return r.create=function(r){return new N(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},k(r,w,e,t)}},{name:"cshake",padding:d,bits:m,createMethod:function(e,t){var r=y[e],n=_(e,0,"hex");return n.create=function(n,i,o){return i||o?new N(e,t,n).bytepad([i,o],r):E["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},k(n,_,e,t)}},{name:"kmac",padding:d,bits:m,createMethod:function(e,t){var r=y[e],n=M(e,0,"hex");return n.create=function(n,i,o){return new B(e,t,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},k(n,M,e,t)}}],E={},P=[],x=0;x<C.length;++x)for(var O=C[x],A=O.bits,T=0;T<A.length;++T){var R=O.name+"_"+A[T];if(P.push(R),E[R]=O.createMethod(A[T],O.padding),"sha3"!==O.name){var I=O.name+A[T];P.push(I),E[I]=E[R]}}function N(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function B(e,t,r){N.call(this,e,t,r)}N.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(i);if(null===e)throw new Error(i);if(u&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||u&&ArrayBuffer.isView(e)))throw new Error(i);t=!0}for(var n,o,a=this.blocks,s=this.byteCount,c=e.length,l=this.blockCount,f=0,d=this.s;f<c;){if(this.reset)for(this.reset=!1,a[0]=this.block,n=1;n<l+1;++n)a[n]=0;if(t)for(n=this.start;f<c&&n<s;++f)a[n>>2]|=e[f]<<h[3&n++];else for(n=this.start;f<c&&n<s;++f)(o=e.charCodeAt(f))<128?a[n>>2]|=o<<h[3&n++]:o<2048?(a[n>>2]|=(192|o>>6)<<h[3&n++],a[n>>2]|=(128|63&o)<<h[3&n++]):o<55296||o>=57344?(a[n>>2]|=(224|o>>12)<<h[3&n++],a[n>>2]|=(128|o>>6&63)<<h[3&n++],a[n>>2]|=(128|63&o)<<h[3&n++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++f)),a[n>>2]|=(240|o>>18)<<h[3&n++],a[n>>2]|=(128|o>>12&63)<<h[3&n++],a[n>>2]|=(128|o>>6&63)<<h[3&n++],a[n>>2]|=(128|63&o)<<h[3&n++]);if(this.lastByteIndex=n,n>=s){for(this.start=n-s,this.block=a[l],n=0;n<l;++n)d[n]^=a[n];D(d),this.reset=!0}else this.start=n}return this},N.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},N.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(i);if(null===e)throw new Error(i);if(u&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||u&&ArrayBuffer.isView(e)))throw new Error(i);t=!0}var n=0;if(t)n=e.length;else for(var o=0;o<e.length;++o){var a=e.charCodeAt(o);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++o)),n+=4)}return n+=this.encode(8*n),this.update(e),n},N.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=[];return i.length=t-r%t,this.update(i),this},N.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];D(n)}},N.prototype.toString=N.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,a=0,s="";a<n;){for(o=0;o<t&&a<n;++o,++a)s+=f[(e=r[o])>>4&15]+f[15&e]+f[e>>12&15]+f[e>>8&15]+f[e>>20&15]+f[e>>16&15]+f[e>>28&15]+f[e>>24&15];a%t==0&&(D(r),o=0)}return i&&(s+=f[(e=r[o])>>4&15]+f[15&e],i>1&&(s+=f[e>>12&15]+f[e>>8&15]),i>2&&(s+=f[e>>20&15]+f[e>>16&15])),s},N.prototype.buffer=N.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,a=0,s=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(s);for(var c=new Uint32Array(e);a<n;){for(o=0;o<t&&a<n;++o,++a)c[a]=r[o];a%t==0&&D(r)}return i&&(c[o]=r[o],e=e.slice(0,s)),e},N.prototype.digest=N.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,a=0,s=0,c=[];s<i;){for(a=0;a<r&&s<i;++a,++s)c[e=s<<2]=255&(t=n[a]),c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;s%r==0&&D(n)}return o&&(c[e=s<<2]=255&(t=n[a]),o>1&&(c[e+1]=t>>8&255),o>2&&(c[e+2]=t>>16&255)),c},(B.prototype=new N).finalize=function(){return this.encode(this.outputBits,!0),N.prototype.finalize.call(this)};var D=function(e){var t,r,n,i,o,a,s,c,l,u,f,d,h,b,m,g,y,v,w,_,M,k,S,C,E,P,x,O,A,T,R,I,N,B,D,j,L,F,z,U,K,H,q,G,V,W,Y,J,Z,X,$,Q,ee,te,re,ne,ie,oe,ae,se,ce,le,ue;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],c=e[4]^e[14]^e[24]^e[34]^e[44],l=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],f=e[7]^e[17]^e[27]^e[37]^e[47],r=(h=e[9]^e[19]^e[29]^e[39]^e[49])^((s=e[3]^e[13]^e[23]^e[33]^e[43])<<1|(a=e[2]^e[12]^e[22]^e[32]^e[42])>>>31),e[0]^=t=(d=e[8]^e[18]^e[28]^e[38]^e[48])^(a<<1|s>>>31),e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,r=o^(l<<1|c>>>31),e[2]^=t=i^(c<<1|l>>>31),e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,r=s^(f<<1|u>>>31),e[4]^=t=a^(u<<1|f>>>31),e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,r=l^(h<<1|d>>>31),e[6]^=t=c^(d<<1|h>>>31),e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,r=f^(o<<1|i>>>31),e[8]^=t=u^(i<<1|o>>>31),e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,m=e[1],W=e[11]<<4|e[10]>>>28,Y=e[10]<<4|e[11]>>>28,O=e[20]<<3|e[21]>>>29,A=e[21]<<3|e[20]>>>29,se=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,H=e[40]<<18|e[41]>>>14,q=e[41]<<18|e[40]>>>14,B=e[2]<<1|e[3]>>>31,D=e[3]<<1|e[2]>>>31,y=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,T=e[33]<<13|e[32]>>>19,R=e[32]<<13|e[33]>>>19,le=e[42]<<2|e[43]>>>30,ue=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,j=e[14]<<6|e[15]>>>26,L=e[15]<<6|e[14]>>>26,w=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,$=e[35]<<15|e[34]>>>17,I=e[45]<<29|e[44]>>>3,N=e[44]<<29|e[45]>>>3,C=e[6]<<28|e[7]>>>4,E=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,F=e[26]<<25|e[27]>>>7,z=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,M=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,G=e[8]<<27|e[9]>>>5,V=e[9]<<27|e[8]>>>5,P=e[18]<<20|e[19]>>>12,x=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,ae=e[28]<<7|e[29]>>>25,U=e[38]<<8|e[39]>>>24,K=e[39]<<8|e[38]>>>24,k=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=(b=e[0])^~(g=e[13]<<12|e[12]>>>20)&(v=e[25]<<11|e[24]>>>21),e[1]=m^~y&w,e[10]=C^~P&O,e[11]=E^~x&A,e[20]=B^~j&F,e[21]=D^~L&z,e[30]=G^~W&J,e[31]=V^~Y&Z,e[40]=te^~ne&oe,e[41]=re^~ie&ae,e[2]=g^~v&_,e[3]=y^~w&M,e[12]=P^~O&T,e[13]=x^~A&R,e[22]=j^~F&U,e[23]=L^~z&K,e[32]=W^~J&X,e[33]=Y^~Z&$,e[42]=ne^~oe&se,e[43]=ie^~ae&ce,e[4]=v^~_&k,e[5]=w^~M&S,e[14]=O^~T&I,e[15]=A^~R&N,e[24]=F^~U&H,e[25]=z^~K&q,e[34]=J^~X&Q,e[35]=Z^~$&ee,e[44]=oe^~se&le,e[45]=ae^~ce&ue,e[6]=_^~k&b,e[7]=M^~S&m,e[16]=T^~I&C,e[17]=R^~N&E,e[26]=U^~H&B,e[27]=K^~q&D,e[36]=X^~Q&G,e[37]=$^~ee&V,e[46]=se^~le&te,e[47]=ce^~ue&re,e[8]=k^~b&g,e[9]=S^~m&y,e[18]=I^~C&P,e[19]=N^~E&x,e[28]=H^~B&j,e[29]=q^~D&L,e[38]=Q^~G&W,e[39]=ee^~V&Y,e[48]=le^~te&ne,e[49]=ue^~re&ie,e[0]^=p[n],e[1]^=p[n+1]};if(c)e.exports=E;else{for(x=0;x<P.length;++x)a[P[x]]=E[P[x]];l&&(void 0===(n=(function(){return E}).call(t,r,t,e))||(e.exports=n))}}()},HaNN:function(e,t,r){e.exports=function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,(function(e){return i(t[a][1][e]||e)}),l,l.exports,e,t,r,n)}return r[a].exports}for(var o=!1,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.Wallet7=void 0;const i=e("js-sha3"),o=n(e("eth-crypto")),a=e("./lib/jwt-seven");var s=e("./lib/jwt-seven");Object.defineProperty(r,"JWT7",{enumerable:!0,get:function(){return s.JWT7}});class c{constructor(){this.claims=[]}static isEmailValid(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.trim().toLowerCase())}static sortHash(e){let t="";e.sort();for(let r=0;r<e.length;r++)t=i.shake256(t+":"+e[r],this.hashLength);return t}static hash(e){return i.shake256(e,this.hashLength)}static prefix(e){return"0"===e.charAt(0)&&"x"===e.charAt(1)||(e="0x"+e),e}static getAddress(e){return e=this.prefix(e),this.prefix(i.shake256(e,this.addressLength))}static verify(e,t,r){const n=o.default.recoverPublicKey(e,t);return r===this.getAddress(n)}static verifyClaim(e){return!!(e.signature&&e.hash&&e.issuer)&&this.verify(e.signature,e.hash,e.issuer)}static encrypt(e){}isPasswordValid(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/.test(e)}fromEmail(e,t){if(!c.isEmailValid(e))throw new Error("Invalid email `"+e+"` provided");if(!this.isPasswordValid(t))throw new Error("Invalid password provided");this.email=e,this.derivePrivateKey(e,t),this.derivePublicKey(),this.generateAddress(),this.generateAuthJWT()}isValidPrivateKey(e){return!0}fromPrivateKey(e,t){if(!this.isValidPrivateKey(e))throw new Error("Invalid private key provided");this.privateKey=e,this.email=t,this.derivePublicKey(),this.generateAddress(),this.generateAuthJWT()}derivePrivateKey(e,t){const r=c.hash(e),n=c.hash(t),i=c.sortHash([e,n]),o=c.sortHash([t,r]),a=c.sortHash([i,o,r,n]);this.privateKey=c.prefix(a)}derivePublicKey(){this.privateKey&&(this.publicKey=c.prefix(o.default.publicKeyByPrivateKey(this.privateKey)))}generateAddress(){this.publicKey&&(this.address=c.getAddress(this.publicKey))}createClaim(e,t){if(!this.address)throw new Error("Cannot generate claim without an address");const r=new a.JWT7(e,this.address,t);return r.hash&&r.setSignature(this.sign(r.hash)),this.claims.push(r),r}static claimFromString(e){return a.JWT7.fromString(e)}generateAuthJWT(){this.jwt=this.createClaim("auth-request",{email:this.email,address:this.address})}sign(e){if(!this.privateKey)throw new Error("Cannot sign without a private key");return o.default.sign(this.privateKey,e)}decrypt(e){}}r.Wallet7=c,c.hashLength=256,c.addressLength=128},{"./lib/jwt-seven":2,"eth-crypto":86,"js-sha3":155}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.JWT7=void 0;const n=e("js-base64"),i=e("js-sha3");class o{constructor(e,t,r,i,o=-1){this.hashLength=256,this.type=e,this.issuer=t,this.timestamp=i||Date.now(),this.ttl=o,this.payload=r;const a=n.Base64.encode([this.issuer,this.timestamp,this.ttl,JSON.stringify(this.payload)].join(":"));this.hash=this.getHash(a)}getHash(e){return i.shake256(e,this.hashLength)}toString(){const e=[];return e.push(n.Base64.encode(this.type)),e.push(n.Base64.encode(this.issuer)),e.push(n.Base64.encode(this.timestamp.toString())),e.push(n.Base64.encode(this.ttl.toString())),e.push(n.Base64.encode(JSON.stringify(this.payload))),e.push(n.Base64.encode(this.hash)),this.signature&&e.push(n.Base64.encode(this.signature)),console.log(e.length,e),e.join(".")}static fromString(e){const t=e.split("."),r=n.Base64.decode(t[0]),i=n.Base64.decode(t[1]),a=parseInt(n.Base64.decode(t[2])),s=parseInt(n.Base64.decode(t[3])),c=JSON.parse(n.Base64.decode(t[4])),l=(n.Base64.decode(t[5]),n.Base64.decode(t[6])),u=new o(r,i,c,a,s);return u.setSignature(l),u}setSignature(e){this.signature=e}}r.JWT7=o},{"js-base64":154,"js-sha3":155}],3:[function(e,t,r){t.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":9}],4:[function(e,t,r){"use strict";r.__esModule=!0;var n,i=(n=e("../core-js/array/from"))&&n.__esModule?n:{default:n};r.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,i.default)(e)}},{"../core-js/array/from":3}],5:[function(e,t,r){var n=e("safe-buffer").Buffer;t.exports={check:function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;var t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;var r=e[5+t];return!(0===r||6+t+r!==e.length||128&e[4]||t>1&&0===e[4]&&!(128&e[5])||128&e[t+6]||r>1&&0===e[t+6]&&!(128&e[t+7]))},decode:function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");var t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");var r=e[5+t];if(0===r)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},encode:function(e,t){var r=e.length,i=t.length;if(0===r)throw new Error("R length is zero");if(0===i)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(i>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(i>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");var o=n.allocUnsafe(6+r+i);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=e.length,e.copy(o,4),o[4+r]=2,o[5+r]=t.length,t.copy(o,6+r),o}}},{"safe-buffer":182}],6:[function(e,t,r){!function(t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof t?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;try{a=e("buffer").Buffer}catch(S){}function s(e,t,r){for(var n=0,i=Math.min(e.length,r),o=t;o<i;o++){var a=e.charCodeAt(o)-48;n<<=4,n|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return n}function c(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)this.words[o]|=(a=e[i]|e[i-1]<<8|e[i-2]<<16)<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)this.words[o]|=(a=e[i]|e[i+1]<<8|e[i+2]<<16)<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=e.length-6,n=0;r>=t;r-=6)i=s(e,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==t&&(i=s(e,t,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,l=0,u=r;u<s;u+=n)l=c(e,u,u+n,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var f=1;for(l=c(e,u,e.length,t),u=0;u<a;u++)f*=t;this.imuln(f),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=a/67108864|0;r.words[0]=67108863&a;for(var c=1;c<n;c++){for(var l=s>>>26,u=67108863&s,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++)l+=(a=(i=0|e.words[c-d|0])*(o=0|t.words[d])+u)/67108864|0,u=67108863&a;r.words[c]=0|u,s=0|l}return 0!==s?r.words[c]=0|s:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);r=0!=(o=s>>>24-i&16777215)||a!==this.length-1?l[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var d=u[e],h=f[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(h).toString(e);r=(p=p.idivn(h)).isZero()?b+r:l[d-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,l=new e(o),u=this.clone();if(c){for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[o-s-1]=a}return l},o.prototype._countBits=Math.clz32?function(e){return 32-Math.clz32(e)}:function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)this.words[o]=67108863&(t=(0|r.words[o])+(0|n.words[o])+i),i=t>>>26;for(;0!==i&&o<r.length;o++)this.words[o]=67108863&(t=(0|r.words[o])+i),i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,r){var n,i,o,a=e.words,s=t.words,c=r.words,l=0,u=0|a[0],f=8191&u,d=u>>>13,h=0|a[1],p=8191&h,b=h>>>13,m=0|a[2],g=8191&m,y=m>>>13,v=0|a[3],w=8191&v,_=v>>>13,M=0|a[4],k=8191&M,S=M>>>13,C=0|a[5],E=8191&C,P=C>>>13,x=0|a[6],O=8191&x,A=x>>>13,T=0|a[7],R=8191&T,I=T>>>13,N=0|a[8],B=8191&N,D=N>>>13,j=0|a[9],L=8191&j,F=j>>>13,z=0|s[0],U=8191&z,K=z>>>13,H=0|s[1],q=8191&H,G=H>>>13,V=0|s[2],W=8191&V,Y=V>>>13,J=0|s[3],Z=8191&J,X=J>>>13,$=0|s[4],Q=8191&$,ee=$>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,le=se>>>13,ue=0|s[8],fe=8191&ue,de=ue>>>13,he=0|s[9],pe=8191&he,be=he>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(l+(n=Math.imul(f,U))|0)+((8191&(i=(i=Math.imul(f,K))+Math.imul(d,U)|0))<<13)|0;l=((o=Math.imul(d,K))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,K))+Math.imul(b,U)|0,o=Math.imul(b,K);var ge=(l+(n=n+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(d,q)|0))<<13)|0;l=((o=o+Math.imul(d,G)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,U),i=(i=Math.imul(g,K))+Math.imul(y,U)|0,o=Math.imul(y,K),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(b,q)|0,o=o+Math.imul(b,G)|0;var ye=(l+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(d,W)|0))<<13)|0;l=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,K))+Math.imul(_,U)|0,o=Math.imul(_,K),n=n+Math.imul(g,q)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,G)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,Y)|0;var ve=(l+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(d,Z)|0))<<13)|0;l=((o=o+Math.imul(d,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,U),i=(i=Math.imul(k,K))+Math.imul(S,U)|0,o=Math.imul(S,K),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,X)|0;var we=(l+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;l=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(E,U),i=(i=Math.imul(E,K))+Math.imul(P,U)|0,o=Math.imul(P,K),n=n+Math.imul(k,q)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,G)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0;var _e=(l+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(d,re)|0))<<13)|0;l=((o=o+Math.imul(d,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(O,U),i=(i=Math.imul(O,K))+Math.imul(A,U)|0,o=Math.imul(A,K),n=n+Math.imul(E,q)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,G)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Y)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Me=(l+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(d,oe)|0))<<13)|0;l=((o=o+Math.imul(d,ae)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(R,U),i=(i=Math.imul(R,K))+Math.imul(I,U)|0,o=Math.imul(I,K),n=n+Math.imul(O,q)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(E,W)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0;var ke=(l+(n=n+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,le)|0)+Math.imul(d,ce)|0))<<13)|0;l=((o=o+Math.imul(d,le)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,K))+Math.imul(D,U)|0,o=Math.imul(D,K),n=n+Math.imul(R,q)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,le)|0;var Se=(l+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;l=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,U),i=(i=Math.imul(L,K))+Math.imul(F,U)|0,o=Math.imul(F,K),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,G)|0,n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,le)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(b,fe)|0,o=o+Math.imul(b,de)|0;var Ce=(l+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,be)|0)+Math.imul(d,pe)|0))<<13)|0;l=((o=o+Math.imul(d,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,G))+Math.imul(F,q)|0,o=Math.imul(F,G),n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,X)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,ae)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,le)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,le)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,de)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,de)|0;var Ee=(l+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;l=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(L,W),i=(i=Math.imul(L,Y))+Math.imul(F,W)|0,o=Math.imul(F,Y),n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,X)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,n=n+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(S,ce)|0,o=o+Math.imul(S,le)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,de)|0;var Pe=(l+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,be)|0)+Math.imul(y,pe)|0))<<13)|0;l=((o=o+Math.imul(y,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,X))+Math.imul(F,Z)|0,o=Math.imul(F,X),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,n=n+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,le)|0)+Math.imul(P,ce)|0,o=o+Math.imul(P,le)|0,n=n+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(S,fe)|0,o=o+Math.imul(S,de)|0;var xe=(l+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,be)|0)+Math.imul(_,pe)|0))<<13)|0;l=((o=o+Math.imul(_,be)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,Q),i=(i=Math.imul(L,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(D,re)|0,o=o+Math.imul(D,ne)|0,n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,le)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,de)|0;var Oe=(l+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,be)|0)+Math.imul(S,pe)|0))<<13)|0;l=((o=o+Math.imul(S,be)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(F,re)|0,o=Math.imul(F,ne),n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,ae)|0)+Math.imul(D,oe)|0,o=o+Math.imul(D,ae)|0,n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,le)|0,n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,de)|0)+Math.imul(A,fe)|0,o=o+Math.imul(A,de)|0;var Ae=(l+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,be)|0)+Math.imul(P,pe)|0))<<13)|0;l=((o=o+Math.imul(P,be)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(L,oe),i=(i=Math.imul(L,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),n=n+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,le)|0)+Math.imul(D,ce)|0,o=o+Math.imul(D,le)|0,n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,de)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,de)|0;var Te=(l+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,be)|0)+Math.imul(A,pe)|0))<<13)|0;l=((o=o+Math.imul(A,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,ce),i=(i=Math.imul(L,le))+Math.imul(F,ce)|0,o=Math.imul(F,le),n=n+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,de)|0)+Math.imul(D,fe)|0,o=o+Math.imul(D,de)|0;var Re=(l+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,be)|0)+Math.imul(I,pe)|0))<<13)|0;l=((o=o+Math.imul(I,be)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(L,fe),i=(i=Math.imul(L,de))+Math.imul(F,fe)|0,o=Math.imul(F,de);var Ie=(l+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,be)|0)+Math.imul(D,pe)|0))<<13)|0;l=((o=o+Math.imul(D,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863;var Ne=(l+(n=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,be))+Math.imul(F,pe)|0))<<13)|0;return l=((o=Math.imul(F,be))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,c[0]=me,c[1]=ge,c[2]=ye,c[3]=ve,c[4]=we,c[5]=_e,c[6]=Me,c[7]=ke,c[8]=Se,c[9]=Ce,c[10]=Ee,c[11]=Pe,c[12]=xe,c[13]=Oe,c[14]=Ae,c[15]=Te,c[16]=Re,c[17]=Ie,c[18]=Ne,0!==l&&(c[19]=l,r.length++),r};function p(e,t,r){return(new b).mulp(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(h=d),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?h(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=c;l++){var u=(0|e.words[o-l])*(0|t.words[l]),f=67108863&u;s=67108863&(f=f+s|0),i+=(a=(a=a+(u/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},b.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var f=c,d=l,h=0;h<a;h++){var p=r[u+h],b=n[u+h],m=r[u+h+a],g=n[u+h+a],y=f*m-d*g;g=f*g+d*m,r[u+h]=p+(m=y),n[u+h]=b+g,r[u+h+a]=p-m,n[u+h+a]=b-g,h!==s&&(y=c*f-l*d,d=c*d+l*f,f=y)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,r,i){for(var o=0,a=0;a<t;a++)r[2*a]=8191&(o+=0|e[a]),r[2*a+1]=8191&(o>>>=13),o>>>=13;for(a=2*t;a<i;++a)r[a]=0;n(0===o),n(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),l=new Array(n),u=new Array(n),f=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,l,n),this.transform(a,o,s,c,n,i),this.transform(l,o,u,f,n,i);for(var h=0;h<n;h++){var p=s[h]*u[h]-c[h]*f[h];c[h]=s[h]*f[h]+c[h]*u[h],s[h]=p}return this.conjugate(s,c,n),this.transform(s,c,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),p(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r%26;t[r]=(e.words[r/26|0]&1<<n)>>>n}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o;this.words[t]=(0|this.words[t])-s<<r|a,a=s>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=r;if(i-=a,i=Math.max(0,i),c){for(var l=0;l<a;l++)c.words[l]=this.words[l];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var f=0|this.words[l];this.words[l]=u<<26-o|f>>>o,u=f&s}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return!(this.length<=r||!(this.words[r]&1<<t))},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r?this:(0!==t&&r++,this.length=Math.min(r,this.length),0!==t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this.strip())},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o;this._expand(e.length+r);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var s=(0|e.words[i])*t;a=((o-=67108863&s)>>26)-(s/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r,n=this.clone(),i=e,a=0|i.words[i.length-1];0!=(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,c=n.length-i.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var u=n.clone()._ishlnsubmul(i,1,c);0===u.negative&&(n=u,s&&(s.words[c]=1));for(var f=c-1;f>=0;f--){var d=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(d=Math.min(d/a|0,67108863),n._ishlnsubmul(i,d,f);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=d)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0==(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(u),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,b=1;0==(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(f)),s.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),a.isub(c)):(r.isub(t),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(l)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,u=1;0==(t.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(t.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var f=0,d=1;0==(r.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(r.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(s)):(r.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,this.words[a]=s&=67108863}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new M(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function g(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){M.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},g.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},g.prototype.split=function(e,t){e.iushrn(this.n,0,t)},g.prototype.imulK=function(e){return e.imul(this.k)},i(y,g),y.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}e.words[n-10]=i>>>=22,e.length-=0===i&&e.length>10?10:9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];e.words[r]=67108863&(t+=977*n),t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(v,g),i(w,g),i(_,g),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new v;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},M.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},M.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},M.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},M.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},M.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},M.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},M.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},M.prototype.isqr=function(e){return this.imul(e,e.clone())},M.prototype.sqr=function(e){return this.mul(e,e)},M.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var f=this.pow(u,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var b=h,m=0;0!==b.cmp(s);m++)b=b.redSqr();n(m<p);var g=this.pow(f,new o(1).iushln(p-m-1));d=d.redMul(g),f=g.redSqr(),h=h.redMul(f),p=m}return d},M.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},M.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var l=t.words[n],u=c-1;u>=0;u--){var f=l>>u&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4==++s||0===n&&0===u)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}c=26}return i},M.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},M.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new k(e)},i(k,M),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)},{buffer:219}],7:[function(e,t,r){var n;function i(e){this.rand=e}if(t.exports=function(e){return n||(n=new i(null)),n.generate(e)},t.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=e("crypto");if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(a){}},{crypto:219}],8:[function(e,t,r){var n=e("safe-buffer").Buffer,i=e("stream").Transform,o=e("string_decoder").StringDecoder;function a(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(a,i),a.prototype.update=function(e,t,r){"string"==typeof e&&(e=n.from(e,t));var i=this._update(e);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(i){n=i}finally{r(n)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(r){t=r}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},t.exports=a},{inherits:152,"safe-buffer":182,stream:391,string_decoder:392}],9:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/_core").Array.from},{"../../modules/_core":15,"../../modules/es6.array.from":59,"../../modules/es6.string.iterator":60}],10:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],11:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":31}],12:[function(e,t,r){var n=e("./_to-iobject"),i=e("./_to-length"),o=e("./_to-absolute-index");t.exports=function(e){return function(t,r,a){var s,c=n(t),l=i(c.length),u=o(a,l);if(e&&r!=r){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===r)return e||u||0;return!e&&-1}}},{"./_to-absolute-index":50,"./_to-iobject":52,"./_to-length":53}],13:[function(e,t,r){var n=e("./_cof"),i=e("./_wks")("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(r){}}(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},{"./_cof":14,"./_wks":57}],14:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],15:[function(e,t,r){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},{}],16:[function(e,t,r){"use strict";var n=e("./_object-dp"),i=e("./_property-desc");t.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},{"./_object-dp":39,"./_property-desc":44}],17:[function(e,t,r){var n=e("./_a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":10}],18:[function(e,t,r){t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],19:[function(e,t,r){t.exports=!e("./_fails")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},{"./_fails":23}],20:[function(e,t,r){var n=e("./_is-object"),i=e("./_global").document,o=n(i)&&n(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{"./_global":24,"./_is-object":31}],21:[function(e,t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],22:[function(e,t,r){var n=e("./_global"),i=e("./_core"),o=e("./_ctx"),a=e("./_hide"),s=e("./_has"),c=function(e,t,r){var l,u,f,d=e&c.F,h=e&c.G,p=e&c.S,b=e&c.P,m=e&c.B,g=e&c.W,y=h?i:i[t]||(i[t]={}),v=y.prototype,w=h?n:p?n[t]:(n[t]||{}).prototype;for(l in h&&(r=t),r)(u=!d&&w&&void 0!==w[l])&&s(y,l)||(f=u?w[l]:r[l],y[l]=h&&"function"!=typeof w[l]?r[l]:m&&u?o(f,n):g&&w[l]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):b&&"function"==typeof f?o(Function.call,f):f,b&&((y.virtual||(y.virtual={}))[l]=f,e&c.R&&v&&!v[l]&&a(v,l,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},{"./_core":15,"./_ctx":17,"./_global":24,"./_has":25,"./_hide":26}],23:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],24:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],25:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],26:[function(e,t,r){var n=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":19,"./_object-dp":39,"./_property-desc":44}],27:[function(e,t,r){var n=e("./_global").document;t.exports=n&&n.documentElement},{"./_global":24}],28:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")((function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a}))},{"./_descriptors":19,"./_dom-create":20,"./_fails":23}],29:[function(e,t,r){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":14}],30:[function(e,t,r){var n=e("./_iterators"),i=e("./_wks")("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},{"./_iterators":36,"./_wks":57}],31:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],32:[function(e,t,r){var n=e("./_an-object");t.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(a){var o=e.return;throw void 0!==o&&n(o.call(e)),a}}},{"./_an-object":11}],33:[function(e,t,r){"use strict";var n=e("./_object-create"),i=e("./_property-desc"),o=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),(function(){return this})),t.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},{"./_hide":26,"./_object-create":38,"./_property-desc":44,"./_set-to-string-tag":46,"./_wks":57}],34:[function(e,t,r){"use strict";var n=e("./_library"),i=e("./_export"),o=e("./_redefine"),a=e("./_hide"),s=e("./_iterators"),c=e("./_iter-create"),l=e("./_set-to-string-tag"),u=e("./_object-gpo"),f=e("./_wks")("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(e,t,r,p,b,m,g){c(r,t,p);var y,v,w,_=function(e){if(!d&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},M=t+" Iterator",k="values"==b,S=!1,C=e.prototype,E=C[f]||C["@@iterator"]||b&&C[b],P=E||_(b),x=b?k?_("entries"):P:void 0,O="Array"==t&&C.entries||E;if(O&&(w=u(O.call(new e)))!==Object.prototype&&w.next&&(l(w,M,!0),n||"function"==typeof w[f]||a(w,f,h)),k&&E&&"values"!==E.name&&(S=!0,P=function(){return E.call(this)}),n&&!g||!d&&!S&&C[f]||a(C,f,P),s[t]=P,s[M]=h,b)if(y={values:k?P:_("values"),keys:m?P:_("keys"),entries:x},g)for(v in y)v in C||o(C,v,y[v]);else i(i.P+i.F*(d||S),t,y);return y}},{"./_export":22,"./_hide":26,"./_iter-create":33,"./_iterators":36,"./_library":37,"./_object-gpo":41,"./_redefine":45,"./_set-to-string-tag":46,"./_wks":57}],35:[function(e,t,r){var n=e("./_wks")("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(a){}t.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],s=o[n]();s.next=function(){return{done:r=!0}},o[n]=function(){return s},e(o)}catch(a){}return r}},{"./_wks":57}],36:[function(e,t,r){t.exports={}},{}],37:[function(e,t,r){t.exports=!0},{}],38:[function(e,t,r){var n=e("./_an-object"),i=e("./_object-dps"),o=e("./_enum-bug-keys"),a=e("./_shared-key")("IE_PROTO"),s=function(){},c=function(){var t,r=e("./_dom-create")("iframe"),n=o.length;for(r.style.display="none",e("./_html").appendChild(r),r.src="javascript:",(t=r.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;n--;)delete c.prototype[o[n]];return c()};t.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=c(),void 0===t?r:i(r,t)}},{"./_an-object":11,"./_dom-create":20,"./_enum-bug-keys":21,"./_html":27,"./_object-dps":40,"./_shared-key":47}],39:[function(e,t,r){var n=e("./_an-object"),i=e("./_ie8-dom-define"),o=e("./_to-primitive"),a=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(s){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":11,"./_descriptors":19,"./_ie8-dom-define":28,"./_to-primitive":55}],40:[function(e,t,r){var n=e("./_object-dp"),i=e("./_an-object"),o=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),s=a.length,c=0;s>c;)n.f(e,r=a[c++],t[r]);return e}},{"./_an-object":11,"./_descriptors":19,"./_object-dp":39,"./_object-keys":43}],41:[function(e,t,r){var n=e("./_has"),i=e("./_to-object"),o=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":25,"./_shared-key":47,"./_to-object":54}],42:[function(e,t,r){var n=e("./_has"),i=e("./_to-iobject"),o=e("./_array-includes")(!1),a=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,s=i(e),c=0,l=[];for(r in s)r!=a&&n(s,r)&&l.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~o(l,r)||l.push(r));return l}},{"./_array-includes":12,"./_has":25,"./_shared-key":47,"./_to-iobject":52}],43:[function(e,t,r){var n=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,i)}},{"./_enum-bug-keys":21,"./_object-keys-internal":42}],44:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],45:[function(e,t,r){t.exports=e("./_hide")},{"./_hide":26}],46:[function(e,t,r){var n=e("./_object-dp").f,i=e("./_has"),o=e("./_wks")("toStringTag");t.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},{"./_has":25,"./_object-dp":39,"./_wks":57}],47:[function(e,t,r){var n=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return n[e]||(n[e]=i(e))}},{"./_shared":48,"./_uid":56}],48:[function(e,t,r){var n=e("./_core"),i=e("./_global"),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:e("./_library")?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},{"./_core":15,"./_global":24,"./_library":37}],49:[function(e,t,r){var n=e("./_to-integer"),i=e("./_defined");t.exports=function(e){return function(t,r){var o,a,s=String(i(t)),c=n(r),l=s.length;return c<0||c>=l?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},{"./_defined":18,"./_to-integer":51}],50:[function(e,t,r){var n=e("./_to-integer"),i=Math.max,o=Math.min;t.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},{"./_to-integer":51}],51:[function(e,t,r){var n=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},{}],52:[function(e,t,r){var n=e("./_iobject"),i=e("./_defined");t.exports=function(e){return n(i(e))}},{"./_defined":18,"./_iobject":29}],53:[function(e,t,r){var n=e("./_to-integer"),i=Math.min;t.exports=function(e){return e>0?i(n(e),9007199254740991):0}},{"./_to-integer":51}],54:[function(e,t,r){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":18}],55:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":31}],56:[function(e,t,r){var n=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},{}],57:[function(e,t,r){var n=e("./_shared")("wks"),i=e("./_uid"),o=e("./_global").Symbol,a="function"==typeof o;(t.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=n},{"./_global":24,"./_shared":48,"./_uid":56}],58:[function(e,t,r){var n=e("./_classof"),i=e("./_wks")("iterator"),o=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[n(e)]}},{"./_classof":13,"./_core":15,"./_iterators":36,"./_wks":57}],59:[function(e,t,r){"use strict";var n=e("./_ctx"),i=e("./_export"),o=e("./_to-object"),a=e("./_iter-call"),s=e("./_is-array-iter"),c=e("./_to-length"),l=e("./_create-property"),u=e("./core.get-iterator-method");i(i.S+i.F*!e("./_iter-detect")((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,i,f,d=o(e),h="function"==typeof this?this:Array,p=arguments.length,b=p>1?arguments[1]:void 0,m=void 0!==b,g=0,y=u(d);if(m&&(b=n(b,p>2?arguments[2]:void 0,2)),null==y||h==Array&&s(y))for(r=new h(t=c(d.length));t>g;g++)l(r,g,m?b(d[g],g):d[g]);else for(f=y.call(d),r=new h;!(i=f.next()).done;g++)l(r,g,m?a(f,b,[i.value,g],!0):i.value);return r.length=g,r}})},{"./_create-property":16,"./_ctx":17,"./_export":22,"./_is-array-iter":30,"./_iter-call":32,"./_iter-detect":35,"./_to-length":53,"./_to-object":54,"./core.get-iterator-method":58}],60:[function(e,t,r){"use strict";var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},{"./_iter-define":34,"./_string-at":49}],61:[function(e,t,r){"use strict";var n=e("inherits"),i=e("md5.js"),o=e("ripemd160"),a=e("sha.js"),s=e("cipher-base");function c(e){s.call(this,"digest"),this._hash=e}n(c,s),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},t.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new c(a(e))}},{"cipher-base":8,inherits:152,"md5.js":162,ripemd160:180,"sha.js":187}],62:[function(e,t,r){(function(t,n){"use strict";var i=new(0,e("elliptic").ec)("secp256k1"),o=t.crypto||t.msCrypto||{},a=o.subtle||o.webkitSubtle,s=e("crypto");const c=n.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),l=n.alloc(32,0);function u(e,t){if(!e)throw new Error(t||"Assertion failed")}function f(e){return!(!n.isBuffer(t=e)||32!==t.length)&&e.compare(l)>0&&e.compare(c)<0;var t}function d(e){var t=new Uint8Array(e);return void 0===o.getRandomValues?n.from(s.randomBytes(e)):(o.getRandomValues(t),n.from(t))}function h(e){return new Promise((function(t){var r=s.createHash("sha512").update(e).digest();t(new Uint8Array(r))}))}function p(e){return function(t,r,i){return new Promise((function(o){if(a)return a.importKey("raw",r,{name:"AES-CBC"},!1,[e]).then((function(r){return a[e]({name:"AES-CBC",iv:t},r,i)})).then((function(e){o(n.from(new Uint8Array(e)))}));if("encrypt"===e){var c=s.createCipheriv("aes-256-cbc",r,t);let e=c.update(i),a=c.final();o(n.concat([e,a]))}else if("decrypt"===e){var l=s.createDecipheriv("aes-256-cbc",r,t);let e=l.update(i),a=l.final();o(n.concat([e,a]))}}))}}var b=p("encrypt"),m=p("decrypt");r.generatePrivate=function(){for(var e=d(32);!f(e);)e=d(32);return e};var g=r.getPublic=function(e){return u(32===e.length,"Bad private key"),u(f(e),"Bad private key"),n.from(i.keyFromPrivate(e).getPublic("arr"))};r.getPublicCompressed=function(e){return u(32===e.length,"Bad private key"),u(f(e),"Bad private key"),n.from(i.keyFromPrivate(e).getPublic(!0,"arr"))},r.sign=function(e,t){return new Promise((function(r){u(32===e.length,"Bad private key"),u(f(e),"Bad private key"),u(t.length>0,"Message should not be empty"),u(t.length<=32,"Message is too long"),r(n.from(i.sign(t,e,{canonical:!0}).toDER()))}))},r.verify=function(e,t,r){return new Promise((function(n,o){u(65===e.length||33===e.length,"Bad public key"),65===e.length&&u(4===e[0],"Bad public key"),33===e.length&&u(2===e[0]||3===e[0],"Bad public key"),u(t.length>0,"Message should not be empty"),u(t.length<=32,"Message is too long"),i.verify(t,r,e)?n(null):o(new Error("Bad signature"))}))};var y=r.derive=function(e,t){return new Promise((function(r){u(n.isBuffer(e),"Bad private key"),u(n.isBuffer(t),"Bad public key"),u(32===e.length,"Bad private key"),u(f(e),"Bad private key"),u(65===t.length||33===t.length,"Bad public key"),65===t.length&&u(4===t[0],"Bad public key"),33===t.length&&u(2===t[0]||3===t[0],"Bad public key");var o=i.keyFromPrivate(e),a=i.keyFromPublic(t),s=o.derive(a.getPublic());r(n.from(s.toArray()))}))};r.encrypt=function(e,t,r){var i,o,a,c;return r=r||{},new Promise((function(t){for(var n=r.ephemPrivateKey||d(32);!f(n);)n=r.ephemPrivateKey||d(32);o=g(n),t(y(n,e))})).then((function(e){return h(e)})).then((function(e){i=r.iv||d(16);var n=e.slice(0,32);return c=e.slice(32),b(i,n,t)})).then((function(e){var t=n.concat([i,o,a=e]);return function(e,t){return new Promise((function(r){var i=s.createHmac("sha256",n.from(e));i.update(t),r(i.digest())}))}(c,t)})).then((function(e){return{iv:i,ephemPublicKey:o,ciphertext:a,mac:e}}))},r.decrypt=function(e,t){var r;return y(e,t.ephemPublicKey).then((function(e){return h(e)})).then((function(e){r=e.slice(0,32);var i,o,a,c=e.slice(32),l=n.concat([t.iv,t.ephemPublicKey,t.ciphertext]);return i=c,o=l,a=t.mac,new Promise((function(e){var t=s.createHmac("sha256",n.from(i));t.update(o),e(function(e,t){if(e.length!==t.length)return!1;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(t.digest(),a))}))})).then((function(e){return u(e,"Bad MAC"),m(t.iv,r,t.ciphertext)})).then((function(e){return n.from(new Uint8Array(e))}))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{buffer:264,crypto:273,elliptic:63}],63:[function(e,t,r){"use strict";var n=r;n.version=e("../package.json").version,n.utils=e("./elliptic/utils"),n.rand=e("brorand"),n.curve=e("./elliptic/curve"),n.curves=e("./elliptic/curves"),n.ec=e("./elliptic/ec"),n.eddsa=e("./elliptic/eddsa")},{"../package.json":78,"./elliptic/curve":66,"./elliptic/curves":69,"./elliptic/ec":70,"./elliptic/eddsa":73,"./elliptic/utils":77,brorand:7}],64:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../utils"),o=i.getNAF,a=i.getJSF,s=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(e,t){this.curve=e,this.type=t,this.precomputed=null}t.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){s(e.precomputed);var r=e._getDoubles(),n=o(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var a=[],c=0;c<n.length;c+=r.step){var l=0;for(t=c+r.step-1;t>=c;t--)l=(l<<1)+n[t];a.push(l)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=i;d>0;d--){for(c=0;c<a.length;c++)(l=a[c])===d?f=f.mixedAdd(r.points[c]):l===-d&&(f=f.mixedAdd(r.points[c].neg()));u=u.add(f)}return u.toP()},c.prototype._wnafMul=function(e,t){for(var r=4,n=e._getNAFPoints(r),i=n.points,a=o(t,r=n.wnd,this._bitLength),c=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(t=0;l>=0&&0===a[l];l--)t++;if(l>=0&&t++,c=c.dblp(t),l<0)break;var u=a[l];s(0!==u),c="affine"===e.type?c.mixedAdd(u>0?i[u-1>>1]:i[-u-1>>1].neg()):c.add(u>0?i[u-1>>1]:i[-u-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){for(var s=this._wnafT1,c=this._wnafT2,l=this._wnafT3,u=0,f=0;f<n;f++){var d=(k=t[f])._getNAFPoints(e);s[f]=d.wnd,c[f]=d.points}for(f=n-1;f>=1;f-=2){var h=f-1,p=f;if(1===s[h]&&1===s[p]){var b=[t[h],null,null,t[p]];0===t[h].y.cmp(t[p].y)?(b[1]=t[h].add(t[p]),b[2]=t[h].toJ().mixedAdd(t[p].neg())):0===t[h].y.cmp(t[p].y.redNeg())?(b[1]=t[h].toJ().mixedAdd(t[p]),b[2]=t[h].add(t[p].neg())):(b[1]=t[h].toJ().mixedAdd(t[p]),b[2]=t[h].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],g=a(r[h],r[p]);u=Math.max(g[0].length,u),l[h]=new Array(u),l[p]=new Array(u);for(var y=0;y<u;y++)l[h][y]=m[3*(1+(0|g[0][y]))+(1+(0|g[1][y]))],l[p][y]=0,c[h]=b}else l[h]=o(r[h],s[h],this._bitLength),l[p]=o(r[p],s[p],this._bitLength),u=Math.max(l[h].length,u),u=Math.max(l[p].length,u)}var v=this.jpoint(null,null,null),w=this._wnafT4;for(f=u;f>=0;f--){for(var _=0;f>=0;){var M=!0;for(y=0;y<n;y++)w[y]=0|l[y][f],0!==w[y]&&(M=!1);if(!M)break;_++,f--}if(f>=0&&_++,v=v.dblp(_),f<0)break;for(y=0;y<n;y++){var k,S=w[y];0!==S&&(S>0?k=c[y][S-1>>1]:S<0&&(k=c[y][-S-1>>1].neg()),v="affine"===k.type?v.mixedAdd(k):v.add(k))}}for(f=0;f<n;f++)c[f]=null;return i?v:v.toP()},c.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(e){return this.encode(e,!0)},l.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},l.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},l.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},l.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},l.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},l.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},{"../utils":77,"bn.js":6}],65:[function(e,t,r){"use strict";var n=e("../utils"),i=e("bn.js"),o=e("inherits"),a=e("./base"),s=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function l(e,t,r,n,o){a.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,a),t.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o(l,a.BasePoint),c.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new l(this,e,t,r,n)},l.fromJSON=function(e,t){return new l(e,t[0],t[1],t[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(r),s=n.redSub(t),c=i.redMul(a),l=o.redMul(s),u=i.redMul(s),f=a.redMul(o);return this.curve.point(c,l,f,u)},l.prototype._projDbl=function(){var e,t,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var a=(l=this.curve._mulA(i)).redAdd(o);if(this.zOne)e=n.redSub(i).redSub(o).redMul(a.redSub(this.curve.two)),t=a.redMul(l.redSub(o)),r=a.redSqr().redSub(a).redSub(a);else{var s=this.z.redSqr(),c=a.redSub(s).redISub(s);e=n.redSub(i).redISub(o).redMul(c),t=a.redMul(l.redSub(o)),r=a.redMul(c)}}else{var l=i.redAdd(o);s=this.curve._mulC(this.z).redSqr(),c=l.redSub(s).redSub(s),e=this.curve._mulC(n.redISub(l)).redMul(c),t=this.curve._mulC(l).redMul(i.redISub(o)),r=l.redMul(c)}return this.curve.point(e,t,r)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),a=i.redSub(n),s=i.redAdd(n),c=r.redAdd(t),l=o.redMul(a),u=s.redMul(c),f=o.redMul(c),d=a.redMul(s);return this.curve.point(l,u,d,f)},l.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),c=i.redSub(s),l=i.redAdd(s),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),f=n.redMul(c).redMul(u);return this.curve.twisted?(t=n.redMul(l).redMul(a.redSub(this.curve._mulA(o))),r=c.redMul(l)):(t=n.redMul(l).redMul(a.redSub(o)),r=this.curve._mulC(c).redMul(l)),this.curve.point(f,t,r)},l.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},l.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},l.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},l.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},{"../utils":77,"./base":64,"bn.js":6,inherits:152}],66:[function(e,t,r){"use strict";var n=r;n.base=e("./base"),n.short=e("./short"),n.mont=e("./mont"),n.edwards=e("./edwards")},{"./base":64,"./edwards":65,"./mont":67,"./short":68}],67:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("inherits"),o=e("./base"),a=e("../utils");function s(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),t.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new c(this,e,t)},s.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),a=i.redMul(n),s=t.z.redMul(o.redAdd(a).redSqr()),c=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":77,"./base":64,"bn.js":6,inherits:152}],68:[function(e,t,r){"use strict";var n=e("../utils"),i=e("bn.js"),o=e("inherits"),a=e("./base"),s=n.assert;function c(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(e,t,r,n){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,r,n){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,a),t.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:s(0===this.g.mul(r=o[1]).x.cmp(this.g.x.redMul(t)))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,o,a,s,c,l,u,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),p=new i(1),b=new i(0),m=new i(0),g=new i(1),y=0;0!==d.cmpn(0);){var v=h.div(d);l=h.sub(v.mul(d)),u=m.sub(v.mul(p));var w=g.sub(v.mul(b));if(!n&&l.cmp(f)<0)t=c.neg(),r=p,n=l.neg(),o=u;else if(n&&2==++y)break;c=l,h=d,d=l,m=p,p=u,g=b,b=w}a=l.neg(),s=u;var _=n.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(_)>=0&&(a=t,s=r),n.negative&&(n=n.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:o},{a,b:s}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),c=i.mul(r.b),l=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:c.add(l).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[2*o]=s,n[2*o+1]=c,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),u=0;u<2*o;u++)n[u]=null,i[u]=null;return l},o(l,a.BasePoint),c.prototype.point=function(e,t,r){return new l(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return l.fromJSON(this,e,t)},l.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},l.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},l.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},l.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},l.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(u,a.BasePoint),c.prototype.jpoint=function(e,t,r){return new u(this,e,t,r)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(o.redMul(u)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(d,h,p)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),l=c.redMul(a),u=r.redMul(c),f=s.redSqr().redIAdd(l).redISub(u).redISub(u),d=s.redMul(u.redISub(f)).redISub(i.redMul(l)),h=this.z.redMul(a);return this.curve.jpoint(f,d,h)},u.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),l=a.redAdd(a);for(r=0;r<e;r++){var u=o.redSqr(),f=l.redSqr(),d=f.redSqr(),h=u.redAdd(u).redIAdd(u).redIAdd(n.redMul(c)),p=o.redMul(f),b=h.redSqr().redISub(p.redAdd(p)),m=p.redISub(b),g=h.redMul(m);g=g.redIAdd(g).redISub(d);var y=l.redMul(s);r+1<e&&(c=c.redMul(d)),o=b,s=y,l=g}return this.curve.jpoint(o,l.redMul(i),s)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),c=s.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=c,t=s.redMul(a.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(u).redISub(d);h=h.redIAdd(h);var p=u.redAdd(u).redIAdd(u),b=p.redSqr(),m=d.redIAdd(d);m=(m=m.redIAdd(m)).redIAdd(m),e=b.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},u.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);e=c;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=s.redMul(a.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),f=this.y.redSqr(),d=this.x.redMul(f),h=this.x.redSub(u).redMul(this.x.redAdd(u));h=h.redAdd(h).redIAdd(h);var p=d.redIAdd(d),b=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(u);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=h.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),l=(c=c.redIAdd(c)).redMul(a),u=s.redSqr().redISub(l.redAdd(l)),f=l.redISub(u),d=a.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=s.redMul(f).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(u,h,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),u=t.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var f=this.x.redMul(s).redISub(u);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.y.redMul(l.redMul(c.redISub(l)).redISub(a.redMul(s)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(f,d,h)},u.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../utils":77,"./base":64,"bn.js":6,inherits:152}],69:[function(e,t,r){"use strict";var n,i=r,o=e("hash.js"),a=e("./curve"),s=e("./utils").assert;function c(e){this.curve="short"===e.type?new a.short(e):"edwards"===e.type?new a.edwards(e):new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=e("./precomputed/secp256k1")}catch(u){n=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},{"./curve":66,"./precomputed/secp256k1":76,"./utils":77,"hash.js":139}],70:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("hmac-drbg"),o=e("../utils"),a=e("../curves"),s=e("brorand"),c=o.assert,l=e("./key"),u=e("./signature");function f(e){if(!(this instanceof f))return new f(e);"string"==typeof e&&(c(a.hasOwnProperty(e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}t.exports=f,f.prototype.keyPair=function(e){return new l(this,e)},f.prototype.keyFromPrivate=function(e,t){return l.fromPrivate(this,e,t)},f.prototype.keyFromPublic=function(e,t){return l.fromPublic(this,e,t)},f.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var a=new n(t.generate(r));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},f.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},f.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),c=e.toArray("be",a),l=new i({hash:this.hash,entropy:s,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new n(1)),d=0;;d++){var h=o.k?o.k(d):new n(l.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(f)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var b=p.getX(),m=b.umod(this.n);if(0!==m.cmpn(0)){var g=h.invm(this.n).mul(m.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==b.cmp(m)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),y^=1),new u({r:m,s:g,recoveryParam:y})}}}}}},f.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new u(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,c=a.invm(this.n),l=c.mul(e).umod(this.n),f=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,r.getPublic(),f)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(l,r.getPublic(),f)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},f.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new u(t,i);var o=this.n,a=new n(e),s=t.r,l=t.s,f=1&r,d=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");s=this.curve.pointFromX(d?s.add(this.curve.n):s,f);var h=t.r.invm(o),p=o.sub(a).mul(h).umod(o),b=l.mul(h).umod(o);return this.g.mulAdd(p,s,b)},f.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new u(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},{"../curves":69,"../utils":77,"./key":71,"./signature":72,"bn.js":6,brorand:7,"hmac-drbg":151}],71:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../utils").assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}t.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":77,"bn.js":6}],72:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../utils"),o=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),this.recoveryParam=void 0===e.recoveryParam?null:e.recoveryParam)}function s(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,a=t.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function l(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}t.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new s;if(48!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var a=c(e,r);if(!1===a)return!1;var l=e.slice(r.place,a+r.place);if(r.place+=a,2!==e[r.place++])return!1;var u=c(e,r);if(!1===u)return!1;if(e.length!==u+r.place)return!1;var f=e.slice(r.place,u+r.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new n(l),this.s=new n(f),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=l(t),r=l(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];u(n,t.length),(n=n.concat(t)).push(2),u(n,r.length);var o=n.concat(r),a=[48];return u(a,o.length),a=a.concat(o),i.encode(a,e)}},{"../utils":77,"bn.js":6}],73:[function(e,t,r){"use strict";var n=e("hash.js"),i=e("../curves"),o=e("../utils"),a=o.assert,s=o.parseBytes,c=e("./key"),l=e("./signature");function u(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof u))return new u(e);this.curve=e=i[e].curve,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}t.exports=u,u.prototype.sign=function(e,t){e=s(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),c=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},u.prototype.verify=function(e,t,r){e=s(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},u.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},u.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},u.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},u.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},u.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},u.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(e){return o.intFromLE(e)},u.prototype.isPoint=function(e){return e instanceof this.pointClass}},{"../curves":69,"../utils":77,"./key":74,"./signature":75,"hash.js":139}],74:[function(e,t,r){"use strict";var n=e("../utils"),i=n.assert,o=n.parseBytes,a=n.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},s.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},t.exports=s},{"../utils":77}],75:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../utils"),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=c},{"../utils":77,"bn.js":6}],76:[function(e,t,r){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],77:[function(e,t,r){"use strict";var n=r,i=e("bn.js"),o=e("minimalistic-assert"),a=e("minimalistic-crypto-utils");n.assert=o,n.toArray=a.toArray,n.zero2=a.zero2,n.toHex=a.toHex,n.encode=a.encode,n.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),a=0;a<n.length;a++){var s,c=o.andln(i-1);o.isOdd()?o.isubn(s=c>(i>>1)-1?(i>>1)-c:c):s=0,n[a]=s,o.iushrn(1)}return n},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o,a,s,c=e.andln(3)+n&3,l=t.andln(3)+i&3;3===c&&(c=-1),3===l&&(l=-1),o=0==(1&c)?0:3!=(s=e.andln(7)+n&7)&&5!==s||2!==l?c:-c,r[0].push(o),a=0==(1&l)?0:3!=(s=t.andln(7)+i&7)&&5!==s||2!==c?l:-l,r[1].push(a),2*n===o+1&&(n=1-n),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},{"bn.js":6,"minimalistic-assert":163,"minimalistic-crypto-utils":164}],78:[function(e,t,r){t.exports={_args:[["elliptic@6.5.3","/mnt/d/Projects/dice-guardians/wallet-seven"]],_from:"elliptic@6.5.3",_id:"elliptic@6.5.3",_inBundle:!1,_integrity:"sha512-IMqzv5wNQf+E6aHeIqATs0tOLeOTwj1QKbRcS3jBbYkl5oLAserA8yJTT7/VyHUYG91PRmPyeQDObKLPpeS4dw==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"elliptic@6.5.3",name:"elliptic",escapedName:"elliptic",rawSpec:"6.5.3",saveSpec:null,fetchSpec:"6.5.3"},_requiredBy:["/@ethersproject/signing-key","/eccrypto","/eccrypto/secp256k1","/eth-lib","/ethereumjs-util/secp256k1","/secp256k1"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.5.3.tgz",_spec:"6.5.3",_where:"/mnt/d/Projects/dice-guardians/wallet-seven",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^3.0.8",grunt:"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.2",jscs:"^3.0.7",jshint:"^2.10.3",mocha:"^6.2.2"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.3"}},{}],79:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){var r=(0,n.generateAddress)(e,t).toString("hex");return(0,n.toChecksumAddress)(r)};var n=e("ethereumjs-util")},{"ethereumjs-util":127}],80:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.stringify=function(e){if("string"==typeof e)return e;var r=(0,n.compress)(e.ephemPublicKey);return t.concat([t.from(e.iv,"hex"),t.from(r,"hex"),t.from(e.mac,"hex"),t.from(e.ciphertext,"hex")]).toString("hex")},r.parse=function(e){if("string"!=typeof e)return e;var r=t.from(e,"hex"),i={iv:r.toString("hex",0,16),ephemPublicKey:r.toString("hex",16,49),mac:r.toString("hex",49,81),ciphertext:r.toString("hex",81,r.length)};return i.ephemPublicKey="04"+(0,n.decompress)(i.ephemPublicKey),i};var n=e("./public-key")}).call(this,e("buffer").Buffer)},{"./public-key":88,buffer:264}],81:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createPrivateKey=c,r.default=function(e){var t=c(e),r=(0,i.fromPrivate)(t);return r.publicKey=(0,n.default)(r.privateKey),r};var n=s(e("./public-key-by-private-key")),i=e("eth-lib/lib/account"),o=e("eth-lib/lib/hash"),a=s(e("eth-lib/lib/bytes"));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e){if(!t.isBuffer(e))throw new Error("EthCrypto.createPrivateKey(): given entropy is no Buffer");if(t.byteLength(e,"utf8")<128)throw new Error("EthCrypto.createPrivateKey(): Entropy-size must be at least 128");return(0,o.keccak256)(e)}var r=(0,o.keccak256)(a.default.concat(a.default.random(32),a.default.random(32))),n=a.default.concat(a.default.concat(a.default.random(32),r),a.default.random(32));return(0,o.keccak256)(n)}}).call(this,e("buffer").Buffer)},{"./public-key-by-private-key":87,buffer:264,"eth-lib/lib/account":96,"eth-lib/lib/bytes":98,"eth-lib/lib/hash":99}],82:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,r){r=(0,i.parse)(r);var a=(0,o.removeTrailing0x)(e),s={iv:t.from(r.iv,"hex"),ephemPublicKey:t.from(r.ephemPublicKey,"hex"),ciphertext:t.from(r.ciphertext,"hex"),mac:t.from(r.mac,"hex")};return(0,n.decrypt)(t.from(a,"hex"),s).then((function(e){return e.toString()}))};var n=e("eccrypto"),i=e("./cipher"),o=e("./util")}).call(this,e("buffer").Buffer)},{"./cipher":80,"./util":94,buffer:264,eccrypto:62}],83:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,r){return e=(0,i.decompress)(e),(0,n.encrypt)(t.from("04"+e,"hex"),t.from(r)).then((function(e){return{iv:e.iv.toString("hex"),ephemPublicKey:e.ephemPublicKey.toString("hex"),ciphertext:e.ciphertext.toString("hex"),mac:e.mac.toString("hex")}}))};var n=e("eccrypto"),i=e("./public-key")}).call(this,e("buffer").Buffer)},{"./public-key":88,buffer:264,eccrypto:62}],84:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SIGN_PREFIX=void 0,r.keccak256=function(e){var t=[],r=[];return Array.isArray(e)?e.forEach((function(e){t.push(e.type),r.push(e.value)})):(t.push("string"),r.push(e)),n.utils.solidityKeccak256(t,r)};var n=e("ethers");r.SIGN_PREFIX="\x19Ethereum Signed Message:\n32"},{ethers:136}],85:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compress=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=(0,n.removeTrailing0x)(e),!0===r)return t.from(e,"hex").toString("base64");for(var i="";e.length%4!=0;)e="0"+e;for(var o=0;o<e.length;o+=4)i+=String.fromCharCode(parseInt(e.substring(o,o+4),16));return i},r.decompress=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!0===r){var i=t.from(e,"base64").toString("hex");return(0,n.addTrailing0x)(i)}for(var o="",a=0;a<e.length;a++)o+=((0==a?"":"000")+e.charCodeAt(a).toString(16)).slice(-4);return o=o.toLowerCase(),(0,n.addTrailing0x)(o)};var n=e("./util")}).call(this,e("buffer").Buffer)},{"./util":94,buffer:264}],86:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.util=r.vrs=r.hex=r.hash=r.calculateContractAddress=r.txDataByCompiled=r.signTransaction=r.sign=r.recoverPublicKey=r.recover=r.publicKeyByPrivateKey=r.cipher=r.encryptWithPublicKey=r.decryptWithPrivateKey=r.publicKey=r.createIdentity=void 0;var n=w(e("./create-identity")),i=v(e("./public-key")),o=w(e("./decrypt-with-private-key")),a=w(e("./encrypt-with-public-key")),s=v(e("./cipher")),c=w(e("./public-key-by-private-key")),l=w(e("./recover")),u=w(e("./recover-public-key")),f=w(e("./sign")),d=w(e("./sign-transaction")),h=w(e("./tx-data-by-compiled")),p=w(e("./calculate-contract-address")),b=v(e("./hash")),m=v(e("./hex")),g=v(e("./vrs")),y=v(e("./util"));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}r.createIdentity=n.default,r.publicKey=i,r.decryptWithPrivateKey=o.default,r.encryptWithPublicKey=a.default,r.cipher=s,r.publicKeyByPrivateKey=c.default,r.recover=l.default,r.recoverPublicKey=u.default,r.sign=f.default,r.signTransaction=d.default,r.txDataByCompiled=h.default,r.calculateContractAddress=p.default,r.hash=b,r.hex=m,r.vrs=g,r.util=y,r.default={createIdentity:n.default,publicKey:i,decryptWithPrivateKey:o.default,encryptWithPublicKey:a.default,cipher:s,publicKeyByPrivateKey:c.default,recover:l.default,recoverPublicKey:u.default,sign:f.default,signTransaction:d.default,txDataByCompiled:h.default,calculateContractAddress:p.default,hash:b,hex:m,vrs:g,util:y}},{"./calculate-contract-address":79,"./cipher":80,"./create-identity":81,"./decrypt-with-private-key":82,"./encrypt-with-public-key":83,"./hash":84,"./hex":85,"./public-key":88,"./public-key-by-private-key":87,"./recover":90,"./recover-public-key":89,"./sign":92,"./sign-transaction":91,"./tx-data-by-compiled":93,"./util":94,"./vrs":95}],87:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return e=(0,i.addTrailing0x)(e),(0,n.privateToPublic)(e).toString("hex")};var n=e("ethereumjs-util"),i=e("./util")},{"./util":94,"ethereumjs-util":127}],88:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compress=function(e){return 64===t.from(e,"hex").length&&(e="04"+e),(0,o.uint8ArrayToHex)((0,n.publicKeyConvert)((0,o.hexToUnit8Array)(e),!0))},r.decompress=a,r.toAddress=function(e){e=a(e);var r=(0,i.pubToAddress)(t.from(e,"hex"));return(0,i.toChecksumAddress)(r.toString("hex"))};var n=e("secp256k1"),i=e("ethereumjs-util"),o=e("./util");function a(e){return 64===t.from(e,"hex").length&&(e="04"+e),(0,o.uint8ArrayToHex)((0,n.publicKeyConvert)((0,o.hexToUnit8Array)(e),!1)).substring(2)}}).call(this,e("buffer").Buffer)},{"./util":94,buffer:264,"ethereumjs-util":127,secp256k1:183}],89:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){var r=(e=(0,i.removeTrailing0x)(e)).substring(0,e.length-2),o="1c"===e.slice(-2)?1:0;return(0,i.uint8ArrayToHex)((0,n.ecdsaRecover)((0,i.hexToUnit8Array)(r),o,(0,i.hexToUnit8Array)((0,i.removeTrailing0x)(t)),!1)).slice(2)};var n=e("secp256k1"),i=e("./util")},{"./util":94,secp256k1:183}],90:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){var r=(0,i.default)(e,t);return(0,o.toAddress)(r)};var n,i=(n=e("./recover-public-key"))&&n.__esModule?n:{default:n},o=e("./public-key")},{"./public-key":88,"./recover-public-key":89}],91:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,r){var n=(0,o.default)(r);if((0,a.toAddress)(n)!=e.from)throw new Error("EthCrypto.signTransaction(): rawTx.from does not match the address of the privateKey");var s=t.from(r.replace(/^.{2}/g,""),"hex"),c=new i.Transaction(e);return c.sign(s),c.serialize().toString("hex")};var n,i=e("ethereumjs-tx"),o=(n=e("./public-key-by-private-key"))&&n.__esModule?n:{default:n},a=e("./public-key")}).call(this,e("buffer").Buffer)},{"./public-key":88,"./public-key-by-private-key":87,buffer:264,"ethereumjs-tx":121}],92:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,r){if(66!==(r=(0,i.addTrailing0x)(r)).length)throw new Error("EthCrypto.sign(): Can only sign hashes, given: "+r);var o=(0,n.ecdsaSign)(new Uint8Array(t.from((0,i.removeTrailing0x)(r),"hex")),new Uint8Array(t.from((0,i.removeTrailing0x)(e),"hex"))),a=1===o.recid?"1c":"1b";return"0x"+t.from(o.signature).toString("hex")+a};var n=e("secp256k1"),i=e("./util")}).call(this,e("buffer").Buffer)},{"./util":94,buffer:264,secp256k1:183}],93:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=(n=e("babel-runtime/helpers/toConsumableArray"))&&n.__esModule?n:{default:n};r.default=function(e,t,r){"string"==typeof e&&(e=JSON.parse(e));var n=new o.ContractFactory(e,"0x"+t);return n.getDeployTransaction.apply(n,(0,i.default)(r)).data};var o=e("ethers")},{"babel-runtime/helpers/toConsumableArray":4,ethers:136}],94:[function(e,t,r){(function(e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.removeTrailing0x=function(e){return e.startsWith("0x")?e.substring(2):e},r.addTrailing0x=function(e){return e.startsWith("0x")?e:"0x"+e},r.uint8ArrayToHex=function(t){return e.from(t).toString("hex")},r.hexToUnit8Array=function(t){return new Uint8Array(e.from(t,"hex"))}}).call(this,e("buffer").Buffer)},{buffer:264}],95:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.fromString=function(e){var t=(0,n.decodeSignature)(e);return{v:t[0],r:t[1],s:t[2]}},r.toString=function(e){return(0,n.encodeSignature)([e.v,e.r,e.s])};var n=e("eth-lib/lib/account")},{"eth-lib/lib/account":96}],96:[function(e,t,r){(function(r){const n=e("./bytes"),i=e("./nat"),o=e("elliptic"),a=(e("./rlp"),new o.ec("secp256k1")),{keccak256:s,keccak256s:c}=e("./hash"),l=e=>{const t=c(e.slice(2));let r="0x";for(let n=0;n<40;n++)r+=parseInt(t[n+2],16)>7?e[n+2].toUpperCase():e[n+2];return r},u=e=>{const t=new r(e.slice(2),"hex"),n="0x"+a.keyFromPrivate(t).getPublic(!1,"hex").slice(2),i=s(n);return{address:l("0x"+i.slice(-40)),privateKey:e}},f=([e,t,r])=>n.flatten([t,r,e]),d=e=>[n.slice(64,n.length(e),e),n.slice(0,32,e),n.slice(32,64,e)],h=e=>(t,o)=>{const s=a.keyFromPrivate(new r(o.slice(2),"hex")).sign(new r(t.slice(2),"hex"),{canonical:!0});return f([i.fromString(n.fromNumber(e+s.recoveryParam)),n.pad(32,n.fromNat("0x"+s.r.toString(16))),n.pad(32,n.fromNat("0x"+s.s.toString(16)))])},p=h(27);t.exports={create:e=>{const t=s(n.concat(n.random(32),e||n.random(32))),r=n.concat(n.concat(n.random(32),t),n.random(32)),i=s(r);return u(i)},toChecksum:l,fromPrivate:u,sign:p,makeSigner:h,recover:(e,t)=>{const i=d(t),o={v:n.toNumber(i[0]),r:i[1].slice(2),s:i[2].slice(2)},c="0x"+a.recoverPubKey(new r(e.slice(2),"hex"),o,o.v<2?o.v:1-o.v%2).encode("hex",!1).slice(2),u=s(c);return l("0x"+u.slice(-40))},encodeSignature:f,decodeSignature:d}}).call(this,e("buffer").Buffer)},{"./bytes":98,"./hash":99,"./nat":100,"./rlp":101,buffer:264,elliptic:63}],97:[function(e,t,r){const n=(e,t)=>{let r=[];for(var n=0;n<e;++n)r.push(t(n));return r};t.exports={generate:n,replicate:(e,t)=>n(e,()=>t),concat:(e,t)=>e.concat(t),flatten:e=>{let t=[];for(let r=0,n=e.length;r<n;++r)for(let i=0,o=e[r].length;i<o;++i)t.push(e[r][i]);return t},chunksOf:(e,t)=>{let r=[];for(let n=0,i=t.length;n<i;n+=e)r.push(t.slice(n,n+e));return r}}},{}],98:[function(e,t,r){e("./array.js");const n=(e,t)=>parseInt(e.slice(2*t+2,2*t+4),16),i=e=>(e.length-2)/2,o=(e,t)=>t.length===2*e+2?t:o(e,"0x0"+t.slice(2)),a=(e,t)=>t.length===2*e+2?t:a(e,t+"0"),s=e=>{let t=[];for(let r=2,n=e.length;r<n;r+=2)t.push(parseInt(e.slice(r,r+2),16));return t},c=e=>{let t="0x";for(let r=0,n=e.length;r<n;++r){let n=e[r];t+=(n<16?"0":"")+n.toString(16)}return t};t.exports={random:t=>{let r;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues)r=window.crypto.getRandomValues(new Uint8Array(t));else{if(void 0===e)throw"Safe random numbers not available.";r=e("crypto").randomBytes(t)}let n="0x";for(let e=0;e<t;++e)n+=("00"+r[e].toString(16)).slice(-2);return n},length:i,concat:(e,t)=>e.concat(t.slice(2)),flatten:e=>"0x"+e.reduce((e,t)=>e+t.slice(2),""),slice:(e,t,r)=>"0x"+r.slice(2*e+2,2*t+2),reverse:e=>{let t="0x";for(let r=0,n=i(e);r<n;++r)t+=e.slice(2*(n-r),2*(n-r+1));return t},pad:o,padRight:a,fromAscii:e=>{let t="0x";for(let r=0;r<e.length;++r)t+=("00"+e.charCodeAt(r).toString(16)).slice(-2);return t},toAscii:e=>{let t="";for(let r=2;r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.slice(r,r+2),16));return t},fromString:e=>{const t=e=>{const t=e.toString(16);return t.length<2?"0"+t:t};let r="0x";for(let n=0;n!=e.length;n++){let i=e.charCodeAt(n);if(i<128)r+=t(i);else{if(i<2048)r+=t(i>>6|192);else{if(i>55295&&i<56320){if(++n==e.length)return null;let o=e.charCodeAt(n);if(o<56320||o>57343)return null;i=65536+((1023&i)<<10)+(1023&o),r+=t(i>>18|240),r+=t(i>>12&63|128)}else r+=t(i>>12|224);r+=t(i>>6&63|128)}r+=t(63&i|128)}}return r},toString:e=>{let t="",r=0,o=i(e);for(;r<o;){let i=n(e,r++);if(i>127){if(i>191&&i<224){if(r>=o)return null;i=(31&i)<<6|63&n(e,r)}else if(i>223&&i<240){if(r+1>=o)return null;i=(15&i)<<12|(63&n(e,r))<<6|63&n(e,++r)}else{if(!(i>239&&i<248))return null;if(r+2>=o)return null;i=(7&i)<<18|(63&n(e,r))<<12|(63&n(e,++r))<<6|63&n(e,++r)}++r}if(i<=65535)t+=String.fromCharCode(i);else{if(!(i<=1114111))return null;i-=65536,t+=String.fromCharCode(i>>10|55296),t+=String.fromCharCode(1023&i|56320)}}return t},fromNumber:e=>{let t=e.toString(16);return t.length%2==0?"0x"+t:"0x0"+t},toNumber:e=>parseInt(e.slice(2),16),fromNat:e=>"0x0"===e?"0x":e.length%2==0?e:"0x0"+e.slice(2),toNat:e=>"0"===e[2]?"0x"+e.slice(3):e,fromArray:c,toArray:s,fromUint8Array:e=>c([].slice.call(e,0)),toUint8Array:e=>new Uint8Array(s(e))}},{"./array.js":97}],99:[function(e,t,r){const n="0123456789abcdef".split(""),i=[1,256,65536,16777216],o=[0,8,16,24],a=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],s=e=>{var t,r,n,i,o,s,c,l,u,f,d,h,p,b,m,g,y,v,w,_,M,k,S,C,E,P,x,O,A,T,R,I,N,B,D,j,L,F,z,U,K,H,q,G,V,W,Y,J,Z,X,$,Q,ee,te,re,ne,ie,oe,ae,se,ce,le,ue;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],l=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^((c=e[3]^e[13]^e[23]^e[33]^e[43])<<1|(s=e[2]^e[12]^e[22]^e[32]^e[42])>>>31),e[0]^=t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|c>>>31),e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,r=o^(u<<1|l>>>31),e[2]^=t=i^(l<<1|u>>>31),e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,r=c^(d<<1|f>>>31),e[4]^=t=s^(f<<1|d>>>31),e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,r=u^(p<<1|h>>>31),e[6]^=t=l^(h<<1|p>>>31),e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,r=d^(o<<1|i>>>31),e[8]^=t=f^(i<<1|o>>>31),e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,m=e[1],W=e[11]<<4|e[10]>>>28,Y=e[10]<<4|e[11]>>>28,O=e[20]<<3|e[21]>>>29,A=e[21]<<3|e[20]>>>29,se=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,H=e[40]<<18|e[41]>>>14,q=e[41]<<18|e[40]>>>14,B=e[2]<<1|e[3]>>>31,D=e[3]<<1|e[2]>>>31,y=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,T=e[33]<<13|e[32]>>>19,R=e[32]<<13|e[33]>>>19,le=e[42]<<2|e[43]>>>30,ue=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,j=e[14]<<6|e[15]>>>26,L=e[15]<<6|e[14]>>>26,w=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,$=e[35]<<15|e[34]>>>17,I=e[45]<<29|e[44]>>>3,N=e[44]<<29|e[45]>>>3,C=e[6]<<28|e[7]>>>4,E=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,F=e[26]<<25|e[27]>>>7,z=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,M=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,G=e[8]<<27|e[9]>>>5,V=e[9]<<27|e[8]>>>5,P=e[18]<<20|e[19]>>>12,x=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,ae=e[28]<<7|e[29]>>>25,U=e[38]<<8|e[39]>>>24,K=e[39]<<8|e[38]>>>24,k=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=(b=e[0])^~(g=e[13]<<12|e[12]>>>20)&(v=e[25]<<11|e[24]>>>21),e[1]=m^~y&w,e[10]=C^~P&O,e[11]=E^~x&A,e[20]=B^~j&F,e[21]=D^~L&z,e[30]=G^~W&J,e[31]=V^~Y&Z,e[40]=te^~ne&oe,e[41]=re^~ie&ae,e[2]=g^~v&_,e[3]=y^~w&M,e[12]=P^~O&T,e[13]=x^~A&R,e[22]=j^~F&U,e[23]=L^~z&K,e[32]=W^~J&X,e[33]=Y^~Z&$,e[42]=ne^~oe&se,e[43]=ie^~ae&ce,e[4]=v^~_&k,e[5]=w^~M&S,e[14]=O^~T&I,e[15]=A^~R&N,e[24]=F^~U&H,e[25]=z^~K&q,e[34]=J^~X&Q,e[35]=Z^~$&ee,e[44]=oe^~se&le,e[45]=ae^~ce&ue,e[6]=_^~k&b,e[7]=M^~S&m,e[16]=T^~I&C,e[17]=R^~N&E,e[26]=U^~H&B,e[27]=K^~q&D,e[36]=X^~Q&G,e[37]=$^~ee&V,e[46]=se^~le&te,e[47]=ce^~ue&re,e[8]=k^~b&g,e[9]=S^~m&y,e[18]=I^~C&P,e[19]=N^~E&x,e[28]=H^~B&j,e[29]=q^~D&L,e[38]=Q^~G&W,e[39]=ee^~V&Y,e[48]=le^~te&ne,e[49]=ue^~re&ie,e[0]^=a[n],e[1]^=a[n+1]},c=e=>t=>{var r;if("0x"===t.slice(0,2)){r=[];for(var a=2,c=t.length;a<c;a+=2)r.push(parseInt(t.slice(a,a+2),16))}else r=t;return((e,t)=>{for(var r,a=t.length,c=e.blocks,l=e.blockCount<<2,u=e.blockCount,f=e.outputBlocks,d=e.s,h=0;h<a;){if(e.reset)for(e.reset=!1,c[0]=e.block,m=1;m<u+1;++m)c[m]=0;if("string"!=typeof t)for(m=e.start;h<a&&m<l;++h)c[m>>2]|=t[h]<<o[3&m++];else for(m=e.start;h<a&&m<l;++h)(r=t.charCodeAt(h))<128?c[m>>2]|=r<<o[3&m++]:r<2048?(c[m>>2]|=(192|r>>6)<<o[3&m++],c[m>>2]|=(128|63&r)<<o[3&m++]):r<55296||r>=57344?(c[m>>2]|=(224|r>>12)<<o[3&m++],c[m>>2]|=(128|r>>6&63)<<o[3&m++],c[m>>2]|=(128|63&r)<<o[3&m++]):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++h)),c[m>>2]|=(240|r>>18)<<o[3&m++],c[m>>2]|=(128|r>>12&63)<<o[3&m++],c[m>>2]|=(128|r>>6&63)<<o[3&m++],c[m>>2]|=(128|63&r)<<o[3&m++]);if(e.lastByteIndex=m,m>=l){for(e.start=m-l,e.block=c[u],m=0;m<u;++m)d[m]^=c[m];s(d),e.reset=!0}else e.start=m}if(c[(m=e.lastByteIndex)>>2]|=i[3&m],e.lastByteIndex===l)for(c[0]=c[u],m=1;m<u+1;++m)c[m]=0;for(c[u-1]|=2147483648,m=0;m<u;++m)d[m]^=c[m];s(d);for(var p,b="",m=0,g=0;g<f;){for(m=0;m<u&&g<f;++m,++g)b+=n[(p=d[m])>>4&15]+n[15&p]+n[p>>12&15]+n[p>>8&15]+n[p>>20&15]+n[p>>16&15]+n[p>>28&15]+n[p>>24&15];g%u==0&&(s(d),m=0)}return"0x"+b})((e=>{return{blocks:[],reset:!0,block:0,start:0,blockCount:1600-(e<<1)>>5,outputBlocks:e>>5,s:(t=[0,0,0,0,0,0,0,0,0,0],[].concat(t,t,t,t,t))};var t})(e),r)};t.exports={keccak256:c(256),keccak512:c(512),keccak256s:c(256),keccak512s:c(512)}},{}],100:[function(e,t,r){const n=e("bn.js"),i=e("./bytes"),o=e=>new n(e.slice(2),16),a=e=>{const t="0x"+("0x"===e.slice(0,2)?new n(e.slice(2),16):new n(e,10)).toString("hex");return"0x0"===t?"0x":t},s=e=>"string"==typeof e?/^0x/.test(e)?e:"0x"+e:"0x"+new n(e).toString("hex"),c=e=>o(e).toNumber(),l=e=>(t,r)=>"0x"+o(t)[e](o(r)).toString("hex"),u=l("add"),f=l("mul"),d=l("div"),h=l("sub");t.exports={toString:e=>o(e).toString(10),fromString:a,toNumber:c,fromNumber:s,toEther:e=>c(d(e,a("10000000000")))/1e8,fromEther:e=>f(s(Math.floor(1e8*e)),a("10000000000")),toUint256:e=>i.pad(32,e),add:u,mul:f,div:d,sub:h}},{"./bytes":98,"bn.js":6}],101:[function(e,t,r){t.exports={encode:e=>{const t=e=>{return(t=e.toString(16)).length%2==0?t:"0"+t;var t},r=(e,r)=>e<56?t(r+e):t(r+t(e).length/2+55)+t(e),n=e=>{if("string"==typeof e){const t=e.slice(2);return(2!=t.length||t>="80"?r(t.length/2,128):"")+t}{const t=e.map(n).join("");return r(t.length/2,192)+t}};return"0x"+n(e)},decode:e=>{let t=2;const r=()=>{if(t>=e.length)throw"";const r=e.slice(t,t+2);return r<"80"?(t+=2,"0x"+r):r<"c0"?i():o()},n=()=>{const r=parseInt(e.slice(t,t+=2),16)%64;return r<56?r:parseInt(e.slice(t,t+=2*(r-55)),16)},i=()=>{const r=n();return"0x"+e.slice(t,t+=2*r)},o=()=>{const e=2*n()+t;let i=[];for(;t<e;)i.push(r());return i};try{return r()}catch(a){return[]}}}},{}],102:[function(e,t,r){t.exports={name:"goerli",chainId:5,networkId:5,comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{hash:"0xbf7e331f7f7c1dd2e05159666b3bf8bc7a8a3a9eb1d518969eab529dd9b88c1a",timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",stateRoot:"0x5d6cded585e73c4e322c30c2f782a336316f17dd85a4863b9d838d2d4b8b3008"},hardforks:[{name:"chainstart",block:0,consensus:"poa",finality:null},{name:"homestead",block:0,consensus:"poa",finality:null},{name:"dao",block:0,consensus:"poa",finality:null},{name:"tangerineWhistle",block:0,consensus:"poa",finality:null},{name:"spuriousDragon",block:0,consensus:"poa",finality:null},{name:"byzantium",block:0,consensus:"poa",finality:null},{name:"constantinople",block:0,consensus:"poa",finality:null},{name:"petersburg",block:0,consensus:"poa",finality:null},{name:"istanbul",block:1561651,consensus:"poa",finality:null}],bootstrapNodes:[{ip:"51.141.78.53",port:30303,id:"011f758e6552d105183b1761c5e2dea0111bc20fd5f6422bc7f91e0fabbec9a6595caf6239b37feb773dddd3f87240d99d859431891e4a642cf2a0a9e6cbb98a",location:"",comment:"Upstream bootnode 1"},{ip:"13.93.54.137",port:30303,id:"176b9417f511d05b6b2cf3e34b756cf0a7096b3094572a8f6ef4cdcb9d1f9d00683bf0f83347eebdf3b81c3521c2332086d9592802230bf528eaf606a1d9677b",location:"",comment:"Upstream bootnode 2"},{ip:"94.237.54.114",port:30313,id:"46add44b9f13965f7b9875ac6b85f016f341012d84f975377573800a863526f4da19ae2c620ec73d11591fa9510e992ecc03ad0751f53cc02f7c7ed6d55c7291",location:"",comment:"Upstream bootnode 3"},{ip:"52.64.155.147",port:30303,id:"c1f8b7c2ac4453271fa07d8e9ecf9a2e8285aa0bd0c07df0131f47153306b0736fd3db8924e7a9bf0bed6b1d8d4f87362a71b033dc7c64547728d953e43e59b2",location:"",comment:"Upstream bootnode 4"},{ip:"213.186.16.82",port:30303,id:"f4a9c6ee28586009fb5a96c8af13a58ed6d8315a9eee4772212c1d4d9cebe5a8b8a78ea4434f318726317d04a3f531a1ef0420cf9752605a562cfe858c46e263",location:"",comment:"Upstream bootnode 5"},{ip:"3.11.147.67",port:30303,id:"a61215641fb8714a373c80edbfa0ea8878243193f57c96eeb44d0bc019ef295abd4e044fd619bfc4c59731a73fb79afe84e9ab6da0c743ceb479cbb6d263fa91",location:"",comment:"Ethereum Foundation bootnode"}]}},{}],103:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.chains=void 0,r.chains={names:{1:"mainnet",3:"ropsten",4:"rinkeby",42:"kovan",5:"goerli"},mainnet:e("./mainnet.json"),ropsten:e("./ropsten.json"),rinkeby:e("./rinkeby.json"),kovan:e("./kovan.json"),goerli:e("./goerli.json")}},{"./goerli.json":102,"./kovan.json":104,"./mainnet.json":105,"./rinkeby.json":106,"./ropsten.json":107}],104:[function(e,t,r){t.exports={name:"kovan",chainId:42,networkId:42,comment:"Parity PoA test network",url:"https://kovan-testnet.github.io/website/",genesis:{hash:"0xa3c565fc15c7478862d50ccd6561e3c06b24cc509bf388941c25ea985ce32cb9",timestamp:null,gasLimit:6e6,difficulty:131072,nonce:"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",extraData:"0x",stateRoot:"0x2480155b48a1cea17d67dbfdfaafe821c1d19cdd478c5358e8ec56dec24502b2"},hardforks:[{name:"chainstart",block:0,consensus:"poa",finality:null},{name:"homestead",block:0,consensus:"poa",finality:null},{name:"dao",block:0,consensus:"poa",finality:null},{name:"tangerineWhistle",block:0,consensus:"poa",finality:null},{name:"spuriousDragon",block:0,consensus:"poa",finality:null},{name:"byzantium",block:5067e3,consensus:"poa",finality:null},{name:"constantinople",block:92e5,consensus:"poa",finality:null},{name:"petersburg",block:10255201,consensus:"poa",finality:null},{name:"istanbul",block:14111141,consensus:"poa",finality:null}],bootstrapNodes:[{ip:"116.203.116.241",port:30303,id:"16898006ba2cd4fa8bf9a3dfe32684c178fa861df144bfc21fe800dc4838a03e342056951fa9fd533dcb0be1219e306106442ff2cf1f7e9f8faa5f2fc1a3aa45",location:"",comment:"1"},{ip:"3.217.96.11",port:30303,id:"2909846f78c37510cc0e306f185323b83bb2209e5ff4fdd279d93c60e3f365e3c6e62ad1d2133ff11f9fd6d23ad9c3dad73bb974d53a22f7d1ac5b7dea79d0b0",location:"",comment:"2"},{ip:"108.61.170.124",port:30303,id:"740e1c8ea64e71762c71a463a04e2046070a0c9394fcab5891d41301dc473c0cff00ebab5a9bc87fbcb610ab98ac18225ff897bc8b7b38def5975d5ceb0a7d7c",location:"",comment:"3"},{ip:"157.230.31.163",port:30303,id:"2909846f78c37510cc0e306f185323b83bb2209e5ff4fdd279d93c60e3f365e3c6e62ad1d2133ff11f9fd6d23ad9c3dad73bb974d53a22f7d1ac5b7dea79d0b0",location:"",comment:"4"}]}},{}],105:[function(e,t,r){t.exports={name:"mainnet",chainId:1,networkId:1,comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{hash:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",timestamp:null,gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",stateRoot:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544"},hardforks:[{name:"chainstart",block:0,consensus:"pow",finality:null},{name:"homestead",block:115e4,consensus:"pow",finality:null},{name:"dao",block:192e4,consensus:"pow",finality:null},{name:"tangerineWhistle",block:2463e3,consensus:"pow",finality:null},{name:"spuriousDragon",block:2675e3,consensus:"pow",finality:null},{name:"byzantium",block:437e4,consensus:"pow",finality:null},{name:"constantinople",block:728e4,consensus:"pow",finality:null},{name:"petersburg",block:728e4,consensus:"pow",finality:null},{name:"istanbul",block:9069e3,consensus:"pow",finality:null},{name:"muirGlacier",block:92e5,consensus:"pow",finality:null}],bootstrapNodes:[{ip:"18.138.108.67",port:30303,id:"d860a01f9722d78051619d1e2351aba3f43f943f6f00718d1b9baa4101932a1f5011f16bb2b1bb35db20d6fe28fa0bf09636d26a87d31de9ec6203eeedb1f666",location:"ap-southeast-1-001",comment:"bootnode-aws-ap-southeast-1-001"},{ip:"3.209.45.79",port:30303,id:"22a8232c3abc76a16ae9d6c3b164f98775fe226f0917b0ca871128a74a8e9630b458460865bab457221f1d448dd9791d24c4e5d88786180ac185df813a68d4de",location:"us-east-1-001",comment:"bootnode-aws-us-east-1-001"},{ip:"34.255.23.113",port:30303,id:"ca6de62fce278f96aea6ec5a2daadb877e51651247cb96ee310a318def462913b653963c155a0ef6c7d50048bba6e6cea881130857413d9f50a621546b590758",location:"eu-west-1-001",comment:"bootnode-aws-eu-west-1-001"},{ip:"35.158.244.151",port:30303,id:"279944d8dcd428dffaa7436f25ca0ca43ae19e7bcf94a8fb7d1641651f92d121e972ac2e8f381414b80cc8e5555811c2ec6e1a99bb009b3f53c4c69923e11bd8",location:"eu-central-1-001",comment:"bootnode-aws-eu-central-1-001"},{ip:"52.187.207.27",port:30303,id:"8499da03c47d637b20eee24eec3c356c9a2e6148d6fe25ca195c7949ab8ec2c03e3556126b0d7ed644675e78c4318b08691b7b57de10e5f0d40d05b09238fa0a",location:"australiaeast-001",comment:"bootnode-azure-australiaeast-001"},{ip:"191.234.162.198",port:30303,id:"103858bdb88756c71f15e9b5e09b56dc1be52f0a5021d46301dbbfb7e130029cc9d0d6f73f693bc29b665770fff7da4d34f3c6379fe12721b5d7a0bcb5ca1fc1",location:"brazilsouth-001",comment:"bootnode-azure-brazilsouth-001"},{ip:"52.231.165.108",port:30303,id:"715171f50508aba88aecd1250af392a45a330af91d7b90701c436b618c86aaa1589c9184561907bebbb56439b8f8787bc01f49a7c77276c58c1b09822d75e8e8",location:"koreasouth-001",comment:"bootnode-azure-koreasouth-001"},{ip:"104.42.217.25",port:30303,id:"5d6d7cd20d6da4bb83a1d28cadb5d409b64edf314c0335df658c1a54e32c7c4a7ab7823d57c39b6a757556e68ff1df17c748b698544a55cb488b52479a92b60f",location:"westus-001",comment:"bootnode-azure-westus-001"}]}},{}],106:[function(e,t,r){t.exports={name:"rinkeby",chainId:4,networkId:4,comment:"PoA test network",url:"https://www.rinkeby.io",genesis:{hash:"0x6341fd3daf94b748c72ced5a5b26028f2474f5f00d824504e4fa37a75767e177",timestamp:"0x58ee40ba",gasLimit:47e5,difficulty:1,nonce:"0x0000000000000000",extraData:"0x52657370656374206d7920617574686f7269746168207e452e436172746d616e42eb768f2244c8811c63729a21a3569731535f067ffc57839b00206d1ad20c69a1981b489f772031b279182d99e65703f0076e4812653aab85fca0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",stateRoot:"0x53580584816f617295ea26c0e17641e0120cab2f0a8ffb53a866fd53aa8e8c2d"},hardforks:[{name:"chainstart",block:0,consensus:"poa",finality:null},{name:"homestead",block:1,consensus:"poa",finality:null},{name:"dao",block:null,consensus:"poa",finality:null},{name:"tangerineWhistle",block:2,consensus:"poa",finality:null},{name:"spuriousDragon",block:3,consensus:"poa",finality:null},{name:"byzantium",block:1035301,consensus:"poa",finality:null},{name:"constantinople",block:3660663,consensus:"poa",finality:null},{name:"petersburg",block:4321234,consensus:"poa",finality:null},{name:"istanbul",block:5435345,consensus:"poa",finality:null}],bootstrapNodes:[{ip:"52.169.42.101",port:30303,id:"a24ac7c5484ef4ed0c5eb2d36620ba4e4aa13b8c84684e1b4aab0cebea2ae45cb4d375b77eab56516d34bfbd3c1a833fc51296ff084b770b94fb9028c4d25ccf",location:"",comment:"IE"},{ip:"52.3.158.184",port:30303,id:"343149e4feefa15d882d9fe4ac7d88f885bd05ebb735e547f12e12080a9fa07c8014ca6fd7f373123488102fe5e34111f8509cf0b7de3f5b44339c9f25e87cb8",location:"",comment:"INFURA"},{ip:"159.89.28.211",port:30303,id:"b6b28890b006743680c52e64e0d16db57f28124885595fa03a562be1d2bf0f3a1da297d56b13da25fb992888fd556d4c1a27b1f39d531bde7de1921c90061cc6",location:"",comment:"AKASHA"}]}},{}],107:[function(e,t,r){t.exports={name:"ropsten",chainId:3,networkId:3,comment:"PoW test network",url:"https://github.com/ethereum/ropsten",genesis:{hash:"0x41941023680923e0fe4d74a34bdac8141f2540e3ae90623718e47d66d1ca4a2d",timestamp:null,gasLimit:16777216,difficulty:1048576,nonce:"0x0000000000000042",extraData:"0x3535353535353535353535353535353535353535353535353535353535353535",stateRoot:"0x217b0bbcfb72e2d57e28f33cb361b9983513177755dc3f33ce3e7022ed62b77b"},hardforks:[{name:"chainstart",block:0,consensus:"pow",finality:null},{name:"homestead",block:0,consensus:"pow",finality:null},{name:"dao",block:null,consensus:"pow",finality:null},{name:"tangerineWhistle",block:0,consensus:"pow",finality:null},{name:"spuriousDragon",block:10,consensus:"pow",finality:null},{name:"byzantium",block:17e5,consensus:"pow",finality:null},{name:"constantinople",block:423e4,consensus:"pow",finality:null},{name:"petersburg",block:4939394,consensus:"pow",finality:null},{name:"istanbul",block:6485846,consensus:"pow",finality:null},{name:"muirGlacier",block:7117117,consensus:"pow",finality:null}],bootstrapNodes:[{ip:"52.176.7.10",port:30303,id:"30b7ab30a01c124a6cceca36863ece12c4f5fa68e3ba9b0b51407ccc002eeed3b3102d20a88f1c1d3c3154e2449317b8ef95090e77b312d5cc39354f86d5d606",location:"",comment:"US-Azure geth"},{ip:"52.176.100.77",port:30303,id:"865a63255b3bb68023b6bffd5095118fcc13e79dcf014fe4e47e065c350c7cc72af2e53eff895f11ba1bbb6a2b33271c1116ee870f266618eadfc2e78aa7349c",location:"",comment:"US-Azure parity"},{ip:"52.232.243.152",port:30303,id:"6332792c4a00e3e4ee0926ed89e0d27ef985424d97b6a45bf0f23e51f0dcb5e66b875777506458aea7af6f9e4ffb69f43f3778ee73c81ed9d34c51c4b16b0b0f",location:"",comment:"Parity"},{ip:"192.81.208.223",port:30303,id:"94c15d1b9e2fe7ce56e458b9a3b672ef11894ddedd0c6f247e0f1d3487f52b66208fb4aeb8179fce6e3a749ea93ed147c37976d67af557508d199d9594c35f09",location:"",comment:"@gpip"}]}},{}],108:[function(e,t,r){t.exports={name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",eip:{url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final"},gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"}},casper:{},sharding:{}}},{}],109:[function(e,t,r){t.exports={name:"chainstart",comment:"Start of the Ethereum main chain",eip:{url:"",status:""},status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Once per EXP instuction"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Once per SHA3 operation"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Once per SLOAD operation"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Refunded gas, once per SSTORE operation if the zeroness changes to zero"},log:{v:375,d:"Per LOG* operation"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Once per CREATE operation & contract-creation transaction"},call:{v:40,d:"Once per CALL operation & message call transaction"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"}},casper:{},sharding:{}}},{}],110:[function(e,t,r){t.exports={name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",eip:{url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final"},gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"}},casper:{},sharding:{}}},{}],111:[function(e,t,r){t.exports={name:"dao",comment:"DAO rescue hardfork",eip:{url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final"},gasConfig:{},gasPrices:{},vm:{},pow:{},casper:{},sharding:{}}},{}],112:[function(e,t,r){t.exports={name:"homestead",comment:"Homestead hardfork with protocol and network changes",eip:{url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final"},gasConfig:{},gasPrices:{},vm:{},pow:{},casper:{},sharding:{}}},{}],113:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hardforks=void 0,r.hardforks=[["chainstart",e("./chainstart.json")],["homestead",e("./homestead.json")],["dao",e("./dao.json")],["tangerineWhistle",e("./tangerineWhistle.json")],["spuriousDragon",e("./spuriousDragon.json")],["byzantium",e("./byzantium.json")],["constantinople",e("./constantinople.json")],["petersburg",e("./petersburg.json")],["istanbul",e("./istanbul.json")],["muirGlacier",e("./muirGlacier.json")]]},{"./byzantium.json":108,"./chainstart.json":109,"./constantinople.json":110,"./dao.json":111,"./homestead.json":112,"./istanbul.json":114,"./muirGlacier.json":115,"./petersburg.json":116,"./spuriousDragon.json":117,"./tangerineWhistle.json":118}],114:[function(e,t,r){t.exports={name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",eip:{url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Draft"},gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{},casper:{},sharding:{}}},{}],115:[function(e,t,r){t.exports={name:"muirGlacier",comment:"HF to delay the difficulty bomb",eip:{url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Last Call"},gasConfig:{},gasPrices:{},vm:{},pow:{},casper:{},sharding:{}}},{}],116:[function(e,t,r){t.exports={name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",eip:{url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Draft"},gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{},casper:{},sharding:{}}},{}],117:[function(e,t,r){t.exports={name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",eip:{url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final"},gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{},casper:{},sharding:{}}},{}],118:[function(e,t,r){t.exports={name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",eip:{url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final"},gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"}},vm:{},pow:{},casper:{},sharding:{}}},{}],119:[function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0});var i=e("./chains"),o=e("./hardforks"),a=function(){function e(e,t,r){this._chainParams=this.setChain(e),this._hardfork=null,this._supportedHardforks=void 0===r?[]:r,t&&this.setHardfork(t)}return e.forCustomChain=function(t,r,i,o){var a=e._getChainParams(t);return new e(n(n({},a),r),i,o)},e._getChainParams=function(e){if("number"==typeof e){if(i.chains.names[e])return i.chains[i.chains.names[e]];throw new Error("Chain with ID "+e+" not supported")}if(i.chains[e])return i.chains[e];throw new Error("Chain with name "+e+" not supported")},e.prototype.setChain=function(t){if("number"==typeof t||"string"==typeof t)this._chainParams=e._getChainParams(t);else{if("object"!=typeof t)throw new Error("Wrong input format");for(var r=0,n=["networkId","genesis","hardforks","bootstrapNodes"];r<n.length;r++){var i=n[r];if(void 0===t[i])throw new Error("Missing required chain parameter: "+i)}this._chainParams=t}return this._chainParams},e.prototype.setHardfork=function(e){if(!this._isSupportedHardfork(e))throw new Error("Hardfork "+e+" not set as supported in supportedHardforks");for(var t=!1,r=0,n=o.hardforks;r<n.length;r++)n[r][0]===e&&(this._hardfork=e,t=!0);if(!t)throw new Error("Hardfork with name "+e+" not supported")},e.prototype._chooseHardfork=function(e,t){if(t=void 0===t||t,e){if(t&&!this._isSupportedHardfork(e))throw new Error("Hardfork "+e+" not set as supported in supportedHardforks")}else{if(!this._hardfork)throw new Error("Method called with neither a hardfork set nor provided by param");e=this._hardfork}return e},e.prototype._getHardfork=function(e){for(var t=0,r=this.hardforks();t<r.length;t++){var n=r[t];if(n.name===e)return n}throw new Error("Hardfork "+e+" not defined for chain "+this.chainName())},e.prototype._isSupportedHardfork=function(e){if(!(this._supportedHardforks.length>0))return!0;for(var t=0,r=this._supportedHardforks;t<r.length;t++)if(e===r[t])return!0;return!1},e.prototype.param=function(e,t,r){var n;r=this._chooseHardfork(r);for(var i=0,a=o.hardforks;i<a.length;i++){var s=a[i];if(!s[1][e])throw new Error("Topic "+e+" not defined");if(void 0!==s[1][e][t]&&(n=s[1][e][t].v),s[0]===r)break}if(void 0===n)throw new Error(e+" value for "+t+" not found");return n},e.prototype.paramByBlock=function(e,t,r){var n=this.activeHardforks(r);return this.param(e,t,n[n.length-1].name)},e.prototype.hardforkIsActiveOnBlock=function(e,t,r){e=this._chooseHardfork(e,void 0!==(r=void 0!==r?r:{}).onlySupported&&r.onlySupported);var n=this.hardforkBlock(e);return null!==n&&t>=n},e.prototype.activeOnBlock=function(e,t){return this.hardforkIsActiveOnBlock(null,e,t)},e.prototype.hardforkGteHardfork=function(e,t,r){var n=void 0!==(r=void 0!==r?r:{}).onlyActive&&r.onlyActive;e=this._chooseHardfork(e,r.onlySupported);for(var i=-1,o=-1,a=0,s=0,c=n?this.activeHardforks(null,r):this.hardforks();s<c.length;s++){var l=c[s];l.name===e&&(i=a),l.name===t&&(o=a),a+=1}return i>=o},e.prototype.gteHardfork=function(e,t){return this.hardforkGteHardfork(null,e,t)},e.prototype.hardforkIsActiveOnChain=function(e,t){e=this._chooseHardfork(e,void 0!==(t=void 0!==t?t:{}).onlySupported&&t.onlySupported);for(var r=0,n=this.hardforks();r<n.length;r++){var i=n[r];if(i.name===e&&null!==i.block)return!0}return!1},e.prototype.activeHardforks=function(e,t){t=void 0!==t?t:{};for(var r=[],n=0,i=this.hardforks();n<i.length;n++){var o=i[n];if(null!==o.block){if(null!=e&&e<o.block)break;t.onlySupported&&!this._isSupportedHardfork(o.name)||r.push(o)}}return r},e.prototype.activeHardfork=function(e,t){var r=this.activeHardforks(e,t=void 0!==t?t:{});if(r.length>0)return r[r.length-1].name;throw new Error("No (supported) active hardfork found")},e.prototype.hardforkBlock=function(e){return e=this._chooseHardfork(e,!1),this._getHardfork(e).block},e.prototype.isHardforkBlock=function(e,t){return t=this._chooseHardfork(t,!1),this.hardforkBlock(t)===e},e.prototype.consensus=function(e){return e=this._chooseHardfork(e),this._getHardfork(e).consensus},e.prototype.finality=function(e){return e=this._chooseHardfork(e),this._getHardfork(e).finality},e.prototype.genesis=function(){return this._chainParams.genesis},e.prototype.hardforks=function(){return this._chainParams.hardforks},e.prototype.bootstrapNodes=function(){return this._chainParams.bootstrapNodes},e.prototype.hardfork=function(){return this._hardfork},e.prototype.chainId=function(){return this._chainParams.chainId},e.prototype.chainName=function(){return i.chains.names[this.chainId()]||this._chainParams.name},e.prototype.networkId=function(){return this._chainParams.networkId},e}();r.default=a},{"./chains":103,"./hardforks":113}],120:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=e("ethereumjs-util"),a=e("buffer"),s=function(e){function t(t,r){void 0===t&&(t={}),void 0===r&&(r={});var n=e.call(this,t,r)||this;return Object.defineProperty(n,"from",{enumerable:!0,configurable:!0,get:function(){return n.getSenderAddress()},set:function(e){e&&(n._from=o.toBuffer(e))}}),t.from&&(n.from=o.toBuffer(t.from)),n}return i(t,e),t.prototype.hash=function(t){if(void 0===t&&(t=!0),t&&this._from&&""!==this._from.toString("hex")){var r=a.Buffer.concat([this._from,this._from.slice(0,12)]);this.sign(r)}return e.prototype.hash.call(this,t)},t}(e("./transaction").default);r.default=s},{"./transaction":122,buffer:264,"ethereumjs-util":127}],121:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./transaction");r.Transaction=n.default;var i=e("./fake");r.FakeTransaction=i.default},{"./fake":120,"./transaction":122}],122:[function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0});var i=e("ethereumjs-util"),o=e("ethereumjs-common"),a=e("buffer"),s=new i.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),c=function(){function e(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),t.common){if(t.chain||t.hardfork)throw new Error("Instantiation with both opts.common, and opts.chain and opts.hardfork parameter not allowed!");this._common=t.common}else this._common=new o.default(t.chain?t.chain:"mainnet",t.hardfork?t.hardfork:"petersburg");var r=[{name:"nonce",length:32,allowLess:!0,default:new a.Buffer([])},{name:"gasPrice",length:32,allowLess:!0,default:new a.Buffer([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new a.Buffer([])},{name:"to",allowZero:!0,length:20,default:new a.Buffer([])},{name:"value",length:32,allowLess:!0,default:new a.Buffer([])},{name:"data",alias:"input",allowZero:!0,default:new a.Buffer([])},{name:"v",allowZero:!0,default:new a.Buffer([])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new a.Buffer([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new a.Buffer([])}];i.defineProperties(this,r,e),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)}),this._validateV(this.v),this._overrideVSetterWithValidation()}return e.prototype.toCreationAddress=function(){return""===this.to.toString("hex")},e.prototype.hash=function(e){var t;return void 0===e&&(e=!0),t=e?this.raw:this._implementsEIP155()?this.raw.slice(0,6).concat([i.toBuffer(this.getChainId()),i.stripZeros(i.toBuffer(0)),i.stripZeros(i.toBuffer(0))]):this.raw.slice(0,6),i.rlphash(t)},e.prototype.getChainId=function(){return this._common.chainId()},e.prototype.getSenderAddress=function(){if(this._from)return this._from;var e=this.getSenderPublicKey();return this._from=i.publicToAddress(e),this._from},e.prototype.getSenderPublicKey=function(){if(!this.verifySignature())throw new Error("Invalid Signature");return this._senderPubKey},e.prototype.verifySignature=function(){var e=this.hash(!1);if(this._common.gteHardfork("homestead")&&1===new i.BN(this.s).cmp(s))return!1;try{var t=i.bufferToInt(this.v),r=t>=2*this.getChainId()+35&&this._common.gteHardfork("spuriousDragon");this._senderPubKey=i.ecrecover(e,t,this.r,this.s,r?this.getChainId():void 0)}catch(n){return!1}return!!this._senderPubKey},e.prototype.sign=function(e){this.v=new a.Buffer([]),this.s=new a.Buffer([]),this.r=new a.Buffer([]);var t=this.hash(!1),r=i.ecsign(t,e);this._implementsEIP155()&&(r.v+=2*this.getChainId()+8),Object.assign(this,r)},e.prototype.getDataFee=function(){for(var e=this.raw[5],t=new i.BN(0),r=0;r<e.length;r++)t.iaddn(this._common.param("gasPrices",0===e[r]?"txDataZero":"txDataNonZero"));return t},e.prototype.getBaseFee=function(){var e=this.getDataFee().iaddn(this._common.param("gasPrices","tx"));return this._common.gteHardfork("homestead")&&this.toCreationAddress()&&e.iaddn(this._common.param("gasPrices","txCreation")),e},e.prototype.getUpfrontCost=function(){return new i.BN(this.gasLimit).imul(new i.BN(this.gasPrice)).iadd(new i.BN(this.value))},e.prototype.validate=function(e){void 0===e&&(e=!1);var t=[];return this.verifySignature()||t.push("Invalid Signature"),this.getBaseFee().cmp(new i.BN(this.gasLimit))>0&&t.push(["gas limit is too low. Need at least "+this.getBaseFee()]),!1===e?0===t.length:t.join(" ")},e.prototype.serialize=function(){return i.rlp.encode(this.raw)},e.prototype.toJSON=function(e){return void 0===e&&(e=!1),{}},e.prototype._validateV=function(e){if(void 0!==e&&0!==e.length&&this._common.gteHardfork("spuriousDragon")){var t=i.bufferToInt(e);if(27!==t&&28!==t&&t!==2*this.getChainId()+35&&t!==2*this.getChainId()+36)throw new Error("Incompatible EIP155-based V "+t+" and chain id "+this.getChainId()+". See the second parameter of the Transaction constructor to set the chain id.")}},e.prototype._isSigned=function(){return this.v.length>0&&this.r.length>0&&this.s.length>0},e.prototype._overrideVSetterWithValidation=function(){var e=this,t=Object.getOwnPropertyDescriptor(this,"v");Object.defineProperty(this,"v",n({},t,{set:function(r){void 0!==r&&e._validateV(i.toBuffer(r)),t.set(r)}}))},e.prototype._implementsEIP155=function(){var e=this._common.gteHardfork("spuriousDragon");if(!this._isSigned())return e;var t=i.bufferToInt(this.v);return(t===2*this.getChainId()+35||t===2*this.getChainId()+36)&&e},e}();r.default=c},{buffer:264,"ethereumjs-common":119,"ethereumjs-util":127}],123:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("assert"),i=e("ethjs-util"),o=e("secp256k1"),a=e("bn.js"),s=e("./bytes"),c=e("./hash");r.zeroAddress=function(){var e=s.zeros(20);return s.bufferToHex(e)},r.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},r.isZeroAddress=function(e){return r.zeroAddress()===s.addHexPrefix(e)},r.toChecksumAddress=function(e,t){e=i.stripHexPrefix(e).toLowerCase();for(var r=void 0!==t?t.toString()+"0x":"",n=c.keccak(r+e).toString("hex"),o="0x",a=0;a<e.length;a++)parseInt(n[a],16)>=8?o+=e[a].toUpperCase():o+=e[a];return o},r.isValidChecksumAddress=function(e,t){return r.isValidAddress(e)&&r.toChecksumAddress(e,t)===e},r.generateAddress=function(e,r){e=s.toBuffer(e);var n=new a(r);return n.isZero()?c.rlphash([e,null]).slice(-20):c.rlphash([e,t.from(n.toArray())]).slice(-20)},r.generateAddress2=function(e,r,i){var o=s.toBuffer(e),a=s.toBuffer(r),l=s.toBuffer(i);return n(20===o.length),n(32===a.length),c.keccak256(t.concat([t.from("ff","hex"),o,a,c.keccak256(l)])).slice(-20)},r.isPrecompiled=function(e){var t=s.unpad(e);return 1===t.length&&t[0]>=1&&t[0]<=8},r.isValidPrivate=function(e){return o.privateKeyVerify(e)},r.isValidPublic=function(e,r){return void 0===r&&(r=!1),64===e.length?o.publicKeyVerify(t.concat([t.from([4]),e])):!!r&&o.publicKeyVerify(e)},r.pubToAddress=function(e,t){return void 0===t&&(t=!1),e=s.toBuffer(e),t&&64!==e.length&&(e=o.publicKeyConvert(e,!1).slice(1)),n(64===e.length),c.keccak(e).slice(-20)},r.publicToAddress=r.pubToAddress,r.privateToAddress=function(e){return r.publicToAddress(r.privateToPublic(e))},r.privateToPublic=function(e){return e=s.toBuffer(e),o.publicKeyCreate(e,!1).slice(1)},r.importPublic=function(e){return 64!==(e=s.toBuffer(e)).length&&(e=o.publicKeyConvert(e,!1).slice(1)),e}}).call(this,e("buffer").Buffer)},{"./bytes":124,"./hash":126,assert:212,"bn.js":6,buffer:264,"ethjs-util":137,secp256k1:130}],124:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("ethjs-util"),i=e("bn.js");r.zeros=function(e){return t.allocUnsafe(e).fill(0)},r.setLengthLeft=function(e,t,n){void 0===n&&(n=!1);var i=r.zeros(t);return e=r.toBuffer(e),n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)},r.setLength=r.setLengthLeft,r.setLengthRight=function(e,t){return r.setLength(e,t,!0)},r.unpad=function(e){for(var t=(e=n.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},r.stripZeros=r.unpad,r.toBuffer=function(e){if(!t.isBuffer(e))if(Array.isArray(e))e=t.from(e);else if("string"==typeof e){if(!n.isHexString(e))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+e);e=t.from(n.padToEven(n.stripHexPrefix(e)),"hex")}else if("number"==typeof e)e=n.intToBuffer(e);else if(null==e)e=t.allocUnsafe(0);else if(i.isBN(e))e=e.toArrayLike(t);else{if(!e.toArray)throw new Error("invalid type");e=t.from(e.toArray())}return e},r.bufferToInt=function(e){return new i(r.toBuffer(e)).toNumber()},r.bufferToHex=function(e){return"0x"+(e=r.toBuffer(e)).toString("hex")},r.fromSigned=function(e){return new i(e).fromTwos(256)},r.toUnsigned=function(e){return t.from(e.toTwos(256).toArray())},r.addHexPrefix=function(e){return"string"!=typeof e||n.isHexPrefixed(e)?e:"0x"+e},r.baToJSON=function(e){if(t.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var n=[],i=0;i<e.length;i++)n.push(r.baToJSON(e[i]));return n}}}).call(this,e("buffer").Buffer)},{"bn.js":6,buffer:264,"ethjs-util":137}],125:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("bn.js");r.MAX_INTEGER=new n("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new n("10000000000000000000000000000000000000000000000000000000000000000",16),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=t.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=t.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=t.from(r.KECCAK256_RLP_S,"hex")}).call(this,e("buffer").Buffer)},{"bn.js":6,buffer:264}],126:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("keccak"),i=e("create-hash"),o=e("ethjs-util"),a=e("rlp"),s=e("./bytes");r.keccak=function(e,r){return void 0===r&&(r=256),e="string"!=typeof e||o.isHexString(e)?s.toBuffer(e):t.from(e,"utf8"),r||(r=256),n("keccak"+r).update(e).digest()},r.keccak256=function(e){return r.keccak(e)},r.sha256=function(e){return e=s.toBuffer(e),i("sha256").update(e).digest()},r.ripemd160=function(e,t){e=s.toBuffer(e);var r=i("rmd160").update(e).digest();return!0===t?s.setLength(r,32):r},r.rlphash=function(e){return r.keccak(a.encode(e))}}).call(this,e("buffer").Buffer)},{"./bytes":124,buffer:264,"create-hash":61,"ethjs-util":137,keccak:156,rlp:181}],127:[function(e,t,r){"use strict";function n(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0});var i=e("secp256k1");r.secp256k1=i;var o=e("ethjs-util"),a=e("bn.js");r.BN=a;var s=e("rlp");r.rlp=s,Object.assign(r,o),n(e("./constants")),n(e("./account")),n(e("./hash")),n(e("./signature")),n(e("./bytes")),n(e("./object"))},{"./account":123,"./bytes":124,"./constants":125,"./hash":126,"./object":128,"./signature":129,"bn.js":6,"ethjs-util":137,rlp:181,secp256k1:130}],128:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("assert"),i=e("ethjs-util"),o=e("rlp"),a=e("./bytes");r.defineProperties=function(e,r,s){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(void 0===t&&(t=!1),t){var r={};return e._fields.forEach((function(t){r[t]="0x"+e[t].toString("hex")})),r}return a.baToJSON(e.raw)},e.serialize=function(){return o.encode(e.raw)},r.forEach((function(r,i){function o(){return e.raw[i]}function s(o){"00"!==(o=a.toBuffer(o)).toString("hex")||r.allowZero||(o=t.allocUnsafe(0)),r.allowLess&&r.length?(o=a.stripZeros(o),n(r.length>=o.length,"The field "+r.name+" must not have more "+r.length+" bytes")):r.allowZero&&0===o.length||!r.length||n(r.length===o.length,"The field "+r.name+" must have byte length of "+r.length),e.raw[i]=o}e._fields.push(r.name),Object.defineProperty(e,r.name,{enumerable:!0,configurable:!0,get:o,set:s}),r.default&&(e[r.name]=r.default),r.alias&&Object.defineProperty(e,r.alias,{enumerable:!1,configurable:!0,set:s,get:o})})),s)if("string"==typeof s&&(s=t.from(i.stripHexPrefix(s),"hex")),t.isBuffer(s)&&(s=o.decode(s)),Array.isArray(s)){if(s.length>e._fields.length)throw new Error("wrong number of fields in data");s.forEach((function(t,r){e[e._fields[r]]=a.toBuffer(t)}))}else{if("object"!=typeof s)throw new Error("invalid data");var c=Object.keys(s);r.forEach((function(t){-1!==c.indexOf(t.name)&&(e[t.name]=s[t.name]),-1!==c.indexOf(t.alias)&&(e[t.alias]=s[t.alias])}))}}}).call(this,e("buffer").Buffer)},{"./bytes":124,assert:212,buffer:264,"ethjs-util":137,rlp:181}],129:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("secp256k1"),i=e("bn.js"),o=e("./bytes"),a=e("./hash");function s(e,t){return t?e-(2*t+35):e-27}function c(e){return 0===e||1===e}r.ecsign=function(e,t,r){var i=n.sign(e,t),o=i.recovery;return{r:i.signature.slice(0,32),s:i.signature.slice(32,64),v:r?o+(2*r+35):o+27}},r.ecrecover=function(e,r,i,a,l){var u=t.concat([o.setLength(i,32),o.setLength(a,32)],64),f=s(r,l);if(!c(f))throw new Error("Invalid signature v value");var d=n.recover(e,u,f);return n.publicKeyConvert(d,!1).slice(1)},r.toRpcSig=function(e,r,n,i){if(!c(s(e,i)))throw new Error("Invalid signature v value");return o.bufferToHex(t.concat([o.setLengthLeft(r,32),o.setLengthLeft(n,32),o.toBuffer(e)]))},r.fromRpcSig=function(e){var t=o.toBuffer(e);if(65!==t.length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},r.isValidSignature=function(e,t,r,n,o){void 0===n&&(n=!0);var a=new i("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),l=new i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==r.length)return!1;if(!c(s(e,o)))return!1;var u=new i(t),f=new i(r);return!(u.isZero()||u.gt(l)||f.isZero()||f.gt(l)||n&&1===f.cmp(a))},r.hashPersonalMessage=function(e){var r=t.from("\x19Ethereum Signed Message:\n"+e.length.toString(),"utf-8");return a.keccak(t.concat([r,e]))}}).call(this,e("buffer").Buffer)},{"./bytes":124,"./hash":126,"bn.js":6,buffer:264,secp256k1:130}],130:[function(e,t,r){"use strict";t.exports=e("./lib")(e("./lib/elliptic"))},{"./lib":134,"./lib/elliptic":133}],131:[function(e,t,r){(function(e){"use strict";var t=Object.prototype.toString;r.isArray=function(e,t){if(!Array.isArray(e))throw TypeError(t)},r.isBoolean=function(e,r){if("[object Boolean]"!==t.call(e))throw TypeError(r)},r.isBuffer=function(t,r){if(!e.isBuffer(t))throw TypeError(r)},r.isFunction=function(e,r){if("[object Function]"!==t.call(e))throw TypeError(r)},r.isNumber=function(e,r){if("[object Number]"!==t.call(e))throw TypeError(r)},r.isObject=function(e,r){if("[object Object]"!==t.call(e))throw TypeError(r)},r.isBufferLength=function(e,t,r){if(e.length!==t)throw RangeError(r)},r.isBufferLength2=function(e,t,r,n){if(e.length!==t&&e.length!==r)throw RangeError(n)},r.isLengthGTZero=function(e,t){if(0===e.length)throw RangeError(t)},r.isNumberInInterval=function(e,t,r,n){if(e<=t||e>=r)throw RangeError(n)}}).call(this,{isBuffer:e("../../../../../../../../../../usr/lib/node_modules/browserify/node_modules/is-buffer/index.js")})},{"../../../../../../../../../../usr/lib/node_modules/browserify/node_modules/is-buffer/index.js":335}],132:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=e("bip66"),o=n.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),a=n.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);r.privateKeyExport=function(e,t,r){var i=n.from(r?o:a);return e.copy(i,r?8:9),t.copy(i,r?181:214),i},r.privateKeyImport=function(e){var t=e.length,r=0;if(!(t<r+1||48!==e[r])&&!(t<(r+=1)+1)&&128&e[r]){var n=127&e[r];if(r+=1,!(n<1||n>2||t<r+n)){var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);if(!(t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]))return e.slice(r+2,r+2+e[r+1])}}},r.signatureExport=function(e){for(var t=n.concat([n.from([0]),e.r]),r=33,o=0;r>1&&0===t[o]&&!(128&t[o+1]);--r,++o);for(var a=n.concat([n.from([0]),e.s]),s=33,c=0;s>1&&0===a[c]&&!(128&a[c+1]);--s,++c);return i.encode(t.slice(o),a.slice(c))},r.signatureImport=function(e){var t=n.alloc(32,0),r=n.alloc(32,0);try{var o=i.decode(e);if(33===o.r.length&&0===o.r[0]&&(o.r=o.r.slice(1)),o.r.length>32)throw new Error("R length is too long");if(33===o.s.length&&0===o.s[0]&&(o.s=o.s.slice(1)),o.s.length>32)throw new Error("S length is too long")}catch(a){return}return o.r.copy(t,32-o.r.length),o.s.copy(r,32-o.s.length),{r:t,s:r}},r.signatureImportLax=function(e){var t=n.alloc(32,0),r=n.alloc(32,0),i=e.length,o=0;if(48===e[o++]){var a=e[o++];if(!(128&a&&(o+=a-128)>i)&&2===e[o++]){var s=e[o++];if(128&s){if(o+(a=s-128)>i)return;for(;a>0&&0===e[o];o+=1,a-=1);for(s=0;a>0;o+=1,a-=1)s=(s<<8)+e[o]}if(!(s>i-o)){var c=o;if(o+=s,2===e[o++]){var l=e[o++];if(128&l){if(o+(a=l-128)>i)return;for(;a>0&&0===e[o];o+=1,a-=1);for(l=0;a>0;o+=1,a-=1)l=(l<<8)+e[o]}if(!(l>i-o)){var u=o;for(o+=l;s>0&&0===e[c];s-=1,c+=1);if(!(s>32)){var f=e.slice(c,c+s);for(f.copy(t,32-f.length);l>0&&0===e[u];l-=1,u+=1);if(!(l>32)){var d=e.slice(u,u+l);return d.copy(r,32-d.length),{r:t,s:r}}}}}}}}}},{bip66:5,"safe-buffer":182}],133:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=e("create-hash"),o=e("bn.js"),a=e("elliptic").ec,s=e("../messages.json"),c=new a("secp256k1"),l=c.curve;function u(e){var t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){var r=new o(t);if(r.cmp(l.p)>=0)return null;var n=(r=r.toRed(l.red)).redSqr().redIMul(r).redIAdd(l.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),c.keyPair({pub:{x:r,y:n}})}(t,e.slice(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){var n=new o(t),i=new o(r);if(n.cmp(l.p)>=0||i.cmp(l.p)>=0)return null;if(n=n.toRed(l.red),i=i.toRed(l.red),(6===e||7===e)&&i.isOdd()!==(7===e))return null;var a=n.redSqr().redIMul(n);return i.redSqr().redISub(a.redIAdd(l.b)).isZero()?c.keyPair({pub:{x:n,y:i}}):null}(t,e.slice(1,33),e.slice(33,65));default:return null}}r.privateKeyVerify=function(e){var t=new o(e);return t.cmp(l.n)<0&&!t.isZero()},r.privateKeyExport=function(e,t){var r=new o(e);if(r.cmp(l.n)>=0||r.isZero())throw new Error(s.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return n.from(c.keyFromPrivate(e).getPublic(t,!0))},r.privateKeyNegate=function(e){var t=new o(e);return t.isZero()?n.alloc(32):l.n.sub(t).umod(l.n).toArrayLike(n,"be",32)},r.privateKeyModInverse=function(e){var t=new o(e);if(t.cmp(l.n)>=0||t.isZero())throw new Error(s.EC_PRIVATE_KEY_RANGE_INVALID);return t.invm(l.n).toArrayLike(n,"be",32)},r.privateKeyTweakAdd=function(e,t){var r=new o(t);if(r.cmp(l.n)>=0)throw new Error(s.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(r.iadd(new o(e)),r.cmp(l.n)>=0&&r.isub(l.n),r.isZero())throw new Error(s.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return r.toArrayLike(n,"be",32)},r.privateKeyTweakMul=function(e,t){var r=new o(t);if(r.cmp(l.n)>=0||r.isZero())throw new Error(s.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return r.imul(new o(e)),r.cmp(l.n)&&(r=r.umod(l.n)),r.toArrayLike(n,"be",32)},r.publicKeyCreate=function(e,t){var r=new o(e);if(r.cmp(l.n)>=0||r.isZero())throw new Error(s.EC_PUBLIC_KEY_CREATE_FAIL);return n.from(c.keyFromPrivate(e).getPublic(t,!0))},r.publicKeyConvert=function(e,t){var r=u(e);if(null===r)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);return n.from(r.getPublic(t,!0))},r.publicKeyVerify=function(e){return null!==u(e)},r.publicKeyTweakAdd=function(e,t,r){var i=u(e);if(null===i)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new o(t)).cmp(l.n)>=0)throw new Error(s.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var a=l.g.mul(t).add(i.pub);if(a.isInfinity())throw new Error(s.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return n.from(a.encode(!0,r))},r.publicKeyTweakMul=function(e,t,r){var i=u(e);if(null===i)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new o(t)).cmp(l.n)>=0||t.isZero())throw new Error(s.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return n.from(i.pub.mul(t).encode(!0,r))},r.publicKeyCombine=function(e,t){for(var r=new Array(e.length),i=0;i<e.length;++i)if(r[i]=u(e[i]),null===r[i])throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);for(var o=r[0].pub,a=1;a<r.length;++a)o=o.add(r[a].pub);if(o.isInfinity())throw new Error(s.EC_PUBLIC_KEY_COMBINE_FAIL);return n.from(o.encode(!0,t))},r.signatureNormalize=function(e){var t=new o(e.slice(0,32)),r=new o(e.slice(32,64));if(t.cmp(l.n)>=0||r.cmp(l.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);var i=n.from(e);return 1===r.cmp(c.nh)&&l.n.sub(r).toArrayLike(n,"be",32).copy(i,32),i},r.signatureExport=function(e){var t=e.slice(0,32),r=e.slice(32,64);if(new o(t).cmp(l.n)>=0||new o(r).cmp(l.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);return{r:t,s:r}},r.signatureImport=function(e){var t=new o(e.r);t.cmp(l.n)>=0&&(t=new o(0));var r=new o(e.s);return r.cmp(l.n)>=0&&(r=new o(0)),n.concat([t.toArrayLike(n,"be",32),r.toArrayLike(n,"be",32)])},r.sign=function(e,t,r,i){if("function"==typeof r){var a=r;r=function(r){var c=a(e,t,null,i,r);if(!n.isBuffer(c)||32!==c.length)throw new Error(s.ECDSA_SIGN_FAIL);return new o(c)}}var u=new o(t);if(u.cmp(l.n)>=0||u.isZero())throw new Error(s.ECDSA_SIGN_FAIL);var f=c.sign(e,t,{canonical:!0,k:r,pers:i});return{signature:n.concat([f.r.toArrayLike(n,"be",32),f.s.toArrayLike(n,"be",32)]),recovery:f.recoveryParam}},r.verify=function(e,t,r){var n={r:t.slice(0,32),s:t.slice(32,64)},i=new o(n.r),a=new o(n.s);if(i.cmp(l.n)>=0||a.cmp(l.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);if(1===a.cmp(c.nh)||i.isZero()||a.isZero())return!1;var f=u(r);if(null===f)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);return c.verify(e,n,{x:f.pub.x,y:f.pub.y})},r.recover=function(e,t,r,i){var a={r:t.slice(0,32),s:t.slice(32,64)},u=new o(a.r),f=new o(a.s);if(u.cmp(l.n)>=0||f.cmp(l.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);try{if(u.isZero()||f.isZero())throw new Error;var d=c.recoverPubKey(e,a,r);return n.from(d.encode(!0,i))}catch(h){throw new Error(s.ECDSA_RECOVER_FAIL)}},r.ecdh=function(e,t){var n=r.ecdhUnsafe(e,t,!0);return i("sha256").update(n).digest()},r.ecdhUnsafe=function(e,t,r){var i=u(e);if(null===i)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);var a=new o(t);if(a.cmp(l.n)>=0||a.isZero())throw new Error(s.ECDH_FAIL);return n.from(i.pub.mul(a).encode(!0,r))}},{"../messages.json":135,"bn.js":6,"create-hash":61,elliptic:63,"safe-buffer":182}],134:[function(e,t,r){"use strict";var n=e("./assert"),i=e("./der"),o=e("./messages.json");function a(e,t){return void 0===e?t:(n.isBoolean(e,o.COMPRESSED_TYPE_INVALID),e)}t.exports=function(e){return{privateKeyVerify:function(t){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),32===t.length&&e.privateKeyVerify(t)},privateKeyExport:function(t,r){n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),r=a(r,!0);var s=e.privateKeyExport(t,r);return i.privateKeyExport(t,s,r)},privateKeyImport:function(t){if(n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),(t=i.privateKeyImport(t))&&32===t.length&&e.privateKeyVerify(t))return t;throw new Error(o.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(t){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyNegate(t)},privateKeyModInverse:function(t){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyModInverse(t)},privateKeyTweakAdd:function(t,r){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),e.privateKeyTweakAdd(t,r)},privateKeyTweakMul:function(t,r){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),e.privateKeyTweakMul(t,r)},publicKeyCreate:function(t,r){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),r=a(r,!0),e.publicKeyCreate(t,r)},publicKeyConvert:function(t,r){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),r=a(r,!0),e.publicKeyConvert(t,r)},publicKeyVerify:function(t){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),e.publicKeyVerify(t)},publicKeyTweakAdd:function(t,r,i){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),i=a(i,!0),e.publicKeyTweakAdd(t,r,i)},publicKeyTweakMul:function(t,r,i){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),i=a(i,!0),e.publicKeyTweakMul(t,r,i)},publicKeyCombine:function(t,r){n.isArray(t,o.EC_PUBLIC_KEYS_TYPE_INVALID),n.isLengthGTZero(t,o.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var i=0;i<t.length;++i)n.isBuffer(t[i],o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t[i],33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID);return r=a(r,!0),e.publicKeyCombine(t,r)},signatureNormalize:function(t){return n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),e.signatureNormalize(t)},signatureExport:function(t){n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=e.signatureExport(t);return i.signatureExport(r)},signatureImport:function(t){n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(t,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImport(t);if(r)return e.signatureImport(r);throw new Error(o.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(t){n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(t,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImportLax(t);if(r)return e.signatureImport(r);throw new Error(o.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(t,r,i){n.isBuffer(t,o.MSG32_TYPE_INVALID),n.isBufferLength(t,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID);var a=null,s=null;return void 0!==i&&(n.isObject(i,o.OPTIONS_TYPE_INVALID),void 0!==i.data&&(n.isBuffer(i.data,o.OPTIONS_DATA_TYPE_INVALID),n.isBufferLength(i.data,32,o.OPTIONS_DATA_LENGTH_INVALID),a=i.data),void 0!==i.noncefn&&(n.isFunction(i.noncefn,o.OPTIONS_NONCEFN_TYPE_INVALID),s=i.noncefn)),e.sign(t,r,s,a)},verify:function(t,r,i){return n.isBuffer(t,o.MSG32_TYPE_INVALID),n.isBufferLength(t,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),n.isBuffer(i,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(i,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),e.verify(t,r,i)},recover:function(t,r,i,s){return n.isBuffer(t,o.MSG32_TYPE_INVALID),n.isBufferLength(t,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),n.isNumber(i,o.RECOVERY_ID_TYPE_INVALID),n.isNumberInInterval(i,-1,4,o.RECOVERY_ID_VALUE_INVALID),s=a(s,!0),e.recover(t,r,i,s)},ecdh:function(t,r){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),e.ecdh(t,r)},ecdhUnsafe:function(t,r,i){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),i=a(i,!0),e.ecdhUnsafe(t,r,i)}}}},{"./assert":131,"./der":132,"./messages.json":135}],135:[function(e,t,r){t.exports={COMPRESSED_TYPE_INVALID:"compressed should be a boolean",EC_PRIVATE_KEY_TYPE_INVALID:"private key should be a Buffer",EC_PRIVATE_KEY_LENGTH_INVALID:"private key length is invalid",EC_PRIVATE_KEY_RANGE_INVALID:"private key range is invalid",EC_PRIVATE_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting private key is invalid",EC_PRIVATE_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PRIVATE_KEY_EXPORT_DER_FAIL:"couldn't export to DER format",EC_PRIVATE_KEY_IMPORT_DER_FAIL:"couldn't import from DER format",EC_PUBLIC_KEYS_TYPE_INVALID:"public keys should be an Array",EC_PUBLIC_KEYS_LENGTH_INVALID:"public keys Array should have at least 1 element",EC_PUBLIC_KEY_TYPE_INVALID:"public key should be a Buffer",EC_PUBLIC_KEY_LENGTH_INVALID:"public key length is invalid",EC_PUBLIC_KEY_PARSE_FAIL:"the public key could not be parsed or is invalid",EC_PUBLIC_KEY_CREATE_FAIL:"private was invalid, try again",EC_PUBLIC_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting public key is invalid",EC_PUBLIC_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PUBLIC_KEY_COMBINE_FAIL:"the sum of the public keys is not valid",ECDH_FAIL:"scalar was invalid (zero or overflow)",ECDSA_SIGNATURE_TYPE_INVALID:"signature should be a Buffer",ECDSA_SIGNATURE_LENGTH_INVALID:"signature length is invalid",ECDSA_SIGNATURE_PARSE_FAIL:"couldn't parse signature",ECDSA_SIGNATURE_PARSE_DER_FAIL:"couldn't parse DER signature",ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:"couldn't serialize signature to DER format",ECDSA_SIGN_FAIL:"nonce generation function failed or private key is invalid",ECDSA_RECOVER_FAIL:"couldn't recover public key from signature",MSG32_TYPE_INVALID:"message should be a Buffer",MSG32_LENGTH_INVALID:"message length is invalid",OPTIONS_TYPE_INVALID:"options should be an Object",OPTIONS_DATA_TYPE_INVALID:"options.data should be a Buffer",OPTIONS_DATA_LENGTH_INVALID:"options.data length is invalid",OPTIONS_NONCEFN_TYPE_INVALID:"options.noncefn should be a Function",RECOVERY_ID_TYPE_INVALID:"recovery should be a Number",RECOVERY_ID_VALUE_INVALID:"recovery should have value between -1 and 4",TWEAK_TYPE_INVALID:"tweak should be a Buffer",TWEAK_LENGTH_INVALID:"tweak length is invalid"}},{}],136:[function(e,t,r){(function(e,n,i){!function(e,n){n("object"==typeof r&&void 0!==t?r:(e=e||self).ethers={})}(this,(function(t){"use strict";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function a(e,t){return e(t={exports:{}},t.exports),t.exports}function s(e){return e&&e.default||e}var c=s(Object.freeze({default:{}})),l=a((function(e){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o=c.Buffer}catch(S){}function a(e,t,r){for(var n=0,i=Math.min(e.length,r),o=t;o<i;o++){var a=e.charCodeAt(o)-48;n<<=4,n|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return n}function s(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)this.words[o]|=(a=e[i]|e[i-1]<<8|e[i-2]<<16)<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)this.words[o]|=(a=e[i]|e[i+1]<<8|e[i+2]<<16)<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},i.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=e.length-6,n=0;r>=t;r-=6)i=a(e,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==t&&(i=a(e,t,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,c=Math.min(o,o-a)+r,l=0,u=r;u<c;u+=n)l=s(e,u,u+n,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var f=1;for(l=s(e,u,e.length,t),u=0;u<a;u++)f*=t;this.imuln(f),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=a/67108864|0;r.words[0]=67108863&a;for(var c=1;c<n;c++){for(var l=s>>>26,u=67108863&s,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++)l+=(a=(i=0|e.words[c-d|0])*(o=0|t.words[d])+u)/67108864|0,u=67108863&a;r.words[c]=0|u,s=0|l}return 0!==s?r.words[c]=0|s:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);n=0!=(o=s>>>24-i&16777215)||a!==this.length-1?l[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var d=u[e],h=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(h).toString(e);n=(p=p.idivn(h)).isZero()?b+n:l[d-b.length]+b+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==o),this.toArrayLike(o,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,l=new e(o),u=this.clone();if(c){for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[o-s-1]=a}return l},i.prototype._countBits=Math.clz32?function(e){return 32-Math.clz32(e)}:function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)this.words[o]=67108863&(t=(0|r.words[o])+(0|n.words[o])+i),i=t>>>26;for(;0!==i&&o<r.length;o++)this.words[o]=67108863&(t=(0|r.words[o])+i),i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,r){var n,i,o,a=e.words,s=t.words,c=r.words,l=0,u=0|a[0],f=8191&u,d=u>>>13,h=0|a[1],p=8191&h,b=h>>>13,m=0|a[2],g=8191&m,y=m>>>13,v=0|a[3],w=8191&v,_=v>>>13,M=0|a[4],k=8191&M,S=M>>>13,C=0|a[5],E=8191&C,P=C>>>13,x=0|a[6],O=8191&x,A=x>>>13,T=0|a[7],R=8191&T,I=T>>>13,N=0|a[8],B=8191&N,D=N>>>13,j=0|a[9],L=8191&j,F=j>>>13,z=0|s[0],U=8191&z,K=z>>>13,H=0|s[1],q=8191&H,G=H>>>13,V=0|s[2],W=8191&V,Y=V>>>13,J=0|s[3],Z=8191&J,X=J>>>13,$=0|s[4],Q=8191&$,ee=$>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,le=se>>>13,ue=0|s[8],fe=8191&ue,de=ue>>>13,he=0|s[9],pe=8191&he,be=he>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(l+(n=Math.imul(f,U))|0)+((8191&(i=(i=Math.imul(f,K))+Math.imul(d,U)|0))<<13)|0;l=((o=Math.imul(d,K))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,K))+Math.imul(b,U)|0,o=Math.imul(b,K);var ge=(l+(n=n+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(d,q)|0))<<13)|0;l=((o=o+Math.imul(d,G)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,U),i=(i=Math.imul(g,K))+Math.imul(y,U)|0,o=Math.imul(y,K),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(b,q)|0,o=o+Math.imul(b,G)|0;var ye=(l+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(d,W)|0))<<13)|0;l=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,K))+Math.imul(_,U)|0,o=Math.imul(_,K),n=n+Math.imul(g,q)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,G)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,Y)|0;var ve=(l+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(d,Z)|0))<<13)|0;l=((o=o+Math.imul(d,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,U),i=(i=Math.imul(k,K))+Math.imul(S,U)|0,o=Math.imul(S,K),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,X)|0;var we=(l+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;l=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(E,U),i=(i=Math.imul(E,K))+Math.imul(P,U)|0,o=Math.imul(P,K),n=n+Math.imul(k,q)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,G)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0;var _e=(l+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(d,re)|0))<<13)|0;l=((o=o+Math.imul(d,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(O,U),i=(i=Math.imul(O,K))+Math.imul(A,U)|0,o=Math.imul(A,K),n=n+Math.imul(E,q)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,G)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Y)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Me=(l+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(d,oe)|0))<<13)|0;l=((o=o+Math.imul(d,ae)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(R,U),i=(i=Math.imul(R,K))+Math.imul(I,U)|0,o=Math.imul(I,K),n=n+Math.imul(O,q)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(E,W)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0;var ke=(l+(n=n+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,le)|0)+Math.imul(d,ce)|0))<<13)|0;l=((o=o+Math.imul(d,le)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,K))+Math.imul(D,U)|0,o=Math.imul(D,K),n=n+Math.imul(R,q)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,le)|0;var Se=(l+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;l=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,U),i=(i=Math.imul(L,K))+Math.imul(F,U)|0,o=Math.imul(F,K),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,G)|0,n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,le)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(b,fe)|0,o=o+Math.imul(b,de)|0;var Ce=(l+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,be)|0)+Math.imul(d,pe)|0))<<13)|0;l=((o=o+Math.imul(d,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,G))+Math.imul(F,q)|0,o=Math.imul(F,G),n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,X)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,ae)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,le)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,le)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,de)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,de)|0;var Ee=(l+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;l=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(L,W),i=(i=Math.imul(L,Y))+Math.imul(F,W)|0,o=Math.imul(F,Y),n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,X)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,n=n+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(S,ce)|0,o=o+Math.imul(S,le)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,de)|0;var Pe=(l+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,be)|0)+Math.imul(y,pe)|0))<<13)|0;l=((o=o+Math.imul(y,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,X))+Math.imul(F,Z)|0,o=Math.imul(F,X),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,n=n+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,le)|0)+Math.imul(P,ce)|0,o=o+Math.imul(P,le)|0,n=n+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(S,fe)|0,o=o+Math.imul(S,de)|0;var xe=(l+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,be)|0)+Math.imul(_,pe)|0))<<13)|0;l=((o=o+Math.imul(_,be)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,Q),i=(i=Math.imul(L,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(D,re)|0,o=o+Math.imul(D,ne)|0,n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,le)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,de)|0;var Oe=(l+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,be)|0)+Math.imul(S,pe)|0))<<13)|0;l=((o=o+Math.imul(S,be)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(F,re)|0,o=Math.imul(F,ne),n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,ae)|0)+Math.imul(D,oe)|0,o=o+Math.imul(D,ae)|0,n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,le)|0,n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,de)|0)+Math.imul(A,fe)|0,o=o+Math.imul(A,de)|0;var Ae=(l+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,be)|0)+Math.imul(P,pe)|0))<<13)|0;l=((o=o+Math.imul(P,be)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(L,oe),i=(i=Math.imul(L,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),n=n+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,le)|0)+Math.imul(D,ce)|0,o=o+Math.imul(D,le)|0,n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,de)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,de)|0;var Te=(l+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,be)|0)+Math.imul(A,pe)|0))<<13)|0;l=((o=o+Math.imul(A,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,ce),i=(i=Math.imul(L,le))+Math.imul(F,ce)|0,o=Math.imul(F,le),n=n+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,de)|0)+Math.imul(D,fe)|0,o=o+Math.imul(D,de)|0;var Re=(l+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,be)|0)+Math.imul(I,pe)|0))<<13)|0;l=((o=o+Math.imul(I,be)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(L,fe),i=(i=Math.imul(L,de))+Math.imul(F,fe)|0,o=Math.imul(F,de);var Ie=(l+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,be)|0)+Math.imul(D,pe)|0))<<13)|0;l=((o=o+Math.imul(D,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863;var Ne=(l+(n=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,be))+Math.imul(F,pe)|0))<<13)|0;return l=((o=Math.imul(F,be))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,c[0]=me,c[1]=ge,c[2]=ye,c[3]=ve,c[4]=we,c[5]=_e,c[6]=Me,c[7]=ke,c[8]=Se,c[9]=Ce,c[10]=Ee,c[11]=Pe,c[12]=xe,c[13]=Oe,c[14]=Ae,c[15]=Te,c[16]=Re,c[17]=Ie,c[18]=Ne,0!==l&&(c[19]=l,r.length++),r};function p(e,t,r){return(new b).mulp(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(h=d),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?h(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=c;l++){var u=(0|e.words[o-l])*(0|t.words[l]),f=67108863&u;s=67108863&(f=f+s|0),i+=(a=(a=a+(u/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},b.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var f=c,d=l,h=0;h<a;h++){var p=r[u+h],b=n[u+h],m=r[u+h+a],g=n[u+h+a],y=f*m-d*g;g=f*g+d*m,r[u+h]=p+(m=y),n[u+h]=b+g,r[u+h+a]=p-m,n[u+h+a]=b-g,h!==s&&(y=c*f-l*d,d=c*d+l*f,f=y)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)n[2*a]=8191&(o+=0|e[a]),n[2*a+1]=8191&(o>>>=13),o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),l=new Array(n),u=new Array(n),f=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,l,n),this.transform(a,o,s,c,n,i),this.transform(l,o,u,f,n,i);for(var h=0;h<n;h++){var p=s[h]*u[h]-c[h]*f[h];c[h]=s[h]*f[h]+c[h]*u[h],s[h]=p}return this.conjugate(s,c,n),this.transform(s,c,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r%26;t[r]=(e.words[r/26|0]&1<<n)>>>n}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o;this.words[t]=(0|this.words[t])-s<<n|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(i-=a,i=Math.max(0,i),c){for(var l=0;l<a;l++)c.words[l]=this.words[l];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var f=0|this.words[l];this.words[l]=u<<26-o|f>>>o,u=f&s}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;return!(this.length<=n||!(this.words[n]&1<<t))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;return r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n?this:(0!==t&&n++,this.length=Math.min(n,this.length),0!==t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this.strip())},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o;this._expand(e.length+n);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+a;var s=(0|e.words[i])*t;a=((o-=67108863&s)>>26)-(s/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r,n=this.clone(),o=e,a=0|o.words[o.length-1];0!=(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,c=n.length-o.length;if("mod"!==t){(s=new i(null)).length=c+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var u=n.clone()._ishlnsubmul(o,1,c);0===u.negative&&(n=u,s&&(s.words[c]=1));for(var f=c-1;f>=0;f--){var d=67108864*(0|n.words[o.length+f])+(0|n.words[o.length+f-1]);for(d=Math.min(d/a|0,67108863),n._ishlnsubmul(o,d,f);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(o,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=d)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),a=new i(0),s=new i(0),c=new i(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0==(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(u),a.isub(f)),o.iushrn(1),a.iushrn(1);for(var p=0,b=1;0==(n.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(f)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s),a.isub(c)):(n.isub(t),s.isub(o),c.isub(a))}return{a:s,b:c,gcd:n.iushln(l)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new i(1),s=new i(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0==(t.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(t.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var f=0,d=1;0==(n.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,this.words[a]=s&=67108863}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new M(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function g(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){M.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},g.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},g.prototype.split=function(e,t){e.iushrn(this.n,0,t)},g.prototype.imulK=function(e){return e.imul(this.k)},n(y,g),y.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}e.words[n-10]=i>>>=22,e.length-=0===i&&e.length>10?10:9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];e.words[r]=67108863&(t+=977*n),t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(v,g),n(w,g),n(_,g),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new v;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},M.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},M.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},M.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},M.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},M.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},M.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},M.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},M.prototype.isqr=function(e){return this.imul(e,e.clone())},M.prototype.sqr=function(e){return this.mul(e,e)},M.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var f=this.pow(u,o),d=this.pow(e,o.addn(1).iushrn(1)),h=this.pow(e,o),p=a;0!==h.cmp(s);){for(var b=h,m=0;0!==b.cmp(s);m++)b=b.redSqr();r(m<p);var g=this.pow(f,new i(1).iushln(p-m-1));d=d.redMul(g),f=g.redSqr(),h=h.redMul(f),p=m}return d},M.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},M.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var l=t.words[n],u=c-1;u>=0;u--){var f=l>>u&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==a?(a<<=1,a|=f,(4==++s||0===n&&0===u)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}c=26}return o},M.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},M.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new k(e)},n(k,M),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,r)})),u=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="logger/5.0.5"})),f=(o(u),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r,n,i=!1,o=!1,a={debug:1,default:2,info:2,warning:3,error:4,off:5},s=a.default,c=null,l=function(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(t){try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(r=t.LogLevel||(t.LogLevel={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT"}(n=t.ErrorCode||(t.ErrorCode={}));var f=function(){function e(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}return e.prototype._log=function(e,t){var r=e.toLowerCase();null==a[r]&&this.throwArgumentError("invalid log level name","logLevel",e),s>a[r]||console.log.apply(console,t)},e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log(e.levels.DEBUG,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log(e.levels.INFO,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log(e.levels.WARNING,t)},e.prototype.makeError=function(t,r,n){if(o)return this.makeError("censored error",r,{});r||(r=e.errors.UNKNOWN_ERROR),n||(n={});var i=[];Object.keys(n).forEach((function(e){try{i.push(e+"="+JSON.stringify(n[e]))}catch(s){i.push(e+"="+JSON.stringify(n[e].toString()))}})),i.push("code="+r),i.push("version="+this.version);var a=t;i.length&&(t+=" ("+i.join(", ")+")");var s=new Error(t);return s.reason=a,s.code=r,Object.keys(n).forEach((function(e){s[e]=n[e]})),s},e.prototype.throwError=function(e,t,r){throw this.makeError(e,t,r)},e.prototype.throwArgumentError=function(t,r,n){return this.throwError(t,e.errors.INVALID_ARGUMENT,{argument:r,value:n})},e.prototype.assert=function(e,t,r,n){e||this.throwError(t,r,n)},e.prototype.assertArgument=function(e,t,r,n){e||this.throwArgumentError(t,r,n)},e.prototype.checkNormalize=function(t){null==t&&(t="platform missing String.prototype.normalize"),l&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:l})},e.prototype.checkSafeUint53=function(t,r){"number"==typeof t&&(null==r&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))},e.prototype.checkArgumentCount=function(t,r,n){n=n?": "+n:"",t<r&&this.throwError("missing argument"+n,e.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,e.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})},e.prototype.checkNew=function(t,r){t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})},e.prototype.checkAbstract=function(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})},e.globalLogger=function(){return c||(c=new e(u.version)),c},e.setCensorship=function(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),i){if(!t)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}o=!!t,i=!!r},e.setLogLevel=function(t){var r=a[t.toLowerCase()];null!=r?s=r:e.globalLogger().warn("invalid log level - "+t)},e.errors=n,e.levels=r,e}();t.Logger=f}))),d=(o(f),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="bytes/5.0.4"}))),h=(o(d),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new f.Logger(d.version);function n(e){return!!e.toHexString}function i(e){return e.slice||(e.slice=function(){var t=Array.prototype.slice.call(arguments);return i(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function o(e){return u(e)&&!(e.length%2)||a(e)}function a(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(null==e.length)return!1;for(var t=0;t<e.length;t++){var r=e[t];if(r<0||r>=256||r%1)return!1}return!0}function s(e,t){if(t||(t={}),"number"==typeof e){r.checkSafeUint53(e,"invalid arrayify value");for(var o=[];e;)o.unshift(255&e),e=parseInt(String(e/256));return 0===o.length&&o.push(0),i(new Uint8Array(o))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),n(e)&&(e=e.toHexString()),u(e)){var s=e.substring(2);s.length%2&&("left"===t.hexPad?s="0x0"+s.substring(2):"right"===t.hexPad?s+="0":r.throwArgumentError("hex data is odd-length","value",e)),o=[];for(var c=0;c<s.length;c+=2)o.push(parseInt(s.substring(c,c+2),16));return i(new Uint8Array(o))}return a(e)?i(new Uint8Array(e)):r.throwArgumentError("invalid arrayify value","value",e)}function c(e){var t=e.map((function(e){return s(e)})),r=t.reduce((function(e,t){return e+t.length}),0),n=new Uint8Array(r);return t.reduce((function(e,t){return n.set(t,e),e+t.length}),0),i(n)}function l(e,t){(e=s(e)).length>t&&r.throwArgumentError("value out of range","value",arguments[0]);var n=new Uint8Array(t);return n.set(e,t-e.length),i(n)}function u(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}function h(e,t){if(t||(t={}),"number"==typeof e){r.checkSafeUint53(e,"invalid hexlify value");for(var i="";e;)i="0123456789abcdef"[15&e]+i,e=Math.floor(e/16);return i.length?(i.length%2&&(i="0"+i),"0x"+i):"0x00"}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),n(e))return e.toHexString();if(u(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":r.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(a(e)){for(var o="0x",s=0;s<e.length;s++){var c=e[s];o+="0123456789abcdef"[(240&c)>>4]+"0123456789abcdef"[15&c]}return o}return r.throwArgumentError("invalid hexlify value","value",e)}function p(e){"string"!=typeof e&&(e=h(e)),u(e)||r.throwArgumentError("invalid hex string","value",e),e=e.substring(2);for(var t=0;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}function b(e,t){for("string"!=typeof e?e=h(e):u(e)||r.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&r.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function m(e){var t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0};if(o(e)){var n=s(e);65!==n.length&&r.throwArgumentError("invalid signature string; must be 65 bytes","signature",e),t.r=h(n.slice(0,32)),t.s=h(n.slice(32,64)),t.v=n[64],t.v<27&&(0===t.v||1===t.v?t.v+=27:r.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(n[32]|=128),t._vs=h(n.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){var i=l(s(t._vs),32);t._vs=h(i);var a=i[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=a:t.recoveryParam!==a&&r.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),i[0]&=127;var c=h(i);null==t.s?t.s=c:t.s!==c&&r.throwArgumentError("signature v mismatch _vs","signature",e)}null==t.recoveryParam?null==t.v?r.throwArgumentError("signature missing v and recoveryParam","signature",e):t.recoveryParam=1-t.v%2:null==t.v?t.v=27+t.recoveryParam:t.recoveryParam!==1-t.v%2&&r.throwArgumentError("signature recoveryParam mismatch v","signature",e),null!=t.r&&u(t.r)?t.r=b(t.r,32):r.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&u(t.s)?t.s=b(t.s,32):r.throwArgumentError("signature missing or invalid s","signature",e);var f=s(t.s);f[0]>=128&&r.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(f[0]|=128);var d=h(f);t._vs&&(u(t._vs)||r.throwArgumentError("signature invalid _vs","signature",e),t._vs=b(t._vs,32)),null==t._vs?t._vs=d:t._vs!==d&&r.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t}t.isBytesLike=o,t.isBytes=a,t.arrayify=s,t.concat=c,t.stripZeros=function(e){var t=s(e);if(0===t.length)return t;for(var r=0;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t},t.zeroPad=l,t.isHexString=u,t.hexlify=h,t.hexDataLength=function(e){if("string"!=typeof e)e=h(e);else if(!u(e)||e.length%2)return null;return(e.length-2)/2},t.hexDataSlice=function(e,t,n){return"string"!=typeof e?e=h(e):(!u(e)||e.length%2)&&r.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=n?"0x"+e.substring(t,2+2*n):"0x"+e.substring(t)},t.hexConcat=function(e){var t="0x";return e.forEach((function(e){t+=h(e).substring(2)})),t},t.hexValue=function(e){var t=p(h(e,{hexPad:"left"}));return"0x"===t?"0x0":t},t.hexStripZeros=p,t.hexZeroPad=b,t.splitSignature=m,t.joinSignature=function(e){return h(c([(e=m(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}}))),p=(o(h),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="bignumber/5.0.6"}))),b=(o(p),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new f.Logger(p.version),n={};t.isBigNumberish=function(e){return null!=e&&(i.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||h.isHexString(e)||"bigint"==typeof e||h.isBytes(e))};var i=function(){function e(t,i){r.checkNew(this.constructor,e),t!==n&&r.throwError("cannot call constructor directly; use BigNumber.from",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=i,this._isBigNumber=!0,Object.freeze(this)}return e.prototype.fromTwos=function(e){return a(s(this).fromTwos(e))},e.prototype.toTwos=function(e){return a(s(this).toTwos(e))},e.prototype.abs=function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this},e.prototype.add=function(e){return a(s(this).add(s(e)))},e.prototype.sub=function(e){return a(s(this).sub(s(e)))},e.prototype.div=function(t){return e.from(t).isZero()&&c("division by zero","div"),a(s(this).div(s(t)))},e.prototype.mul=function(e){return a(s(this).mul(s(e)))},e.prototype.mod=function(e){var t=s(e);return t.isNeg()&&c("cannot modulo negative values","mod"),a(s(this).umod(t))},e.prototype.pow=function(e){var t=s(e);return t.isNeg()&&c("cannot raise to negative values","pow"),a(s(this).pow(t))},e.prototype.and=function(e){var t=s(e);return(this.isNegative()||t.isNeg())&&c("cannot 'and' negative values","and"),a(s(this).and(t))},e.prototype.or=function(e){var t=s(e);return(this.isNegative()||t.isNeg())&&c("cannot 'or' negative values","or"),a(s(this).or(t))},e.prototype.xor=function(e){var t=s(e);return(this.isNegative()||t.isNeg())&&c("cannot 'xor' negative values","xor"),a(s(this).xor(t))},e.prototype.mask=function(e){return(this.isNegative()||e<0)&&c("cannot mask negative values","mask"),a(s(this).maskn(e))},e.prototype.shl=function(e){return(this.isNegative()||e<0)&&c("cannot shift negative values","shl"),a(s(this).shln(e))},e.prototype.shr=function(e){return(this.isNegative()||e<0)&&c("cannot shift negative values","shr"),a(s(this).shrn(e))},e.prototype.eq=function(e){return s(this).eq(s(e))},e.prototype.lt=function(e){return s(this).lt(s(e))},e.prototype.lte=function(e){return s(this).lte(s(e))},e.prototype.gt=function(e){return s(this).gt(s(e))},e.prototype.gte=function(e){return s(this).gte(s(e))},e.prototype.isNegative=function(){return"-"===this._hex[0]},e.prototype.isZero=function(){return s(this).isZero()},e.prototype.toNumber=function(){try{return s(this).toNumber()}catch(e){c("overflow","toNumber",this.toString())}return null},e.prototype.toString=function(){return 0!==arguments.length&&r.throwError("bigNumber.toString does not accept parameters",f.Logger.errors.UNEXPECTED_ARGUMENT,{}),s(this).toString(10)},e.prototype.toHexString=function(){return this._hex},e.prototype.toJSON=function(e){return{type:"BigNumber",hex:this.toHexString()}},e.from=function(t){if(t instanceof e)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new e(n,o(t)):t.match(/^-?[0-9]+$/)?new e(n,o(new l.BN(t))):r.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&c("underflow","BigNumber.from",t),(t>=9007199254740991||t<=-9007199254740991)&&c("overflow","BigNumber.from",t),e.from(String(t));var i,a=t;if("bigint"==typeof a)return e.from(a.toString());if(h.isBytes(a))return e.from(h.hexlify(a));if(a)if(a.toHexString){if("string"==typeof(i=a.toHexString()))return e.from(i)}else if(null==(i=a._hex)&&"BigNumber"===a.type&&(i=a.hex),"string"==typeof i&&(h.isHexString(i)||"-"===i[0]&&h.isHexString(i.substring(1))))return e.from(i);return r.throwArgumentError("invalid BigNumber value","value",t)},e.isBigNumber=function(e){return!(!e||!e._isBigNumber)},e}();function o(e){if("string"!=typeof e)return o(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&r.throwArgumentError("invalid hex","value",e),"0x00"===(e=o(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function a(e){return i.from(o(e))}function s(e){var t=i.from(e).toHexString();return new l.BN("-"===t[0]?"-"+t.substring(3):t.substring(2),16)}function c(e,t,n){var i={fault:e,operation:t};return null!=n&&(i.value=n),r.throwError(e,f.Logger.errors.NUMERIC_FAULT,i)}t.BigNumber=i}))),m=(o(b),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new f.Logger(p.version),n={},i=b.BigNumber.from(0),o=b.BigNumber.from(-1);function a(e,t,n,i){var o={fault:t,operation:n};return void 0!==i&&(o.value=i),r.throwError(e,f.Logger.errors.NUMERIC_FAULT,o)}for(var s="0";s.length<256;)s+=s;function c(e){if("number"!=typeof e)try{e=b.BigNumber.from(e).toNumber()}catch(t){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+s.substring(0,e):r.throwArgumentError("invalid decimal size","decimals",e)}function l(e,t){null==t&&(t=0);var r=c(t),n=(e=b.BigNumber.from(e)).lt(i);n&&(e=e.mul(o));for(var a=e.mod(r).toString();a.length<r.length-1;)a="0"+a;a=a.match(/^([0-9]*[1-9]|0)(0*)/)[1];var s=e.div(r).toString();return e=s+"."+a,n&&(e="-"+e),e}function u(e,t){null==t&&(t=0);var n=c(t);if("string"==typeof e&&e.match(/^-?[0-9.,]+$/)||r.throwArgumentError("invalid decimal value","value",e),n.length-1==0)return b.BigNumber.from(e);var i="-"===e.substring(0,1);i&&(e=e.substring(1)),"."===e&&r.throwArgumentError("missing value","value",e);var s=e.split(".");s.length>2&&r.throwArgumentError("too many decimal points","value",e);var l=s[0],u=s[1];for(l||(l="0"),u||(u="0"),u.length>n.length-1&&a("fractional component exceeds decimals","underflow","parseFixed");u.length<n.length-1;)u+="0";var f=b.BigNumber.from(l),d=b.BigNumber.from(u),h=f.mul(n).add(d);return i&&(h=h.mul(o)),h}t.formatFixed=l,t.parseFixed=u;var d=function(){function e(e,t,i,o){e!==n&&r.throwError("cannot use FixedFormat constructor; use FixedFormat.from",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=i,this.decimals=o,this.name=(t?"":"u")+"fixed"+String(i)+"x"+String(o),this._multiplier=c(o),Object.freeze(this)}return e.from=function(t){if(t instanceof e)return t;var i=!0,o=128,a=18;if("string"==typeof t){if("fixed"===t);else if("ufixed"===t)i=!1;else if(null!=t){var s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||r.throwArgumentError("invalid fixed format","format",t),i="u"!==s[1],o=parseInt(s[2]),a=parseInt(s[3])}}else if(t){var c=function(e,n,i){return null==t[e]?i:(typeof t[e]!==n&&r.throwArgumentError("invalid fixed format ("+e+" not "+n+")","format."+e,t[e]),t[e])};i=c("signed","boolean",i),o=c("width","number",o),a=c("decimals","number",a)}return o%8&&r.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",o),a>80&&r.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",a),new e(n,i,o,a)},e}();t.FixedFormat=d;var m=function(){function e(t,i,o,a){r.checkNew(this.constructor,e),t!==n&&r.throwError("cannot use FixedNumber constructor; use FixedNumber.from",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=a,this._hex=i,this._value=o,this._isFixedNumber=!0,Object.freeze(this)}return e.prototype._checkFormat=function(e){this.format.name!==e.format.name&&r.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)},e.prototype.addUnsafe=function(t){this._checkFormat(t);var r=u(this._value,this.format.decimals),n=u(t._value,t.format.decimals);return e.fromValue(r.add(n),this.format.decimals,this.format)},e.prototype.subUnsafe=function(t){this._checkFormat(t);var r=u(this._value,this.format.decimals),n=u(t._value,t.format.decimals);return e.fromValue(r.sub(n),this.format.decimals,this.format)},e.prototype.mulUnsafe=function(t){this._checkFormat(t);var r=u(this._value,this.format.decimals),n=u(t._value,t.format.decimals);return e.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)},e.prototype.divUnsafe=function(t){this._checkFormat(t);var r=u(this._value,this.format.decimals),n=u(t._value,t.format.decimals);return e.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)},e.prototype.round=function(t){null==t&&(t=0),(t<0||t>80||t%1)&&r.throwArgumentError("invalid decimal count","decimals",t);var n=this.toString().split(".");if(n[1].length<=t)return this;var i="0."+s.substring(0,t)+"5";return n=this.addUnsafe(e.fromString(i,this.format))._value.split("."),e.fromString(n[0]+"."+n[1].substring(0,t))},e.prototype.isZero=function(){return"0.0"===this._value},e.prototype.toString=function(){return this._value},e.prototype.toHexString=function(e){if(null==e)return this._hex;e%8&&r.throwArgumentError("invalid byte width","width",e);var t=b.BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return h.hexZeroPad(t,e/8)},e.prototype.toUnsafeFloat=function(){return parseFloat(this.toString())},e.prototype.toFormat=function(t){return e.fromString(this._value,t)},e.fromValue=function(t,r,n){return null!=n||null==r||b.isBigNumberish(r)||(n=r,r=null),null==r&&(r=0),null==n&&(n="fixed"),e.fromString(l(t,r),d.from(n))},e.fromString=function(t,r){null==r&&(r="fixed");var o=d.from(r),s=u(t,o.decimals);!o.signed&&s.lt(i)&&a("unsigned value cannot be negative","overflow","value",t);var c=null;o.signed?c=s.toTwos(o.width).toHexString():(c=s.toHexString(),c=h.hexZeroPad(c,o.width/8));var f=l(s,o.decimals);return new e(n,c,f,o)},e.fromBytes=function(t,r){null==r&&(r="fixed");var i=d.from(r);if(h.arrayify(t).length>i.width/8)throw new Error("overflow");var o=b.BigNumber.from(t);i.signed&&(o=o.fromTwos(i.width));var a=o.toTwos((i.signed?0:1)+i.width).toHexString(),s=l(o,i.decimals);return new e(n,a,s,i)},e.from=function(t,n){if("string"==typeof t)return e.fromString(t,n);if(h.isBytes(t))return e.fromBytes(t,n);try{return e.fromValue(t,0,n)}catch(i){if(i.code!==f.Logger.errors.INVALID_ARGUMENT)throw i}return r.throwArgumentError("invalid FixedNumber value","value",t)},e.isFixedNumber=function(e){return!(!e||!e._isFixedNumber)},e}();t.FixedNumber=m}))),g=(o(m),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BigNumber=b.BigNumber,t.formatFixed=m.formatFixed,t.FixedFormat=m.FixedFormat,t.FixedNumber=m.FixedNumber,t.parseFixed=m.parseFixed}))),y=(o(g),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="properties/5.0.3"}))),v=(o(y),a((function(e,t){var n=r&&r.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=r&&r.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=new f.Logger(y.version);function a(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}t.defineReadOnly=a,t.getStatic=function(e,t){for(var r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null},t.resolveProperties=function(e){return n(this,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:return t=Object.keys(e).map((function(t){return Promise.resolve(e[t]).then((function(e){return{key:t,value:e}}))})),[4,Promise.all(t)];case 1:return[2,r.sent().reduce((function(e,t){return e[t.key]=t.value,e}),{})]}}))}))},t.checkProperties=function(e,t){e&&"object"==typeof e||o.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((function(r){t[r]||o.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)}))},t.shallowCopy=function(e){var t={};for(var r in e)t[r]=e[r];return t};var s={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function c(e){return function(e){if(function e(t){if(null==t||s[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;for(var r=Object.keys(t),n=0;n<r.length;n++)if(!e(t[r[n]]))return!1;return!0}return o.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}(e))return e;if(Array.isArray(e))return Object.freeze(e.map((function(e){return c(e)})));if("object"==typeof e){var t={};for(var r in e){var n=e[r];void 0!==n&&a(t,r,c(n))}return t}return o.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}(e)}t.deepCopy=c,t.Description=function(e){for(var t in e)this[t]=c(e[t])}}))),w=(o(v),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="abi/5.0.3"}))),_=(o(w),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=new f.Logger(w.version),a={},s={calldata:!0,memory:!0,storage:!0},c={calldata:!0,memory:!0};function l(e,t){if("bytes"===e||"string"===e){if(s[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&c[t])return!0;return(s[t]||"payable"===t)&&o.throwArgumentError("invalid modifier","name",t),!1}function u(e,t){for(var r in t)v.defineReadOnly(e,r,t[r])}t.FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"});var d=new RegExp(/^(.*)\[([0-9]*)\]$/),h=function(){function e(t,r){t!==a&&o.throwError("use fromString",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),u(this,r);var n=this.type.match(d);u(this,n?{arrayLength:parseInt(n[2]||"-1"),arrayChildren:e.fromObject({type:n[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}return e.prototype.format=function(e){if(e||(e=t.FormatTypes.sighash),t.FormatTypes[e]||o.throwArgumentError("invalid format type","format",e),e===t.FormatTypes.json){var r={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.components&&(r.components=this.components.map((function(t){return JSON.parse(t.format(e))}))),JSON.stringify(r)}var n="";return"array"===this.baseType?(n+=this.arrayChildren.format(e),n+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==t.FormatTypes.sighash&&(n+=this.type),n+="("+this.components.map((function(t){return t.format(e)})).join(e===t.FormatTypes.full?", ":",")+")"):n+=this.type,e!==t.FormatTypes.sighash&&(!0===this.indexed&&(n+=" indexed"),e===t.FormatTypes.full&&this.name&&(n+=" "+this.name)),n},e.from=function(t,r){return"string"==typeof t?e.fromString(t,r):e.fromObject(t)},e.fromObject=function(t){return e.isParamType(t)?t:new e(a,{name:t.name||null,type:C(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(e.fromObject):null})},e.fromString=function(t,r){return function(t){return e.fromObject({name:t.name,type:t.type,indexed:t.indexed,components:t.components})}(function(e,t){var r=e;function n(t){o.throwArgumentError("unexpected character at position "+t,"param",e)}function i(e){var r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");for(var a={type:"",name:"",state:{allowType:!0}},s=a,c=0;c<e.length;c++){var u=e[c];switch(u){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(c),s.state.allowType=!1,s.type=C(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(t||n(c),s.indexed=!0,s.name=""),l(s.type,s.name)&&(s.name=""),s.type=C(s.type);var f=s;(s=s.parent)||n(c),delete f.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(t||n(c),s.indexed=!0,s.name=""),l(s.type,s.name)&&(s.name=""),s.type=C(s.type);var d=i(s.parent);s.parent.components.push(d),delete s.parent,s=d;break;case" ":s.state.allowType&&""!==s.type&&(s.type=C(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(t||n(c),s.indexed&&n(c),s.indexed=!0,s.name=""):l(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(c),s.type+=u,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(c),s.type+=u,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=u,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=u,delete s.state.allowArray):s.state.readArray?s.type+=u:n(c)}}return s.parent&&o.throwArgumentError("unexpected eof","param",e),delete a.state,"indexed"===s.name?(t||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):l(s.type,s.name)&&(s.name=""),a.type=C(a.type),a}(t,!!r))},e.isParamType=function(e){return!(null==e||!e._isParamType)},e}();function p(e,t){return function(e){e=e.trim();for(var t=[],r="",n=0,i=0;i<e.length;i++){var a=e[i];","===a&&0===n?(t.push(r),r=""):(r+=a,"("===a?n++:")"===a&&-1==--n&&o.throwArgumentError("unbalanced parenthesis","value",e))}return r&&t.push(r),t}(e).map((function(e){return h.fromString(e,t)}))}t.ParamType=h;var b=function(){function e(e,t){e!==a&&o.throwError("use a static from method",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),u(this,t),this._isFragment=!0,Object.freeze(this)}return e.from=function(t){return e.isFragment(t)?t:"string"==typeof t?e.fromString(t):e.fromObject(t)},e.fromObject=function(t){if(e.isFragment(t))return t;switch(t.type){case"function":return S.fromObject(t);case"event":return m.fromObject(t);case"constructor":return k.fromObject(t);case"fallback":case"receive":return null}return o.throwArgumentError("invalid fragment object","value",t)},e.fromString=function(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?m.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?S.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?k.fromString(e.trim()):o.throwArgumentError("unsupported fragment","value",e)},e.isFragment=function(e){return!(!e||!e._isFragment)},e}();t.Fragment=b;var m=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return i(r,e),r.prototype.format=function(e){if(e||(e=t.FormatTypes.sighash),t.FormatTypes[e]||o.throwArgumentError("invalid format type","format",e),e===t.FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});var r="";return e!==t.FormatTypes.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===t.FormatTypes.full?", ":",")+") ",e!==t.FormatTypes.sighash&&this.anonymous&&(r+="anonymous "),r.trim()},r.from=function(e){return"string"==typeof e?r.fromString(e):r.fromObject(e)},r.fromObject=function(e){if(r.isEventFragment(e))return e;"event"!==e.type&&o.throwArgumentError("invalid event object","value",e);var t={name:P(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(h.fromObject):[],type:"event"};return new r(a,t)},r.fromString=function(e){var t=e.match(x);t||o.throwArgumentError("invalid event string","value",e);var n=!1;return t[3].split(" ").forEach((function(e){switch(e.trim()){case"anonymous":n=!0;break;case"":break;default:o.warn("unknown modifier: "+e)}})),r.fromObject({name:t[1].trim(),anonymous:n,inputs:p(t[2],!0),type:"event"})},r.isEventFragment=function(e){return e&&e._isFragment&&"event"===e.type},r}(b);function y(e,t){t.gas=null;var r=e.split("@");return 1!==r.length?(r.length>2&&o.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||o.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=g.BigNumber.from(r[1]),r[0]):e}function _(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((function(e){switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function M(e){var t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&o.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&o.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||o.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.stateMutability=t.constant?"view":t.payable?"payable":"nonpayable",t.payable&&t.constant&&o.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&o.throwArgumentError("unable to determine stateMutability","value",e),t}t.EventFragment=m;var k=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return i(r,e),r.prototype.format=function(e){if(e||(e=t.FormatTypes.sighash),t.FormatTypes[e]||o.throwArgumentError("invalid format type","format",e),e===t.FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payble:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});e===t.FormatTypes.sighash&&o.throwError("cannot format a constructor for sighash",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});var r="constructor("+this.inputs.map((function(t){return t.format(e)})).join(e===t.FormatTypes.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(r+=this.stateMutability+" "),r.trim()},r.from=function(e){return"string"==typeof e?r.fromString(e):r.fromObject(e)},r.fromObject=function(e){if(r.isConstructorFragment(e))return e;"constructor"!==e.type&&o.throwArgumentError("invalid constructor object","value",e);var t=M(e);t.constant&&o.throwArgumentError("constructor cannot be constant","value",e);var n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(h.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?g.BigNumber.from(e.gas):null};return new r(a,n)},r.fromString=function(e){var t={type:"constructor"},n=(e=y(e,t)).match(x);return n&&"constructor"===n[1].trim()||o.throwArgumentError("invalid constructor string","value",e),t.inputs=p(n[2].trim(),!1),_(n[3].trim(),t),r.fromObject(t)},r.isConstructorFragment=function(e){return e&&e._isFragment&&"constructor"===e.type},r}(b);t.ConstructorFragment=k;var S=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return i(r,e),r.prototype.format=function(e){if(e||(e=t.FormatTypes.sighash),t.FormatTypes[e]||o.throwArgumentError("invalid format type","format",e),e===t.FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payble:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))})),ouputs:this.outputs.map((function(t){return JSON.parse(t.format(e))}))});var r="";return e!==t.FormatTypes.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===t.FormatTypes.full?", ":",")+") ",e!==t.FormatTypes.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map((function(t){return t.format(e)})).join(", ")+") "),null!=this.gas&&(r+="@"+this.gas.toString()+" ")),r.trim()},r.from=function(e){return"string"==typeof e?r.fromString(e):r.fromObject(e)},r.fromObject=function(e){if(r.isFunctionFragment(e))return e;"function"!==e.type&&o.throwArgumentError("invalid function object","value",e);var t=M(e),n={type:e.type,name:P(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(h.fromObject):[],outputs:e.outputs?e.outputs.map(h.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?g.BigNumber.from(e.gas):null};return new r(a,n)},r.fromString=function(e){var t={type:"function"},n=(e=y(e,t)).split(" returns ");n.length>2&&o.throwArgumentError("invalid function string","value",e);var i=n[0].match(x);if(i||o.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&P(t.name),t.inputs=p(i[2],!1),_(i[3].trim(),t),n.length>1){var a=n[1].match(x);""==a[1].trim()&&""==a[3].trim()||o.throwArgumentError("unexpected tokens","value",e),t.outputs=p(a[2],!1)}else t.outputs=[];return r.fromObject(t)},r.isFunctionFragment=function(e){return e&&e._isFragment&&"function"===e.type},r}(k);function C(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}t.FunctionFragment=S;var E=new RegExp("^[A-Za-z_][A-Za-z0-9_]*$");function P(e){return e&&e.match(E)||o.throwArgumentError('invalid identifier "'+e+'"',"value",e),e}var x=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$")}))),M=(o(_),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new f.Logger(w.version);t.checkResultErrors=function(e){var t=[],r=function(e,n){if(Array.isArray(n))for(var i in n){var o=e.slice();o.push(i);try{r(o,n[i])}catch(a){t.push({path:o,error:a})}}};return r([],e),t};var n=function(){function e(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}return e.prototype._throwError=function(e,t){r.throwArgumentError(e,this.localName,t)},e}();t.Coder=n;var i=function(){function e(e){v.defineReadOnly(this,"wordSize",e||32),this._data=h.arrayify([]),this._padding=new Uint8Array(e)}return Object.defineProperty(e.prototype,"data",{get:function(){return h.hexlify(this._data)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._data.length},enumerable:!0,configurable:!0}),e.prototype._writeData=function(e){return this._data=h.concat([this._data,e]),e.length},e.prototype.writeBytes=function(e){var t=h.arrayify(e);return t.length%this.wordSize&&(t=h.concat([t,this._padding.slice(t.length%this.wordSize)])),this._writeData(t)},e.prototype._getValue=function(e){var t=h.arrayify(g.BigNumber.from(e));return t.length>this.wordSize&&r.throwError("value out-of-bounds",f.Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=h.concat([this._padding.slice(t.length%this.wordSize),t])),t},e.prototype.writeValue=function(e){return this._writeData(this._getValue(e))},e.prototype.writeUpdatableValue=function(){var e=this,t=this.length;return this.writeValue(0),function(r){e._data.set(e._getValue(r),t)}},e}();t.Writer=i;var o=function(){function e(e,t,r){v.defineReadOnly(this,"_data",h.arrayify(e)),v.defineReadOnly(this,"wordSize",t||32),v.defineReadOnly(this,"_coerceFunc",r),this._offset=0}return Object.defineProperty(e.prototype,"data",{get:function(){return h.hexlify(this._data)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"consumed",{get:function(){return this._offset},enumerable:!0,configurable:!0}),e.coerce=function(e,t){var r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t},e.prototype.coerce=function(t,r){return this._coerceFunc?this._coerceFunc(t,r):e.coerce(t,r)},e.prototype._peekBytes=function(e,t){var n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&r.throwError("data out-of-bounds",f.Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n}),this._data.slice(this._offset,this._offset+n)},e.prototype.subReader=function(t){return new e(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc)},e.prototype.readBytes=function(e){var t=this._peekBytes(0,e);return this._offset+=t.length,t.slice(0,e)},e.prototype.readValue=function(){return g.BigNumber.from(this.readBytes(this.wordSize))},e}();t.Reader=o}))),k=(o(M),a((function(t){!function(){var n="object"==typeof window?window:{};!n.JS_SHA3_NO_NODE_JS&&"object"==typeof e&&e.versions&&e.versions.node&&(n=r);for(var i=!n.JS_SHA3_NO_COMMON_JS&&t.exports,o="0123456789abcdef".split(""),a=[0,8,16,24],s=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],c=[224,256,384,512],l=["hex","buffer","arrayBuffer","array"],u=function(e,t,r){return function(n){return new _(e,t,e).update(n)[r]()}},f=function(e,t,r){return function(n,i){return new _(e,t,i).update(n)[r]()}},d=function(e,t){var r=u(e,t,"hex");r.create=function(){return new _(e,t,e)},r.update=function(e){return r.create().update(e)};for(var n=0;n<l.length;++n){var i=l[n];r[i]=u(e,t,i)}return r},h=[{name:"keccak",padding:[1,256,65536,16777216],bits:c,createMethod:d},{name:"sha3",padding:[6,1536,393216,100663296],bits:c,createMethod:d},{name:"shake",padding:[31,7936,2031616,520093696],bits:[128,256],createMethod:function(e,t){var r=f(e,t,"hex");r.create=function(r){return new _(e,t,r)},r.update=function(e,t){return r.create(t).update(e)};for(var n=0;n<l.length;++n){var i=l[n];r[i]=f(e,t,i)}return r}}],p={},b=[],m=0;m<h.length;++m)for(var g=h[m],y=g.bits,v=0;v<y.length;++v){var w=g.name+"_"+y[v];b.push(w),p[w]=g.createMethod(y[v],g.padding)}function _(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}_.prototype.update=function(e){var t="string"!=typeof e;t&&e.constructor===ArrayBuffer&&(e=new Uint8Array(e));for(var r,n,i=e.length,o=this.blocks,s=this.byteCount,c=this.blockCount,l=0,u=this.s;l<i;){if(this.reset)for(this.reset=!1,o[0]=this.block,r=1;r<c+1;++r)o[r]=0;if(t)for(r=this.start;l<i&&r<s;++l)o[r>>2]|=e[l]<<a[3&r++];else for(r=this.start;l<i&&r<s;++l)(n=e.charCodeAt(l))<128?o[r>>2]|=n<<a[3&r++]:n<2048?(o[r>>2]|=(192|n>>6)<<a[3&r++],o[r>>2]|=(128|63&n)<<a[3&r++]):n<55296||n>=57344?(o[r>>2]|=(224|n>>12)<<a[3&r++],o[r>>2]|=(128|n>>6&63)<<a[3&r++],o[r>>2]|=(128|63&n)<<a[3&r++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++l)),o[r>>2]|=(240|n>>18)<<a[3&r++],o[r>>2]|=(128|n>>12&63)<<a[3&r++],o[r>>2]|=(128|n>>6&63)<<a[3&r++],o[r>>2]|=(128|63&n)<<a[3&r++]);if(this.lastByteIndex=r,r>=s){for(this.start=r-s,this.block=o[c],r=0;r<c;++r)u[r]^=o[r];M(u),this.reset=!0}else this.start=r}return this},_.prototype.finalize=function(){var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];M(n)},_.prototype.toString=_.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,a=0,s=0,c="";s<n;){for(a=0;a<t&&s<n;++a,++s)c+=o[(e=r[a])>>4&15]+o[15&e]+o[e>>12&15]+o[e>>8&15]+o[e>>20&15]+o[e>>16&15]+o[e>>28&15]+o[e>>24&15];s%t==0&&(M(r),a=0)}return i&&(e=r[a],i>0&&(c+=o[e>>4&15]+o[15&e]),i>1&&(c+=o[e>>12&15]+o[e>>8&15]),i>2&&(c+=o[e>>20&15]+o[e>>16&15])),c},_.prototype.buffer=_.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,a=0,s=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(s);for(var c=new Uint32Array(e);a<n;){for(o=0;o<t&&a<n;++o,++a)c[a]=r[o];a%t==0&&M(r)}return i&&(c[o]=r[o],e=e.slice(0,s)),e},_.prototype.digest=_.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,a=0,s=0,c=[];s<i;){for(a=0;a<r&&s<i;++a,++s)c[e=s<<2]=255&(t=n[a]),c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;s%r==0&&M(n)}return o&&(e=s<<2,t=n[a],o>0&&(c[e]=255&t),o>1&&(c[e+1]=t>>8&255),o>2&&(c[e+2]=t>>16&255)),c};var M=function(e){var t,r,n,i,o,a,c,l,u,f,d,h,p,b,m,g,y,v,w,_,M,k,S,C,E,P,x,O,A,T,R,I,N,B,D,j,L,F,z,U,K,H,q,G,V,W,Y,J,Z,X,$,Q,ee,te,re,ne,ie,oe,ae,se,ce,le,ue;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],l=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^((c=e[3]^e[13]^e[23]^e[33]^e[43])<<1|(a=e[2]^e[12]^e[22]^e[32]^e[42])>>>31),e[0]^=t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(a<<1|c>>>31),e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,r=o^(u<<1|l>>>31),e[2]^=t=i^(l<<1|u>>>31),e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,r=c^(d<<1|f>>>31),e[4]^=t=a^(f<<1|d>>>31),e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,r=u^(p<<1|h>>>31),e[6]^=t=l^(h<<1|p>>>31),e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,r=d^(o<<1|i>>>31),e[8]^=t=f^(i<<1|o>>>31),e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,m=e[1],W=e[11]<<4|e[10]>>>28,Y=e[10]<<4|e[11]>>>28,O=e[20]<<3|e[21]>>>29,A=e[21]<<3|e[20]>>>29,se=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,H=e[40]<<18|e[41]>>>14,q=e[41]<<18|e[40]>>>14,B=e[2]<<1|e[3]>>>31,D=e[3]<<1|e[2]>>>31,y=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,T=e[33]<<13|e[32]>>>19,R=e[32]<<13|e[33]>>>19,le=e[42]<<2|e[43]>>>30,ue=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,j=e[14]<<6|e[15]>>>26,L=e[15]<<6|e[14]>>>26,w=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,$=e[35]<<15|e[34]>>>17,I=e[45]<<29|e[44]>>>3,N=e[44]<<29|e[45]>>>3,C=e[6]<<28|e[7]>>>4,E=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,F=e[26]<<25|e[27]>>>7,z=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,M=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,G=e[8]<<27|e[9]>>>5,V=e[9]<<27|e[8]>>>5,P=e[18]<<20|e[19]>>>12,x=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,ae=e[28]<<7|e[29]>>>25,U=e[38]<<8|e[39]>>>24,K=e[39]<<8|e[38]>>>24,k=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=(b=e[0])^~(g=e[13]<<12|e[12]>>>20)&(v=e[25]<<11|e[24]>>>21),e[1]=m^~y&w,e[10]=C^~P&O,e[11]=E^~x&A,e[20]=B^~j&F,e[21]=D^~L&z,e[30]=G^~W&J,e[31]=V^~Y&Z,e[40]=te^~ne&oe,e[41]=re^~ie&ae,e[2]=g^~v&_,e[3]=y^~w&M,e[12]=P^~O&T,e[13]=x^~A&R,e[22]=j^~F&U,e[23]=L^~z&K,e[32]=W^~J&X,e[33]=Y^~Z&$,e[42]=ne^~oe&se,e[43]=ie^~ae&ce,e[4]=v^~_&k,e[5]=w^~M&S,e[14]=O^~T&I,e[15]=A^~R&N,e[24]=F^~U&H,e[25]=z^~K&q,e[34]=J^~X&Q,e[35]=Z^~$&ee,e[44]=oe^~se&le,e[45]=ae^~ce&ue,e[6]=_^~k&b,e[7]=M^~S&m,e[16]=T^~I&C,e[17]=R^~N&E,e[26]=U^~H&B,e[27]=K^~q&D,e[36]=X^~Q&G,e[37]=$^~ee&V,e[46]=se^~le&te,e[47]=ce^~ue&re,e[8]=k^~b&g,e[9]=S^~m&y,e[18]=I^~C&P,e[19]=N^~E&x,e[28]=H^~B&j,e[29]=q^~D&L,e[38]=Q^~G&W,e[39]=ee^~V&Y,e[48]=le^~te&ne,e[49]=ue^~re&ie,e[0]^=s[n],e[1]^=s[n+1]};if(i)t.exports=p;else for(m=0;m<b.length;++m)n[b[m]]=p[b[m]]}()}))),S=a((function(e,t){var n=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(k);t.keccak256=function(e){return"0x"+i.default.keccak_256(h.arrayify(e))}})),C=(o(S),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="rlp/5.0.3"}))),E=(o(C),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new f.Logger(C.version);function n(e){for(var t=[];e;)t.unshift(255&e),e>>=8;return t}function i(e,t,r){for(var n=0,i=0;i<r;i++)n=256*n+e[t+i];return n}function o(e,t,n,i){for(var o=[];n<t+1+i;){var s=a(e,n);o.push(s.result),(n+=s.consumed)>t+1+i&&r.throwError("child data too short",f.Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+i,result:o}}function a(e,t){if(0===e.length&&r.throwError("data too short",f.Logger.errors.BUFFER_OVERRUN,{}),e[t]>=248){t+1+(s=e[t]-247)>e.length&&r.throwError("data short segment too short",f.Logger.errors.BUFFER_OVERRUN,{});var n=i(e,t+1,s);return t+1+s+n>e.length&&r.throwError("data long segment too short",f.Logger.errors.BUFFER_OVERRUN,{}),o(e,t,t+1+s,s+n)}if(e[t]>=192){var a=e[t]-192;return t+1+a>e.length&&r.throwError("data array too short",f.Logger.errors.BUFFER_OVERRUN,{}),o(e,t,t+1,a)}if(e[t]>=184){var s;t+1+(s=e[t]-183)>e.length&&r.throwError("data array too short",f.Logger.errors.BUFFER_OVERRUN,{});var c=i(e,t+1,s);return t+1+s+c>e.length&&r.throwError("data array too short",f.Logger.errors.BUFFER_OVERRUN,{}),{consumed:1+s+c,result:h.hexlify(e.slice(t+1+s,t+1+s+c))}}if(e[t]>=128){var l=e[t]-128;return t+1+l>e.length&&r.throwError("data too short",f.Logger.errors.BUFFER_OVERRUN,{}),{consumed:1+l,result:h.hexlify(e.slice(t+1,t+1+l))}}return{consumed:1,result:h.hexlify(e[t])}}t.encode=function(e){return h.hexlify(function e(t){if(Array.isArray(t)){var i=[];if(t.forEach((function(t){i=i.concat(e(t))})),i.length<=55)return i.unshift(192+i.length),i;var o=n(i.length);return o.unshift(247+o.length),o.concat(i)}h.isBytesLike(t)||r.throwArgumentError("RLP object must be BytesLike","object",t);var a=Array.prototype.slice.call(h.arrayify(t));if(1===a.length&&a[0]<=127)return a;if(a.length<=55)return a.unshift(128+a.length),a;var s=n(a.length);return s.unshift(183+s.length),s.concat(a)}(e))},t.decode=function(e){var t=h.arrayify(e),n=a(t,0);return n.consumed!==t.length&&r.throwArgumentError("invalid rlp data","data",e),n.result}}))),P=(o(E),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="address/5.0.3"}))),x=(o(P),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new f.Logger(P.version);function n(e){h.isHexString(e,20)||r.throwArgumentError("invalid address","address",e);for(var t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40),i=0;i<40;i++)n[i]=t[i].charCodeAt(0);var o=h.arrayify(S.keccak256(n));for(i=0;i<40;i+=2)o[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&o[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}for(var i={},o=0;o<10;o++)i[String(o)]=String(o);for(o=0;o<26;o++)i[String.fromCharCode(65+o)]=String(10+o);var a,s=Math.floor((a=9007199254740991,Math.log10?Math.log10(a):Math.log(a)/Math.LN10));function c(e){for(var t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((function(e){return i[e]})).join("");t.length>=s;){var r=t.substring(0,s);t=parseInt(r,10)%97+t.substring(r.length)}for(var n=String(98-parseInt(t,10)%97);n.length<2;)n="0"+n;return n}function u(e){var t=null;if("string"!=typeof e&&r.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=n(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&r.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==c(e)&&r.throwArgumentError("bad icap checksum","address",e),t=new l.BN(e.substring(4),36).toString(16);t.length<40;)t="0"+t;t=n("0x"+t)}else r.throwArgumentError("invalid address","address",e);return t}t.getAddress=u,t.isAddress=function(e){try{return u(e),!0}catch(t){}return!1},t.getIcapAddress=function(e){for(var t=new l.BN(u(e).substring(2),16).toString(36).toUpperCase();t.length<30;)t="0"+t;return"XE"+c("XE00"+t)+t},t.getContractAddress=function(e){var t=null;try{t=u(e.from)}catch(i){r.throwArgumentError("missing from address","transaction",e)}var n=h.stripZeros(h.arrayify(g.BigNumber.from(e.nonce).toHexString()));return u(h.hexDataSlice(S.keccak256(E.encode([t,n])),12))},t.getCreate2Address=function(e,t,n){return 32!==h.hexDataLength(t)&&r.throwArgumentError("salt must be 32 bytes","salt",t),32!==h.hexDataLength(n)&&r.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",n),u(h.hexDataSlice(S.keccak256(h.concat(["0xff",u(e),t,n])),12))}}))),O=(o(x),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,"address","address",t,!1)||this}return i(t,e),t.prototype.encode=function(e,t){try{x.getAddress(t)}catch(r){this._throwError(r.message,t)}return e.writeValue(t)},t.prototype.decode=function(e){return x.getAddress(h.hexZeroPad(e.readValue().toHexString(),20))},t}(M.Coder);t.AddressCoder=o}))),A=(o(O),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var r=e.call(this,t.name,t.type,void 0,t.dynamic)||this;return r.coder=t,r}return i(t,e),t.prototype.encode=function(e,t){return this.coder.encode(e,t)},t.prototype.decode=function(e){return this.coder.decode(e)},t}(M.Coder);t.AnonymousCoder=o}))),T=(o(A),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=new f.Logger(w.version);function a(e,t,r){var n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){var i={};n=t.map((function(e){var t=e.localName;return t||o.throwError("cannot encode object for signature with missing names",f.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),i[t]&&o.throwError("cannot encode object for signature with duplicate names",f.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),i[t]=!0,r[t]}))}else o.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&o.throwArgumentError("types/value length mismatch","tuple",r);var a=new M.Writer(e.wordSize),s=new M.Writer(e.wordSize),c=[];return t.forEach((function(e,t){var r=n[t];if(e.dynamic){var i=s.length;e.encode(s,r);var o=a.writeUpdatableValue();c.push((function(e){o(e+i)}))}else e.encode(a,r)})),c.forEach((function(e){e(a.length)})),e.writeBytes(a.data)+e.writeBytes(s.data)}function s(e,t){var r=[],n=e.subReader(0),i=0;t.forEach((function(t){var o=null;if(t.dynamic){var a=e.readValue(),s=n.subReader(a.toNumber());try{o=t.decode(s)}catch(c){if(c.code===f.Logger.errors.BUFFER_OVERRUN)throw c;(o=c).baseType=t.name,o.name=t.localName,o.type=t.type}i+=s.consumed}else try{o=t.decode(e)}catch(c){if(c.code===f.Logger.errors.BUFFER_OVERRUN)throw c;(o=c).baseType=t.name,o.name=t.localName,o.type=t.type}null!=o&&r.push(o)})),e.readBytes(i);var o=t.reduce((function(e,t){var r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});t.forEach((function(e,t){var n=e.localName;if(n&&1===o[n]&&("length"===n&&(n="_length"),null==r[n])){var i=r[t];i instanceof Error?Object.defineProperty(r,n,{get:function(){throw i}}):r[n]=i}}));for(var a=function(e){var t=r[e];t instanceof Error&&Object.defineProperty(r,e,{get:function(){throw t}})},s=0;s<r.length;s++)a(s);return Object.freeze(r)}t.pack=a,t.unpack=s;var c=function(e){function t(t,r,n){var i=this;return(i=e.call(this,"array",t.type+"["+(r>=0?r:"")+"]",n,-1===r||t.dynamic)||this).coder=t,i.length=r,i}return i(t,e),t.prototype.encode=function(e,t){Array.isArray(t)||this._throwError("expected array value",t);var r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),o.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));for(var n=[],i=0;i<t.length;i++)n.push(this.coder);return a(e,n,t)},t.prototype.decode=function(e){var t=this.length;-1===t&&(t=e.readValue().toNumber());for(var r=[],n=0;n<t;n++)r.push(new A.AnonymousCoder(this.coder));return e.coerce(this.name,s(e,r))},t}(M.Coder);t.ArrayCoder=c}))),R=(o(T),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,"bool","bool",t,!1)||this}return i(t,e),t.prototype.encode=function(e,t){return e.writeValue(t?1:0)},t.prototype.decode=function(e){return e.coerce(this.type,!e.readValue().isZero())},t}(M.Coder);t.BooleanCoder=o}))),I=(o(R),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){return e.call(this,t,t,r,!0)||this}return i(t,e),t.prototype.encode=function(e,t){return t=h.arrayify(t),e.writeValue(t.length)+e.writeBytes(t)},t.prototype.decode=function(e){return e.readBytes(e.readValue().toNumber())},t}(M.Coder);t.DynamicBytesCoder=o;var a=function(e){function t(t){return e.call(this,"bytes",t)||this}return i(t,e),t.prototype.decode=function(t){return t.coerce(this.name,h.hexlify(e.prototype.decode.call(this,t)))},t}(o);t.BytesCoder=a}))),N=(o(I),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){var n=this,i="bytes"+String(t);return(n=e.call(this,i,i,r,!1)||this).size=t,n}return i(t,e),t.prototype.encode=function(e,t){var r=h.arrayify(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)},t.prototype.decode=function(e){return e.coerce(this.name,h.hexlify(e.readBytes(this.size)))},t}(M.Coder);t.FixedBytesCoder=o}))),B=(o(N),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,"null","",t,!1)||this}return i(t,e),t.prototype.encode=function(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])},t.prototype.decode=function(e){return e.readBytes(0),e.coerce(this.name,null)},t}(M.Coder);t.NullCoder=o}))),D=(o(B),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AddressZero="0x0000000000000000000000000000000000000000",t.HashZero="0x0000000000000000000000000000000000000000000000000000000000000000",t.EtherSymbol="\u039e";var r=g.BigNumber.from(-1);t.NegativeOne=r;var n=g.BigNumber.from(0);t.Zero=n;var i=g.BigNumber.from(1);t.One=i;var o=g.BigNumber.from(2);t.Two=o;var a=g.BigNumber.from("1000000000000000000");t.WeiPerEther=a;var s=g.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");t.MaxUint256=s}))),j=(o(D),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r,n){var i=this,o=(r?"int":"uint")+8*t;return(i=e.call(this,o,o,n,!1)||this).size=t,i.signed=r,i}return i(t,e),t.prototype.encode=function(e,t){var r=g.BigNumber.from(t),n=D.MaxUint256.mask(8*e.wordSize);if(this.signed){var i=n.mask(8*this.size-1);(r.gt(i)||r.lt(i.add(D.One).mul(D.NegativeOne)))&&this._throwError("value out-of-bounds",t)}else(r.lt(D.Zero)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)},t.prototype.decode=function(e){var t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)},t}(M.Coder);t.NumberCoder=o}))),L=(o(j),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="strings/5.0.3"}))),F=(o(L),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r,n,i=new f.Logger(L.version);function o(e,t,r,i,o){if(e===n.BAD_PREFIX||e===n.UNEXPECTED_CONTINUE){for(var a=0,s=t+1;s<r.length&&r[s]>>6==2;s++)a++;return a}return e===n.OVERRUN?r.length-t-1:0}function a(e,r){null==r&&(r=t.Utf8ErrorFuncs.error),e=h.arrayify(e);for(var i=[],o=0;o<e.length;){var a=e[o++];if(a>>7!=0){var s=null,c=null;if(192==(224&a))s=1,c=127;else if(224==(240&a))s=2,c=2047;else{if(240!=(248&a)){o+=r(128==(192&a)?n.UNEXPECTED_CONTINUE:n.BAD_PREFIX,o-1,e,i);continue}s=3,c=65535}if(o-1+s>=e.length)o+=r(n.OVERRUN,o-1,e,i);else{for(var l=a&(1<<8-s-1)-1,u=0;u<s;u++){var f=e[o];if(128!=(192&f)){o+=r(n.MISSING_CONTINUE,o,e,i),l=null;break}l=l<<6|63&f,o++}null!==l&&(l>1114111?o+=r(n.OUT_OF_RANGE,o-1-s,e,i,l):l>=55296&&l<=57343?o+=r(n.UTF16_SURROGATE,o-1-s,e,i,l):l<=c?o+=r(n.OVERLONG,o-1-s,e,i,l):i.push(l))}}else i.push(a)}return i}function s(e,t){void 0===t&&(t=r.current),t!=r.current&&(i.checkNormalize(),e=e.normalize(t));for(var n=[],o=0;o<e.length;o++){var a=e.charCodeAt(o);if(a<128)n.push(a);else if(a<2048)n.push(a>>6|192),n.push(63&a|128);else if(55296==(64512&a)){o++;var s=e.charCodeAt(o);if(o>=e.length||56320!=(64512&s))throw new Error("invalid utf-8 string");var c=65536+((1023&a)<<10)+(1023&s);n.push(c>>18|240),n.push(c>>12&63|128),n.push(c>>6&63|128),n.push(63&c|128)}else n.push(a>>12|224),n.push(a>>6&63|128),n.push(63&a|128)}return h.arrayify(n)}function c(e){var t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function l(e){return e.map((function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))})).join("")}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(r=t.UnicodeNormalizationForm||(t.UnicodeNormalizationForm={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(n=t.Utf8ErrorReason||(t.Utf8ErrorReason={})),t.Utf8ErrorFuncs=Object.freeze({error:function(e,t,r,n,o){return i.throwArgumentError("invalid codepoint at offset "+t+"; "+e,"bytes",r)},ignore:o,replace:function(e,t,r,i,a){return e===n.OVERLONG?(i.push(a),0):(i.push(65533),o(e,t,r))}}),t.toUtf8Bytes=s,t._toEscapedUtf8String=function(e,t){return'"'+a(e,t).map((function(e){if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?c(e):c(55296+((e-=65536)>>10&1023))+c(56320+(1023&e))})).join("")+'"'},t._toUtf8String=l,t.toUtf8String=function(e,t){return l(a(e,t))},t.toUtf8CodePoints=function(e,t){return void 0===t&&(t=r.current),a(s(e,t))}}))),z=(o(F),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes32String=function(e){var t=F.toUtf8Bytes(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return h.hexlify(h.concat([t,D.HashZero]).slice(0,32))},t.parseBytes32String=function(e){var t=h.arrayify(e);if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 string - no null terminator");for(var r=31;0===t[r-1];)r--;return F.toUtf8String(t.slice(0,r))}}))),U=(o(z),a((function(e,t){function r(e,t){t||(t=function(e){return[parseInt(e,16)]});var r=0,n={};return e.split(",").forEach((function(e){var i=e.split(":");r+=parseInt(i[0],16),n[r]=t(i[1])})),n}function n(e){var t=0;return e.split(",").map((function(e){var r=e.split("-");return 1===r.length?r[1]="0":""===r[1]&&(r[1]="1"),{l:t+parseInt(r[0],16),h:t=parseInt(r[1],16)}}))}function i(e,t){for(var r=0,n=0;n<t.length;n++){var i=t[n];if(e>=(r+=i.l)&&e<=r+i.h&&(e-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(e-r))continue;return i}}return null}Object.defineProperty(t,"__esModule",{value:!0});var o=n("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),a="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((function(e){return parseInt(e,16)})),s=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],c=r("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),l=r("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),u=r("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(e){if(e.length%4!=0)throw new Error("bad data");for(var t=[],r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t})),f=n("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function d(e){return!!i(e,o)}function h(e){var t=i(e,s);if(t)return[e+t.s];var r=c[e];if(r)return r;var n=l[e];return n?[e+n[0]]:u[e]||null}function p(e){return!!i(e,f)}t._nameprepTableA1=d,t._nameprepTableB2=h,t._nameprepTableC=p,t.nameprep=function(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();var t,r=F.toUtf8CodePoints(e);t=r.map((function(e){return a.indexOf(e)>=0||e>=65024&&e<=65039?[]:h(e)||[e]})),r=t.reduce((function(e,t){return t.forEach((function(t){e.push(t)})),e}),[]),(r=F.toUtf8CodePoints(F._toUtf8String(r),F.UnicodeNormalizationForm.NFKC)).forEach((function(e){if(p(e))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),r.forEach((function(e){if(d(e))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));var n=F._toUtf8String(r);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");if(n.length>63)throw new Error("too long");return n}}))),K=(o(U),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes32String=z.formatBytes32String,t.parseBytes32String=z.parseBytes32String,t.nameprep=U.nameprep,t._toEscapedUtf8String=F._toEscapedUtf8String,t.toUtf8Bytes=F.toUtf8Bytes,t.toUtf8CodePoints=F.toUtf8CodePoints,t.toUtf8String=F.toUtf8String,t.UnicodeNormalizationForm=F.UnicodeNormalizationForm,t.Utf8ErrorFuncs=F.Utf8ErrorFuncs,t.Utf8ErrorReason=F.Utf8ErrorReason}))),H=(o(K),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,"string",t)||this}return i(t,e),t.prototype.encode=function(t,r){return e.prototype.encode.call(this,t,K.toUtf8Bytes(r))},t.prototype.decode=function(t){return K.toUtf8String(e.prototype.decode.call(this,t))},t}(I.DynamicBytesCoder);t.StringCoder=o}))),q=(o(H),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){var n=this,i=!1,o=[];t.forEach((function(e){e.dynamic&&(i=!0),o.push(e.type)}));var a="tuple("+o.join(",")+")";return(n=e.call(this,"tuple",a,r,i)||this).coders=t,n}return i(t,e),t.prototype.encode=function(e,t){return T.pack(e,this.coders,t)},t.prototype.decode=function(e){return e.coerce(this.name,T.unpack(e,this.coders))},t}(M.Coder);t.TupleCoder=o}))),G=(o(q),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new f.Logger(w.version),n=new RegExp(/^bytes([0-9]*)$/),i=new RegExp(/^(u?int)([0-9]*)$/),o=function(){function e(t){r.checkNew(this.constructor,e),v.defineReadOnly(this,"coerceFunc",t||null)}return e.prototype._getCoder=function(e){var t=this;switch(e.baseType){case"address":return new O.AddressCoder(e.name);case"bool":return new R.BooleanCoder(e.name);case"string":return new H.StringCoder(e.name);case"bytes":return new I.BytesCoder(e.name);case"array":return new T.ArrayCoder(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new q.TupleCoder((e.components||[]).map((function(e){return t._getCoder(e)})),e.name);case"":return new B.NullCoder(e.name)}var o,a=e.type.match(i);return a?((0===(o=parseInt(a[2]||"256"))||o>256||o%8!=0)&&r.throwArgumentError("invalid "+a[1]+" bit length","param",e),new j.NumberCoder(o/8,"int"===a[1],e.name)):(a=e.type.match(n))?((0===(o=parseInt(a[1]))||o>32)&&r.throwArgumentError("invalid bytes length","param",e),new N.FixedBytesCoder(o,e.name)):r.throwArgumentError("invalid type","type",e.type)},e.prototype._getWordSize=function(){return 32},e.prototype._getReader=function(e){return new M.Reader(e,this._getWordSize(),this.coerceFunc)},e.prototype._getWriter=function(){return new M.Writer(this._getWordSize())},e.prototype.encode=function(e,t){var n=this;e.length!==t.length&&r.throwError("types/values length mismatch",f.Logger.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});var i=e.map((function(e){return n._getCoder(_.ParamType.from(e))})),o=new q.TupleCoder(i,"_"),a=this._getWriter();return o.encode(a,t),a.data},e.prototype.decode=function(e,t){var r=this,n=e.map((function(e){return r._getCoder(_.ParamType.from(e))}));return new q.TupleCoder(n,"_").decode(this._getReader(h.arrayify(t)))},e}();t.AbiCoder=o,t.defaultAbiCoder=new o}))),V=(o(G),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="hash/5.0.3"}))),W=(o(V),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new f.Logger(V.version),n=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),i=new RegExp("^((.*)\\.)?([^.]+)$");t.isValidName=function(e){try{for(var t=e.split("."),r=0;r<t.length;r++)if(0===K.nameprep(t[r]).length)throw new Error("empty");return!0}catch(n){}return!1},t.namehash=function(e){"string"!=typeof e&&r.throwArgumentError("invalid address - "+String(e),"name",e);for(var t=n;e.length;){var o=e.match(i),a=K.toUtf8Bytes(K.nameprep(o[3]));t=S.keccak256(h.concat([t,S.keccak256(a)])),e=o[2]||""}return h.hexlify(t)},t.id=function(e){return S.keccak256(K.toUtf8Bytes(e))},t.messagePrefix="\x19Ethereum Signed Message:\n",t.hashMessage=function(e){return"string"==typeof e&&(e=K.toUtf8Bytes(e)),S.keccak256(h.concat([K.toUtf8Bytes(t.messagePrefix),K.toUtf8Bytes(String(e.length)),e]))}}))),Y=(o(W),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.checkResultErrors=M.checkResultErrors;var o=new f.Logger(w.version),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(v.Description);t.LogDescription=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(v.Description);t.TransactionDescription=s;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.isIndexed=function(e){return!(!e||!e._isIndexed)},t}(v.Description);function l(e,t){var r=new Error("deferred error during ABI decoding triggered accessing "+e);return r.error=t,r}t.Indexed=c;var u=function(){function e(t){var r=this.constructor,n=this;o.checkNew(r,e);var i=[];i="string"==typeof t?JSON.parse(t):t,v.defineReadOnly(this,"fragments",i.map((function(e){return _.Fragment.from(e)})).filter((function(e){return null!=e}))),v.defineReadOnly(this,"_abiCoder",v.getStatic(r,"getAbiCoder")()),v.defineReadOnly(this,"functions",{}),v.defineReadOnly(this,"errors",{}),v.defineReadOnly(this,"events",{}),v.defineReadOnly(this,"structs",{}),this.fragments.forEach((function(e){var t=null;switch(e.type){case"constructor":return n.deploy?void o.warn("duplicate definition - constructor"):void v.defineReadOnly(n,"deploy",e);case"function":t=n.functions;break;case"event":t=n.events;break;default:return}var r=e.format();t[r]?o.warn("duplicate definition - "+r):t[r]=e})),this.deploy||v.defineReadOnly(this,"deploy",_.ConstructorFragment.from({payable:!1,type:"constructor"})),v.defineReadOnly(this,"_isInterface",!0)}return e.prototype.format=function(e){e||(e=_.FormatTypes.full),e===_.FormatTypes.sighash&&o.throwArgumentError("interface does not support formatting sighash","format",e);var t=this.fragments.map((function(t){return t.format(e)}));return e===_.FormatTypes.json?JSON.stringify(t.map((function(e){return JSON.parse(e)}))):t},e.getAbiCoder=function(){return G.defaultAbiCoder},e.getAddress=function(e){return x.getAddress(e)},e.getSighash=function(e){return h.hexDataSlice(W.id(e.format()),0,4)},e.getEventTopic=function(e){return W.id(e.format())},e.prototype.getFunction=function(e){if(h.isHexString(e)){for(var t in this.functions)if(e===this.getSighash(t))return this.functions[t];o.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){var r=e.trim(),n=Object.keys(this.functions).filter((function(e){return e.split("(")[0]===r}));return 0===n.length?o.throwArgumentError("no matching function","name",r):n.length>1&&o.throwArgumentError("multiple matching functions","name",r),this.functions[n[0]]}var i=this.functions[_.FunctionFragment.fromString(e).format()];return i||o.throwArgumentError("no matching function","signature",e),i},e.prototype.getEvent=function(e){if(h.isHexString(e)){var t=e.toLowerCase();for(var r in this.events)if(t===this.getEventTopic(r))return this.events[r];o.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){var n=e.trim(),i=Object.keys(this.events).filter((function(e){return e.split("(")[0]===n}));return 0===i.length?o.throwArgumentError("no matching event","name",n):i.length>1&&o.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}var a=this.events[_.EventFragment.fromString(e).format()];return a||o.throwArgumentError("no matching event","signature",e),a},e.prototype.getSighash=function(e){return"string"==typeof e&&(e=this.getFunction(e)),v.getStatic(this.constructor,"getSighash")(e)},e.prototype.getEventTopic=function(e){return"string"==typeof e&&(e=this.getEvent(e)),v.getStatic(this.constructor,"getEventTopic")(e)},e.prototype._decodeParams=function(e,t){return this._abiCoder.decode(e,t)},e.prototype._encodeParams=function(e,t){return this._abiCoder.encode(e,t)},e.prototype.encodeDeploy=function(e){return this._encodeParams(this.deploy.inputs,e||[])},e.prototype.decodeFunctionData=function(e,t){"string"==typeof e&&(e=this.getFunction(e));var r=h.arrayify(t);return h.hexlify(r.slice(0,4))!==this.getSighash(e)&&o.throwArgumentError("data signature does not match function "+e.name+".","data",h.hexlify(r)),this._decodeParams(e.inputs,r.slice(4))},e.prototype.encodeFunctionData=function(e,t){return"string"==typeof e&&(e=this.getFunction(e)),h.hexlify(h.concat([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))},e.prototype.decodeFunctionResult=function(e,t){"string"==typeof e&&(e=this.getFunction(e));var r=h.arrayify(t),n=null,i=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(a){}break;case 4:"0x08c379a0"===h.hexlify(r.slice(0,4))&&(i="Error(string)",n=this._abiCoder.decode(["string"],r.slice(4))[0])}return o.throwError("call revert exception",f.Logger.errors.CALL_EXCEPTION,{method:e.format(),errorSignature:i,errorArgs:[n],reason:n})},e.prototype.encodeFunctionResult=function(e,t){return"string"==typeof e&&(e=this.getFunction(e)),h.hexlify(this._abiCoder.encode(e.outputs,t||[]))},e.prototype.encodeFilterTopics=function(e,t){var r=this;"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&o.throwError("too many arguments for "+e.format(),f.Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});var n=[];e.anonymous||n.push(this.getEventTopic(e));var i=function(e,t){return"string"===e.type?W.id(t):"bytes"===e.type?S.keccak256(h.hexlify(t)):("address"===e.type&&r._abiCoder.encode(["address"],[t]),h.hexZeroPad(h.hexlify(t),32))};for(t.forEach((function(t,r){var a=e.inputs[r];a.indexed?null==t?n.push(null):"array"===a.baseType||"tuple"===a.baseType?o.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,t):Array.isArray(t)?n.push(t.map((function(e){return i(a,e)}))):n.push(i(a,t)):null!=t&&o.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n},e.prototype.encodeEventLog=function(e,t){var r=this;"string"==typeof e&&(e=this.getEvent(e));var n=[],i=[],a=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&o.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((function(e,o){var s=t[o];if(e.indexed)if("string"===e.type)n.push(W.id(s));else if("bytes"===e.type)n.push(S.keccak256(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(r._abiCoder.encode([e.type],[s]))}else i.push(e),a.push(s)})),{data:this._abiCoder.encode(i,a),topics:n}},e.prototype.decodeEventLog=function(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){var n=this.getEventTopic(e);h.isHexString(r[0],32)&&r[0].toLowerCase()===n||o.throwError("fragment/topic mismatch",f.Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:n,value:r[0]}),r=r.slice(1)}var i=[],a=[],s=[];e.inputs.forEach((function(e,t){e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(i.push(_.ParamType.fromObject({type:"bytes32",name:e.name})),s.push(!0)):(i.push(e),s.push(!1)):(a.push(e),s.push(!1))}));var u=null!=r?this._abiCoder.decode(i,h.concat(r)):null,d=this._abiCoder.decode(a,t),p=[],b=0,m=0;e.inputs.forEach((function(e,t){if(e.indexed)if(null==u)p[t]=new c({_isIndexed:!0,hash:null});else if(s[t])p[t]=new c({_isIndexed:!0,hash:u[m++]});else try{p[t]=u[m++]}catch(n){p[t]=n}else try{p[t]=d[b++]}catch(n){p[t]=n}if(e.name&&null==p[e.name]){var r=p[t];r instanceof Error?Object.defineProperty(p,e.name,{get:function(){throw l("property "+JSON.stringify(e.name),r)}}):p[e.name]=r}}));for(var g=function(e){var t=p[e];t instanceof Error&&Object.defineProperty(p,e,{get:function(){throw l("index "+e,t)}})},y=0;y<p.length;y++)g(y);return Object.freeze(p)},e.prototype.parseTransaction=function(e){var t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new s({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:g.BigNumber.from(e.value||"0")}):null},e.prototype.parseLog=function(e){var t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new a({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})},e.isInterface=function(e){return!(!e||!e._isInterface)},e}();t.Interface=u}))),J=(o(Y),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ConstructorFragment=_.ConstructorFragment,t.EventFragment=_.EventFragment,t.FormatTypes=_.FormatTypes,t.Fragment=_.Fragment,t.FunctionFragment=_.FunctionFragment,t.ParamType=_.ParamType,t.AbiCoder=G.AbiCoder,t.defaultAbiCoder=G.defaultAbiCoder,t.checkResultErrors=Y.checkResultErrors,t.Indexed=Y.Indexed,t.Interface=Y.Interface,t.LogDescription=Y.LogDescription,t.TransactionDescription=Y.TransactionDescription}))),Z=(o(J),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="abstract-provider/5.0.3"}))),X=(o(Z),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=new f.Logger(Z.version),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.isForkEvent=function(e){return!(!e||!e._isForkEvent)},t}(v.Description);t.ForkEvent=a;var s=function(e){function t(t,r){return h.isHexString(t,32)||o.throwArgumentError("invalid blockHash","blockHash",t),e.call(this,{_isForkEvent:!0,_isBlockForkEvent:!0,expiry:r||0,blockHash:t})||this}return i(t,e),t}(a);t.BlockForkEvent=s;var c=function(e){function t(t,r){return h.isHexString(t,32)||o.throwArgumentError("invalid transaction hash","hash",t),e.call(this,{_isForkEvent:!0,_isTransactionForkEvent:!0,expiry:r||0,hash:t})||this}return i(t,e),t}(a);t.TransactionForkEvent=c;var l=function(e){function t(t,r,n){return h.isHexString(t,32)||o.throwArgumentError("invalid transaction hash","beforeHash",t),h.isHexString(r,32)||o.throwArgumentError("invalid transaction hash","afterHash",r),e.call(this,{_isForkEvent:!0,_isTransactionOrderForkEvent:!0,expiry:n||0,beforeHash:t,afterHash:r})||this}return i(t,e),t}(a);t.TransactionOrderForkEvent=l;var u=function(){function e(){o.checkAbstract(this.constructor,e),v.defineReadOnly(this,"_isProvider",!0)}return e.prototype.addListener=function(e,t){return this.on(e,t)},e.prototype.removeListener=function(e,t){return this.off(e,t)},e.isProvider=function(e){return!(!e||!e._isProvider)},e}();t.Provider=u}))),$=(o(X),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="abstract-signer/5.0.3"}))),Q=(o($),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r&&r.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=r&&r.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=new f.Logger($.version),c=["chainId","data","from","gasLimit","gasPrice","nonce","to","value"],l=function(){function e(){s.checkAbstract(this.constructor,e),v.defineReadOnly(this,"_isSigner",!0)}return e.prototype.getBalance=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return this._checkProvider("getBalance"),[4,this.provider.getBalance(this.getAddress(),e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getTransactionCount=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return this._checkProvider("getTransactionCount"),[4,this.provider.getTransactionCount(this.getAddress(),e)];case 1:return[2,t.sent()]}}))}))},e.prototype.estimateGas=function(e){return o(this,void 0,void 0,(function(){var t;return a(this,(function(r){switch(r.label){case 0:return this._checkProvider("estimateGas"),[4,v.resolveProperties(this.checkTransaction(e))];case 1:return t=r.sent(),[4,this.provider.estimateGas(t)];case 2:return[2,r.sent()]}}))}))},e.prototype.call=function(e,t){return o(this,void 0,void 0,(function(){var r;return a(this,(function(n){switch(n.label){case 0:return this._checkProvider("call"),[4,v.resolveProperties(this.checkTransaction(e))];case 1:return r=n.sent(),[4,this.provider.call(r,t)];case 2:return[2,n.sent()]}}))}))},e.prototype.sendTransaction=function(e){var t=this;return this._checkProvider("sendTransaction"),this.populateTransaction(e).then((function(e){return t.signTransaction(e).then((function(e){return t.provider.sendTransaction(e)}))}))},e.prototype.getChainId=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return this._checkProvider("getChainId"),[4,this.provider.getNetwork()];case 1:return[2,e.sent().chainId]}}))}))},e.prototype.getGasPrice=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return this._checkProvider("getGasPrice"),[4,this.provider.getGasPrice()];case 1:return[2,e.sent()]}}))}))},e.prototype.resolveName=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return this._checkProvider("resolveName"),[4,this.provider.resolveName(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.checkTransaction=function(e){for(var t in e)-1===c.indexOf(t)&&s.throwArgumentError("invalid transaction key: "+t,"transaction",e);var r=v.shallowCopy(e);return r.from=null==r.from?this.getAddress():Promise.all([Promise.resolve(r.from),this.getAddress()]).then((function(t){return t[0]!==t[1]&&s.throwArgumentError("from address mismatch","transaction",e),t[0]})),r},e.prototype.populateTransaction=function(e){return o(this,void 0,void 0,(function(){var t,r=this;return a(this,(function(n){switch(n.label){case 0:return[4,v.resolveProperties(this.checkTransaction(e))];case 1:return null!=(t=n.sent()).to&&(t.to=Promise.resolve(t.to).then((function(e){return r.resolveName(e)}))),null==t.gasPrice&&(t.gasPrice=this.getGasPrice()),null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch((function(e){return s.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",f.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),t.chainId=null==t.chainId?this.getChainId():Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((function(t){return 0!==t[1]&&t[0]!==t[1]&&s.throwArgumentError("chainId address mismatch","transaction",e),t[0]})),[4,v.resolveProperties(t)];case 2:return[2,n.sent()]}}))}))},e.prototype._checkProvider=function(e){this.provider||s.throwError("missing provider",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})},e.isSigner=function(e){return!(!e||!e._isSigner)},e}();t.Signer=l;var u=function(e){function t(r,n){var i;return s.checkNew(this.constructor,t),i=e.call(this)||this,v.defineReadOnly(i,"address",r),v.defineReadOnly(i,"provider",n||null),i}return i(t,e),t.prototype.getAddress=function(){return Promise.resolve(this.address)},t.prototype._fail=function(e,t){return Promise.resolve().then((function(){s.throwError(e,f.Logger.errors.UNSUPPORTED_OPERATION,{operation:t})}))},t.prototype.signMessage=function(e){return this._fail("VoidSigner cannot sign messages","signMessage")},t.prototype.signTransaction=function(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")},t.prototype.connect=function(e){return new t(this.address,e)},t}(l);t.VoidSigner=u}))),ee=(o(Q),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="contracts/5.0.3"}))),te=(o(ee),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r&&r.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=r&&r.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=r&&r.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n};Object.defineProperty(t,"__esModule",{value:!0});var c=new f.Logger(ee.version),l={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0};function u(e,t){return o(this,void 0,void 0,(function(){var r;return a(this,(function(n){switch(n.label){case 0:return[4,t];case 1:r=n.sent();try{return[2,x.getAddress(r)]}catch(i){}return e||c.throwError("a provider or signer is needed to resolve ENS names",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"}),[4,e.resolveName(r)];case 2:return[2,n.sent()]}}))}))}function d(e,t,r){if(Array.isArray(r))return Promise.all(r.map((function(r,n){return d(e,Array.isArray(t)?t[n]:t[r.name],r)})));if("address"===r.type)return u(e,t);if("tuple"===r.type)return d(e,t,r.components);if("array"===r.baseType){if(!Array.isArray(t))throw new Error("invalid value for array");return Promise.all(t.map((function(t){return d(e,t,r.arrayChildren)})))}return Promise.resolve(t)}function p(e,t,r){return o(this,void 0,void 0,(function(){var n,i,s,l,h,p,b=this;return a(this,(function(m){switch(m.label){case 0:return n={},r.length===t.inputs.length+1&&"object"==typeof r[r.length-1]&&(n=v.shallowCopy(r.pop())),c.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?n.from=n.from?v.resolveProperties({override:u(e.signer,n.from),signer:e.signer.getAddress()}).then((function(e){return o(b,void 0,void 0,(function(){return a(this,(function(t){return x.getAddress(e.signer)!==e.override&&c.throwError("Contract with a Signer cannot override from",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),[2,e.override]}))}))})):e.signer.getAddress():n.from&&(n.from=u(e.provider,n.from)),[4,v.resolveProperties({args:d(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:v.resolveProperties(n)||{}})];case 1:return i=m.sent(),s={data:e.interface.encodeFunctionData(t,i.args),to:i.address},null!=(l=i.overrides).nonce&&(s.nonce=g.BigNumber.from(l.nonce).toNumber()),null!=l.gasLimit&&(s.gasLimit=g.BigNumber.from(l.gasLimit)),null!=l.gasPrice&&(s.gasPrice=g.BigNumber.from(l.gasPrice)),null!=l.from&&(s.from=l.from),null==s.gasLimit&&null!=t.gas&&(s.gasLimit=g.BigNumber.from(t.gas).add(21e3)),l.value&&((h=g.BigNumber.from(l.value)).isZero()||t.payable||c.throwError("non-payable method cannot override value",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=h),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,(p=Object.keys(n).filter((function(e){return null!=n[e]}))).length&&c.throwError("cannot override "+p.map((function(e){return JSON.stringify(e)})).join(","),f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:p}),[2,s]}}))}))}function b(e,t,r){var n=e.signer||e.provider;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return o(this,void 0,void 0,(function(){var o,s,c,l,u;return a(this,(function(a){switch(a.label){case 0:return o=void 0,i.length!==t.inputs.length+1||"object"!=typeof i[i.length-1]?[3,3]:null==(s=v.shallowCopy(i.pop())).blockTag?[3,2]:[4,s.blockTag];case 1:o=a.sent(),a.label=2;case 2:delete s.blockTag,i.push(s),a.label=3;case 3:return null==e.deployTransaction?[3,5]:[4,e._deployed(o)];case 4:a.sent(),a.label=5;case 5:return[4,p(e,t,i)];case 6:return c=a.sent(),[4,n.call(c,o)];case 7:l=a.sent();try{return u=e.interface.decodeFunctionResult(t,l),r&&1===t.outputs.length&&(u=u[0]),[2,u]}catch(d){throw d.code===f.Logger.errors.CALL_EXCEPTION&&(d.address=e.address,d.args=i,d.transaction=c),d}return[2]}}))}))}}function m(e,t,r){return t.constant?b(e,t,r):function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return o(this,void 0,void 0,(function(){var n,i,o;return a(this,(function(a){switch(a.label){case 0:return e.signer||c.throwError("sending a transaction requires a signer",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null==e.deployTransaction?[3,2]:[4,e._deployed()];case 1:a.sent(),a.label=2;case 2:return[4,p(e,t,r)];case 3:return n=a.sent(),[4,e.signer.sendTransaction(n)];case 4:return i=a.sent(),o=i.wait.bind(i),i.wait=function(t){return o(t).then((function(t){return t.events=t.logs.map((function(r){var n=v.deepCopy(r),i=null;try{i=e.interface.parseLog(r)}catch(o){}return i&&(n.args=i.args,n.decode=function(t,r){return e.interface.decodeEventLog(i.eventFragment,t,r)},n.event=i.name,n.eventSignature=i.signature),n.removeListener=function(){return e.provider},n.getBlock=function(){return e.provider.getBlock(t.blockHash)},n.getTransaction=function(){return e.provider.getTransaction(t.transactionHash)},n.getTransactionReceipt=function(){return Promise.resolve(t)},n})),t}))},[2,i]}}))}))}}(e,t)}function y(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((function(e){return Array.isArray(e)?e.join("|"):e})).join(":"):""):"*"}var w=function(){function e(e,t){v.defineReadOnly(this,"tag",e),v.defineReadOnly(this,"filter",t),this._listeners=[]}return e.prototype.addListener=function(e,t){this._listeners.push({listener:e,once:t})},e.prototype.removeListener=function(e){var t=!1;this._listeners=this._listeners.filter((function(r){return!(!t&&r.listener===e&&(t=!0,1))}))},e.prototype.removeAllListeners=function(){this._listeners=[]},e.prototype.listeners=function(){return this._listeners.map((function(e){return e.listener}))},e.prototype.listenerCount=function(){return this._listeners.length},e.prototype.run=function(e){var t=this,r=this.listenerCount();return this._listeners=this._listeners.filter((function(r){var n=e.slice();return setTimeout((function(){r.listener.apply(t,n)}),0),!r.once})),r},e.prototype.prepareEvent=function(e){},e.prototype.getEmit=function(e){return[e]},e}(),_=function(e){function t(){return e.call(this,"error",null)||this}return i(t,e),t}(w),M=function(e){function t(t,r,n,i){var o,a={address:t},s=r.getEventTopic(n);return i?(s!==i[0]&&c.throwArgumentError("topic mismatch","topics",i),a.topics=i.slice()):a.topics=[s],o=e.call(this,y(a),a)||this,v.defineReadOnly(o,"address",t),v.defineReadOnly(o,"interface",r),v.defineReadOnly(o,"fragment",n),o}return i(t,e),t.prototype.prepareEvent=function(t){var r=this;e.prototype.prepareEvent.call(this,t),t.event=this.fragment.name,t.eventSignature=this.fragment.format(),t.decode=function(e,t){return r.interface.decodeEventLog(r.fragment,e,t)};try{t.args=this.interface.decodeEventLog(this.fragment,t.data,t.topics)}catch(n){t.args=null,t.decodeError=n}},t.prototype.getEmit=function(e){var t=J.checkResultErrors(e.args);if(t.length)throw t[0].error;var r=(e.args||[]).slice();return r.push(e),r},t}(w),k=function(e){function t(t,r){var n=e.call(this,"*",{address:t})||this;return v.defineReadOnly(n,"address",t),v.defineReadOnly(n,"interface",r),n}return i(t,e),t.prototype.prepareEvent=function(t){var r=this;e.prototype.prepareEvent.call(this,t);try{var n=this.interface.parseLog(t);t.event=n.name,t.eventSignature=n.signature,t.decode=function(e,t){return r.interface.decodeEventLog(n.eventFragment,e,t)},t.args=n.args}catch(i){}},t}(w),S=function(){function e(t,r,n){var i=this.constructor,s=this;c.checkNew(i,e),v.defineReadOnly(this,"interface",v.getStatic(i,"getInterface")(r)),null==n?(v.defineReadOnly(this,"provider",null),v.defineReadOnly(this,"signer",null)):Q.Signer.isSigner(n)?(v.defineReadOnly(this,"provider",n.provider||null),v.defineReadOnly(this,"signer",n)):X.Provider.isProvider(n)?(v.defineReadOnly(this,"provider",n),v.defineReadOnly(this,"signer",null)):c.throwArgumentError("invalid signer or provider","signerOrProvider",n),v.defineReadOnly(this,"callStatic",{}),v.defineReadOnly(this,"estimateGas",{}),v.defineReadOnly(this,"functions",{}),v.defineReadOnly(this,"populateTransaction",{}),v.defineReadOnly(this,"filters",{});var l={};if(Object.keys(this.interface.events).forEach((function(e){var t=s.interface.events[e];v.defineReadOnly(s.filters,e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return{address:s.address,topics:s.interface.encodeFilterTopics(t,e)}})),l[t.name]||(l[t.name]=[]),l[t.name].push(e)})),Object.keys(l).forEach((function(e){var t=l[e];1===t.length?v.defineReadOnly(s.filters,e,s.filters[t[0]]):c.warn("Duplicate definition of "+e+" ("+t.join(", ")+")")})),v.defineReadOnly(this,"_runningEvents",{}),v.defineReadOnly(this,"_wrappedEmits",{}),v.defineReadOnly(this,"address",t),this.provider)v.defineReadOnly(this,"resolvedAddress",this.provider.resolveName(t).then((function(e){if(null==e)throw new Error("name not found");return e})).catch((function(e){throw console.log("ERROR: Cannot find Contract - "+t),e})));else try{v.defineReadOnly(this,"resolvedAddress",Promise.resolve(x.getAddress(t)))}catch(h){c.throwError("provider is required to use ENS name as contract address",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}var u={},d={};Object.keys(this.interface.functions).forEach((function(e){var t=s.interface.functions[e];if(d[e])c.warn("Duplicate ABI entry for "+JSON.stringify(name));else{d[e]=!0;var r=t.name;u[r]||(u[r]=[]),u[r].push(e),null==s[e]&&v.defineReadOnly(s,e,m(s,t,!0)),null==s.functions[e]&&v.defineReadOnly(s.functions,e,m(s,t,!1)),null==s.callStatic[e]&&v.defineReadOnly(s.callStatic,e,b(s,t,!0)),null==s.populateTransaction[e]&&v.defineReadOnly(s.populateTransaction,e,function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return o(this,void 0,void 0,(function(){return a(this,(function(n){return[2,p(e,t,r)]}))}))}}(s,t)),null==s.estimateGas[e]&&v.defineReadOnly(s.estimateGas,e,function(e,t){var r=e.signer||e.provider;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return o(this,void 0,void 0,(function(){var i;return a(this,(function(o){switch(o.label){case 0:return r||c.throwError("estimate require a provider or signer",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"}),[4,p(e,t,n)];case 1:return i=o.sent(),[4,r.estimateGas(i)];case 2:return[2,o.sent()]}}))}))}}(s,t))}})),Object.keys(u).forEach((function(e){var t=u[e];if(!(t.length>1)){var r=t[0];null==s[e]&&v.defineReadOnly(s,e,s[r]),null==s.functions[e]&&v.defineReadOnly(s.functions,e,s.functions[r]),null==s.callStatic[e]&&v.defineReadOnly(s.callStatic,e,s.callStatic[r]),null==s.populateTransaction[e]&&v.defineReadOnly(s.populateTransaction,e,s.populateTransaction[r]),null==s.estimateGas[e]&&v.defineReadOnly(s.estimateGas,e,s.estimateGas[r])}}))}return e.getContractAddress=function(e){return x.getContractAddress(e)},e.getInterface=function(e){return J.Interface.isInterface(e)?e:new J.Interface(e)},e.prototype.deployed=function(){return this._deployed()},e.prototype._deployed=function(e){var t=this;return this._deployedPromise||(this._deployedPromise=this.deployTransaction?this.deployTransaction.wait().then((function(){return t})):this.provider.getCode(this.address,e).then((function(e){return"0x"===e&&c.throwError("contract not deployed",f.Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:t.address,operation:"getDeployed"}),t}))),this._deployedPromise},e.prototype.fallback=function(e){var t=this;this.signer||c.throwError("sending a transactions require a signer",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});var r=v.shallowCopy(e||{});return["from","to"].forEach((function(e){null!=r[e]&&c.throwError("cannot override "+e,f.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})})),r.to=this.resolvedAddress,this.deployed().then((function(){return t.signer.sendTransaction(r)}))},e.prototype.connect=function(e){"string"==typeof e&&(e=new Q.VoidSigner(e,this.provider));var t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&v.defineReadOnly(t,"deployTransaction",this.deployTransaction),t},e.prototype.attach=function(e){return new this.constructor(e,this.interface,this.signer||this.provider)},e.isIndexed=function(e){return J.Indexed.isIndexed(e)},e.prototype._normalizeRunningEvent=function(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e},e.prototype._getRunningEvent=function(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new _);if("event"===e)return this._normalizeRunningEvent(new w("event",null));if("*"===e)return this._normalizeRunningEvent(new k(this.address,this.interface));var t=this.interface.getEvent(e);return this._normalizeRunningEvent(new M(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{var r=e.topics[0];if("string"!=typeof r)throw new Error("invalid topic");return t=this.interface.getEvent(r),this._normalizeRunningEvent(new M(this.address,this.interface,t,e.topics))}catch(i){}var n={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new w(y(n),n))}return this._normalizeRunningEvent(new k(this.address,this.interface))},e.prototype._checkRunningEvents=function(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];var t=this._wrappedEmits[e.tag];t&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}},e.prototype._wrapEvent=function(e,t,r){var n=this,i=v.deepCopy(t);return i.removeListener=function(){r&&(e.removeListener(r),n._checkRunningEvents(e))},i.getBlock=function(){return n.provider.getBlock(t.blockHash)},i.getTransaction=function(){return n.provider.getTransaction(t.transactionHash)},i.getTransactionReceipt=function(){return n.provider.getTransactionReceipt(t.transactionHash)},e.prepareEvent(i),i},e.prototype._addEventListener=function(e,t,r){var n=this;if(this.provider||c.throwError("events require a provider or a signer with a provider",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){var i=function(r){var i=n._wrapEvent(e,r,t);if(null==i.decodeError)try{var o=e.getEmit(i);n.emit.apply(n,s([e.filter],o))}catch(a){i.decodeError=a.error}null!=e.filter&&n.emit("event",i),null!=i.decodeError&&n.emit("error",i.decodeError,i)};this._wrappedEmits[e.tag]=i,null!=e.filter&&this.provider.on(e.filter,i)}},e.prototype.queryFilter=function(e,t,r){var n=this,i=this._getRunningEvent(e),o=v.shallowCopy(i.filter);return"string"==typeof t&&h.isHexString(t,32)?(null!=r&&c.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),o.blockHash=t):(o.fromBlock=null!=t?t:0,o.toBlock=null!=r?r:"latest"),this.provider.getLogs(o).then((function(e){return e.map((function(e){return n._wrapEvent(i,e,null)}))}))},e.prototype.on=function(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this},e.prototype.once=function(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this},e.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this.provider)return!1;var n=this._getRunningEvent(e),i=n.run(t)>0;return this._checkRunningEvents(n),i},e.prototype.listenerCount=function(e){return this.provider?this._getRunningEvent(e).listenerCount():0},e.prototype.listeners=function(e){if(!this.provider)return[];if(null==e){var t=[];for(var r in this._runningEvents)this._runningEvents[r].listeners().forEach((function(e){t.push(e)}));return t}return this._getRunningEvent(e).listeners()},e.prototype.removeAllListeners=function(e){if(!this.provider)return this;if(null==e){for(var t in this._runningEvents){var r=this._runningEvents[t];r.removeAllListeners(),this._checkRunningEvents(r)}return this}var n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this},e.prototype.off=function(e,t){if(!this.provider)return this;var r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this},e.prototype.removeListener=function(e,t){return this.off(e,t)},e}();t.Contract=S;var C=function(){function e(e,t,r){var n=this.constructor,i=null;"0x"!==(i="string"==typeof t?t:h.isBytes(t)?h.hexlify(t):t&&"string"==typeof t.object?t.object:"!").substring(0,2)&&(i="0x"+i),(!h.isHexString(i)||i.length%2)&&c.throwArgumentError("invalid bytecode","bytecode",t),r&&!Q.Signer.isSigner(r)&&c.throwArgumentError("invalid signer","signer",r),v.defineReadOnly(this,"bytecode",i),v.defineReadOnly(this,"interface",v.getStatic(n,"getInterface")(e)),v.defineReadOnly(this,"signer",r||null)}return e.prototype.getDeployTransaction=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r={};if(e.length===this.interface.deploy.inputs.length+1&&"object"==typeof e[e.length-1])for(var n in r=v.shallowCopy(e.pop()))if(!l[n])throw new Error("unknown transaction override "+n);return["data","from","to"].forEach((function(e){null!=r[e]&&c.throwError("cannot override "+e,f.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})})),c.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),r.data=h.hexlify(h.concat([this.bytecode,this.interface.encodeDeploy(e)])),r},e.prototype.deploy=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(this,void 0,void 0,(function(){var t,r,n,i,o,s;return a(this,(function(a){switch(a.label){case 0:return t={},e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),c.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),[4,d(this.signer,e,this.interface.deploy.inputs)];case 1:return(r=a.sent()).push(t),n=this.getDeployTransaction.apply(this,r),[4,this.signer.sendTransaction(n)];case 2:return i=a.sent(),o=v.getStatic(this.constructor,"getContractAddress")(i),s=v.getStatic(this.constructor,"getContract")(o,this.interface,this.signer),v.defineReadOnly(s,"deployTransaction",i),[2,s]}}))}))},e.prototype.attach=function(e){return this.constructor.getContract(e,this.interface,this.signer)},e.prototype.connect=function(e){return new this.constructor(this.interface,this.bytecode,e)},e.fromSolidity=function(e,t){null==e&&c.throwError("missing compiler output",f.Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof e&&(e=JSON.parse(e));var r=null;return e.bytecode?r=e.bytecode:e.evm&&e.evm.bytecode&&(r=e.evm.bytecode),new this(e.abi,r,t)},e.getInterface=function(e){return S.getInterface(e)},e.getContractAddress=function(e){return x.getContractAddress(e)},e.getContract=function(e,t,r){return new S(e,t,r)},e}();t.ContractFactory=C}))),re=(o(te),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){v.defineReadOnly(this,"alphabet",e),v.defineReadOnly(this,"base",e.length),v.defineReadOnly(this,"_alphabetMap",{}),v.defineReadOnly(this,"_leader",e.charAt(0));for(var t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}return e.prototype.encode=function(e){var t=h.arrayify(e);if(0===t.length)return"";for(var r=[0],n=0;n<t.length;++n){for(var i=t[n],o=0;o<r.length;++o)r[o]=(i+=r[o]<<8)%this.base,i=i/this.base|0;for(;i>0;)r.push(i%this.base),i=i/this.base|0}for(var a="",s=0;0===t[s]&&s<t.length-1;++s)a+=this._leader;for(var c=r.length-1;c>=0;--c)a+=this.alphabet[r[c]];return a},e.prototype.decode=function(e){if("string"!=typeof e)throw new TypeError("Expected String");var t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(var r=0;r<e.length;r++){var n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");for(var i=n,o=0;o<t.length;++o)t[o]=255&(i+=t[o]*this.base),i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(var a=0;e[a]===this._leader&&a<e.length-1;++a)t.push(0);return h.arrayify(new Uint8Array(t.reverse()))},e}();t.BaseX=r;var n=new r("abcdefghijklmnopqrstuvwxyz234567");t.Base32=n;var i=new r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");t.Base58=i}))),ne=(o(re),ie);function ie(e,t){if(!e)throw new Error(t||"Assertion failed")}ie.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var oe=a((function(e){e.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}));function ae(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function se(e){return 1===e.length?"0"+e:e}function ce(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}var le={inherits:oe,toArray:function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},toHex:function(e){for(var t="",r=0;r<e.length;r++)t+=se(e[r].toString(16));return t},htonl:ae,toHex32:function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=ae(i)),r+=ce(i.toString(16))}return r},zero2:se,zero8:ce,join32:function(e,t,r,n){var i=r-t;ne(i%4==0);for(var o=new Array(i/4),a=0,s=t;a<o.length;a++,s+=4)o[a]=("big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s])>>>0;return o},split32:function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},rotr32:function(e,t){return e>>>t|e<<32-t},rotl32:function(e,t){return e<<t|e>>>32-t},sum32:function(e,t){return e+t>>>0},sum32_3:function(e,t,r){return e+t+r>>>0},sum32_4:function(e,t,r,n){return e+t+r+n>>>0},sum32_5:function(e,t,r,n,i){return e+t+r+n+i>>>0},sum64:function(e,t,r,n){var i=n+e[t+1]>>>0;e[t]=(i<n?1:0)+r+e[t]>>>0,e[t+1]=i},sum64_hi:function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},sum64_lo:function(e,t,r,n){return t+n>>>0},sum64_4_hi:function(e,t,r,n,i,o,a,s){var c=0,l=t;return c+=(l=l+n>>>0)<t?1:0,c+=(l=l+o>>>0)<o?1:0,e+r+i+a+(c+=(l=l+s>>>0)<s?1:0)>>>0},sum64_4_lo:function(e,t,r,n,i,o,a,s){return t+n+o+s>>>0},sum64_5_hi:function(e,t,r,n,i,o,a,s,c,l){var u=0,f=t;return u+=(f=f+n>>>0)<t?1:0,u+=(f=f+o>>>0)<o?1:0,u+=(f=f+s>>>0)<s?1:0,e+r+i+a+c+(u+=(f=f+l>>>0)<l?1:0)>>>0},sum64_5_lo:function(e,t,r,n,i,o,a,s,c,l){return t+n+o+s+l>>>0},rotr64_hi:function(e,t,r){return(t<<32-r|e>>>r)>>>0},rotr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0},shr64_hi:function(e,t,r){return e>>>r},shr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0}};function ue(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var fe=ue;ue.prototype.update=function(e,t){if(e=le.toArray(e,t),this.pending=this.pending?this.pending.concat(e):e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=le.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},ue.prototype.digest=function(e){return this.update(this._pad()),ne(null===this.pending),this._digest(e)},ue.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var de={BlockHash:fe},he=le.rotr32;var pe=le.sum32,be=le.sum32_4,me=le.sum32_5,ge=function(e,t,r){return e&t^~e&r},ye=function(e,t,r){return e&t^e&r^t&r},ve=function(e){return he(e,2)^he(e,13)^he(e,22)},we=function(e){return he(e,6)^he(e,11)^he(e,25)},_e=function(e){return he(e,7)^he(e,18)^e>>>3},Me=de.BlockHash,ke=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Se(){if(!(this instanceof Se))return new Se;Me.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ke,this.W=new Array(64)}le.inherits(Se,Me);var Ce=Se;Se.blockSize=512,Se.outSize=256,Se.hmacStrength=192,Se.padLength=64,Se.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=be(he(i=r[n-2],17)^he(i,19)^i>>>10,r[n-7],_e(r[n-15]),r[n-16]);var i,o=this.h[0],a=this.h[1],s=this.h[2],c=this.h[3],l=this.h[4],u=this.h[5],f=this.h[6],d=this.h[7];for(ne(this.k.length===r.length),n=0;n<r.length;n++){var h=me(d,we(l),ge(l,u,f),this.k[n],r[n]),p=pe(ve(o),ye(o,a,s));d=f,f=u,u=l,l=pe(c,h),c=s,s=a,a=o,o=pe(h,p)}this.h[0]=pe(this.h[0],o),this.h[1]=pe(this.h[1],a),this.h[2]=pe(this.h[2],s),this.h[3]=pe(this.h[3],c),this.h[4]=pe(this.h[4],l),this.h[5]=pe(this.h[5],u),this.h[6]=pe(this.h[6],f),this.h[7]=pe(this.h[7],d)},Se.prototype._digest=function(e){return"hex"===e?le.toHex32(this.h,"big"):le.split32(this.h,"big")};var Ee=le.rotr64_hi,Pe=le.rotr64_lo,xe=le.shr64_hi,Oe=le.shr64_lo,Ae=le.sum64,Te=le.sum64_hi,Re=le.sum64_lo,Ie=le.sum64_4_hi,Ne=le.sum64_4_lo,Be=le.sum64_5_hi,De=le.sum64_5_lo,je=de.BlockHash,Le=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Fe(){if(!(this instanceof Fe))return new Fe;je.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Le,this.W=new Array(160)}le.inherits(Fe,je);var ze=Fe;function Ue(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function Ke(e,t,r,n,i,o){var a=t&n^~t&o;return a<0&&(a+=4294967296),a}function He(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function qe(e,t,r,n,i,o){var a=t&n^t&o^n&o;return a<0&&(a+=4294967296),a}function Ge(e,t){var r=Ee(e,t,28)^Ee(t,e,2)^Ee(t,e,7);return r<0&&(r+=4294967296),r}function Ve(e,t){var r=Pe(e,t,28)^Pe(t,e,2)^Pe(t,e,7);return r<0&&(r+=4294967296),r}function We(e,t){var r=Ee(e,t,14)^Ee(e,t,18)^Ee(t,e,9);return r<0&&(r+=4294967296),r}function Ye(e,t){var r=Pe(e,t,14)^Pe(e,t,18)^Pe(t,e,9);return r<0&&(r+=4294967296),r}function Je(e,t){var r=Ee(e,t,1)^Ee(e,t,8)^xe(e,t,7);return r<0&&(r+=4294967296),r}function Ze(e,t){var r=Pe(e,t,1)^Pe(e,t,8)^Oe(e,t,7);return r<0&&(r+=4294967296),r}function Xe(e,t){var r=Ee(e,t,19)^Ee(t,e,29)^xe(e,t,6);return r<0&&(r+=4294967296),r}function $e(e,t){var r=Pe(e,t,19)^Pe(t,e,29)^Oe(e,t,6);return r<0&&(r+=4294967296),r}Fe.blockSize=1024,Fe.outSize=512,Fe.hmacStrength=192,Fe.padLength=128,Fe.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=Xe(r[n-4],r[n-3]),o=$e(r[n-4],r[n-3]),a=r[n-14],s=r[n-13],c=Je(r[n-30],r[n-29]),l=Ze(r[n-30],r[n-29]),u=r[n-32],f=r[n-31];r[n]=Ie(i,o,a,s,c,l,u,f),r[n+1]=Ne(i,o,a,s,c,l,u,f)}},Fe.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],s=this.h[4],c=this.h[5],l=this.h[6],u=this.h[7],f=this.h[8],d=this.h[9],h=this.h[10],p=this.h[11],b=this.h[12],m=this.h[13],g=this.h[14],y=this.h[15];ne(this.k.length===r.length);for(var v=0;v<r.length;v+=2){var w=g,_=y,M=We(f,d),k=Ye(f,d),S=Ue(f,0,h,0,b),C=Ke(0,d,0,p,0,m),E=this.k[v],P=this.k[v+1],x=r[v],O=r[v+1],A=Be(w,_,M,k,S,C,E,P,x,O),T=De(w,_,M,k,S,C,E,P,x,O);w=Ge(n,i),_=Ve(n,i),M=He(n,0,o,0,s),k=qe(0,i,0,a,0,c);var R=Te(w,_,M,k),I=Re(w,_,M,k);g=b,y=m,b=h,m=p,h=f,p=d,f=Te(l,u,A,T),d=Re(u,u,A,T),l=s,u=c,s=o,c=a,o=n,a=i,n=Te(A,T,R,I),i=Re(A,T,R,I)}Ae(this.h,0,n,i),Ae(this.h,2,o,a),Ae(this.h,4,s,c),Ae(this.h,6,l,u),Ae(this.h,8,f,d),Ae(this.h,10,h,p),Ae(this.h,12,b,m),Ae(this.h,14,g,y)},Fe.prototype._digest=function(e){return"hex"===e?le.toHex32(this.h,"big"):le.split32(this.h,"big")};var Qe={sha1:{},sha224:{},sha256:Ce,sha384:{},sha512:ze},et=le.rotl32,tt=le.sum32,rt=le.sum32_3,nt=le.sum32_4,it=de.BlockHash;function ot(){if(!(this instanceof ot))return new ot;it.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}le.inherits(ot,it);var at=ot;function st(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function ct(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function lt(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}ot.blockSize=512,ot.outSize=160,ot.hmacStrength=192,ot.padLength=64,ot.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],a=this.h[4],s=r,c=n,l=i,u=o,f=a,d=0;d<80;d++){var h=tt(et(nt(r,st(d,n,i,o),e[ut[d]+t],ct(d)),dt[d]),a);r=a,a=o,o=et(i,10),i=n,n=h,h=tt(et(nt(s,st(79-d,c,l,u),e[ft[d]+t],lt(d)),ht[d]),f),s=f,f=u,u=et(l,10),l=c,c=h}h=rt(this.h[1],i,u),this.h[1]=rt(this.h[2],o,f),this.h[2]=rt(this.h[3],a,s),this.h[3]=rt(this.h[4],r,c),this.h[4]=rt(this.h[0],n,l),this.h[0]=h},ot.prototype._digest=function(e){return"hex"===e?le.toHex32(this.h,"little"):le.split32(this.h,"little")};var ut=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ft=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],dt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ht=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],pt={ripemd160:at};function bt(e,t,r){if(!(this instanceof bt))return new bt(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(le.toArray(t,r))}var mt=bt;bt.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),ne(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},bt.prototype.update=function(e,t){return this.inner.update(e,t),this},bt.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};var gt=a((function(e,t){var r=t;r.utils=le,r.common=de,r.sha=Qe,r.ripemd=pt,r.hmac=mt,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160})),yt=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="sha2/5.0.3"})),vt=(o(yt),a((function(e,t){var n=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(gt),a=new f.Logger(yt.version);!function(e){e.sha256="sha256",e.sha512="sha512"}(i=t.SupportedAlgorithm||(t.SupportedAlgorithm={})),t.ripemd160=function(e){return"0x"+o.ripemd160().update(h.arrayify(e)).digest("hex")},t.sha256=function(e){return"0x"+o.sha256().update(h.arrayify(e)).digest("hex")},t.sha512=function(e){return"0x"+o.sha512().update(h.arrayify(e)).digest("hex")},t.computeHmac=function(e,t,r){return i[e]||a.throwError("unsupported algorithm "+e,f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+o.hmac(o[e],h.arrayify(t)).update(h.arrayify(r)).digest("hex")}}))),wt=(o(vt),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.pbkdf2=function(e,t,r,n,i){var o;e=h.arrayify(e),t=h.arrayify(t);var a,s,c=1,l=new Uint8Array(n),u=new Uint8Array(t.length+4);u.set(t);for(var f=1;f<=c;f++){u[t.length]=f>>24&255,u[t.length+1]=f>>16&255,u[t.length+2]=f>>8&255,u[t.length+3]=255&f;var d=h.arrayify(vt.computeHmac(i,e,u));o||(o=d.length,s=new Uint8Array(o),a=n-((c=Math.ceil(n/o))-1)*o),s.set(d);for(var p=1;p<r;p++){d=h.arrayify(vt.computeHmac(i,e,d));for(var b=0;b<o;b++)s[b]^=d[b]}var m=(f-1)*o,g=f===c?a:o;l.set(h.arrayify(s).slice(0,g),m)}return h.hexlify(l)}}))),_t=(o(wt),Object.freeze({version:"6.5.3",default:{version:"6.5.3"}})),Mt=a((function(e){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o=c.Buffer}catch(S){}function a(e,t,r){for(var n=0,i=Math.min(e.length,r),o=t;o<i;o++){var a=e.charCodeAt(o)-48;n<<=4,n|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return n}function s(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)this.words[o]|=(a=e[i]|e[i-1]<<8|e[i-2]<<16)<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)this.words[o]|=(a=e[i]|e[i+1]<<8|e[i+2]<<16)<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},i.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=e.length-6,n=0;r>=t;r-=6)i=a(e,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==t&&(i=a(e,t,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,c=Math.min(o,o-a)+r,l=0,u=r;u<c;u+=n)l=s(e,u,u+n,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var f=1;for(l=s(e,u,e.length,t),u=0;u<a;u++)f*=t;this.imuln(f),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=a/67108864|0;r.words[0]=67108863&a;for(var c=1;c<n;c++){for(var l=s>>>26,u=67108863&s,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++)l+=(a=(i=0|e.words[c-d|0])*(o=0|t.words[d])+u)/67108864|0,u=67108863&a;r.words[c]=0|u,s=0|l}return 0!==s?r.words[c]=0|s:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);n=0!=(o=s>>>24-i&16777215)||a!==this.length-1?l[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var d=u[e],h=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(h).toString(e);n=(p=p.idivn(h)).isZero()?b+n:l[d-b.length]+b+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==o),this.toArrayLike(o,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,l=new e(o),u=this.clone();if(c){for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[o-s-1]=a}return l},i.prototype._countBits=Math.clz32?function(e){return 32-Math.clz32(e)}:function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)this.words[o]=67108863&(t=(0|r.words[o])+(0|n.words[o])+i),i=t>>>26;for(;0!==i&&o<r.length;o++)this.words[o]=67108863&(t=(0|r.words[o])+i),i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,r){var n,i,o,a=e.words,s=t.words,c=r.words,l=0,u=0|a[0],f=8191&u,d=u>>>13,h=0|a[1],p=8191&h,b=h>>>13,m=0|a[2],g=8191&m,y=m>>>13,v=0|a[3],w=8191&v,_=v>>>13,M=0|a[4],k=8191&M,S=M>>>13,C=0|a[5],E=8191&C,P=C>>>13,x=0|a[6],O=8191&x,A=x>>>13,T=0|a[7],R=8191&T,I=T>>>13,N=0|a[8],B=8191&N,D=N>>>13,j=0|a[9],L=8191&j,F=j>>>13,z=0|s[0],U=8191&z,K=z>>>13,H=0|s[1],q=8191&H,G=H>>>13,V=0|s[2],W=8191&V,Y=V>>>13,J=0|s[3],Z=8191&J,X=J>>>13,$=0|s[4],Q=8191&$,ee=$>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,le=se>>>13,ue=0|s[8],fe=8191&ue,de=ue>>>13,he=0|s[9],pe=8191&he,be=he>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(l+(n=Math.imul(f,U))|0)+((8191&(i=(i=Math.imul(f,K))+Math.imul(d,U)|0))<<13)|0;l=((o=Math.imul(d,K))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,K))+Math.imul(b,U)|0,o=Math.imul(b,K);var ge=(l+(n=n+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(d,q)|0))<<13)|0;l=((o=o+Math.imul(d,G)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,U),i=(i=Math.imul(g,K))+Math.imul(y,U)|0,o=Math.imul(y,K),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(b,q)|0,o=o+Math.imul(b,G)|0;var ye=(l+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(d,W)|0))<<13)|0;l=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,K))+Math.imul(_,U)|0,o=Math.imul(_,K),n=n+Math.imul(g,q)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,G)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,Y)|0;var ve=(l+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(d,Z)|0))<<13)|0;l=((o=o+Math.imul(d,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,U),i=(i=Math.imul(k,K))+Math.imul(S,U)|0,o=Math.imul(S,K),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,X)|0;var we=(l+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;l=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(E,U),i=(i=Math.imul(E,K))+Math.imul(P,U)|0,o=Math.imul(P,K),n=n+Math.imul(k,q)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,G)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0;var _e=(l+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(d,re)|0))<<13)|0;l=((o=o+Math.imul(d,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(O,U),i=(i=Math.imul(O,K))+Math.imul(A,U)|0,o=Math.imul(A,K),n=n+Math.imul(E,q)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,G)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Y)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Me=(l+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(d,oe)|0))<<13)|0;l=((o=o+Math.imul(d,ae)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(R,U),i=(i=Math.imul(R,K))+Math.imul(I,U)|0,o=Math.imul(I,K),n=n+Math.imul(O,q)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(E,W)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0;var ke=(l+(n=n+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,le)|0)+Math.imul(d,ce)|0))<<13)|0;l=((o=o+Math.imul(d,le)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,K))+Math.imul(D,U)|0,o=Math.imul(D,K),n=n+Math.imul(R,q)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,le)|0;var Se=(l+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;l=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,U),i=(i=Math.imul(L,K))+Math.imul(F,U)|0,o=Math.imul(F,K),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,G)|0,n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,le)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(b,fe)|0,o=o+Math.imul(b,de)|0;var Ce=(l+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,be)|0)+Math.imul(d,pe)|0))<<13)|0;l=((o=o+Math.imul(d,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,G))+Math.imul(F,q)|0,o=Math.imul(F,G),n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,X)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,ae)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,le)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,le)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,de)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,de)|0;var Ee=(l+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;l=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(L,W),i=(i=Math.imul(L,Y))+Math.imul(F,W)|0,o=Math.imul(F,Y),n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,X)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,n=n+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(S,ce)|0,o=o+Math.imul(S,le)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,de)|0;var Pe=(l+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,be)|0)+Math.imul(y,pe)|0))<<13)|0;l=((o=o+Math.imul(y,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,X))+Math.imul(F,Z)|0,o=Math.imul(F,X),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,n=n+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,le)|0)+Math.imul(P,ce)|0,o=o+Math.imul(P,le)|0,n=n+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(S,fe)|0,o=o+Math.imul(S,de)|0;var xe=(l+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,be)|0)+Math.imul(_,pe)|0))<<13)|0;l=((o=o+Math.imul(_,be)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,Q),i=(i=Math.imul(L,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(D,re)|0,o=o+Math.imul(D,ne)|0,n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,le)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,de)|0;var Oe=(l+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,be)|0)+Math.imul(S,pe)|0))<<13)|0;l=((o=o+Math.imul(S,be)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(F,re)|0,o=Math.imul(F,ne),n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,ae)|0)+Math.imul(D,oe)|0,o=o+Math.imul(D,ae)|0,n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,le)|0,n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,de)|0)+Math.imul(A,fe)|0,o=o+Math.imul(A,de)|0;var Ae=(l+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,be)|0)+Math.imul(P,pe)|0))<<13)|0;l=((o=o+Math.imul(P,be)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(L,oe),i=(i=Math.imul(L,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),n=n+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,le)|0)+Math.imul(D,ce)|0,o=o+Math.imul(D,le)|0,n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,de)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,de)|0;var Te=(l+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,be)|0)+Math.imul(A,pe)|0))<<13)|0;l=((o=o+Math.imul(A,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,ce),i=(i=Math.imul(L,le))+Math.imul(F,ce)|0,o=Math.imul(F,le),n=n+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,de)|0)+Math.imul(D,fe)|0,o=o+Math.imul(D,de)|0;var Re=(l+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,be)|0)+Math.imul(I,pe)|0))<<13)|0;l=((o=o+Math.imul(I,be)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(L,fe),i=(i=Math.imul(L,de))+Math.imul(F,fe)|0,o=Math.imul(F,de);var Ie=(l+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,be)|0)+Math.imul(D,pe)|0))<<13)|0;l=((o=o+Math.imul(D,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863;var Ne=(l+(n=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,be))+Math.imul(F,pe)|0))<<13)|0;return l=((o=Math.imul(F,be))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,c[0]=me,c[1]=ge,c[2]=ye,c[3]=ve,c[4]=we,c[5]=_e,c[6]=Me,c[7]=ke,c[8]=Se,c[9]=Ce,c[10]=Ee,c[11]=Pe,c[12]=xe,c[13]=Oe,c[14]=Ae,c[15]=Te,c[16]=Re,c[17]=Ie,c[18]=Ne,0!==l&&(c[19]=l,r.length++),r};function p(e,t,r){return(new b).mulp(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(h=d),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?h(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=c;l++){var u=(0|e.words[o-l])*(0|t.words[l]),f=67108863&u;s=67108863&(f=f+s|0),i+=(a=(a=a+(u/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},b.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var f=c,d=l,h=0;h<a;h++){var p=r[u+h],b=n[u+h],m=r[u+h+a],g=n[u+h+a],y=f*m-d*g;g=f*g+d*m,r[u+h]=p+(m=y),n[u+h]=b+g,r[u+h+a]=p-m,n[u+h+a]=b-g,h!==s&&(y=c*f-l*d,d=c*d+l*f,f=y)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)n[2*a]=8191&(o+=0|e[a]),n[2*a+1]=8191&(o>>>=13),o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),l=new Array(n),u=new Array(n),f=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,l,n),this.transform(a,o,s,c,n,i),this.transform(l,o,u,f,n,i);for(var h=0;h<n;h++){var p=s[h]*u[h]-c[h]*f[h];c[h]=s[h]*f[h]+c[h]*u[h],s[h]=p}return this.conjugate(s,c,n),this.transform(s,c,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r%26;t[r]=(e.words[r/26|0]&1<<n)>>>n}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o;this.words[t]=(0|this.words[t])-s<<n|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(i-=a,i=Math.max(0,i),c){for(var l=0;l<a;l++)c.words[l]=this.words[l];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var f=0|this.words[l];this.words[l]=u<<26-o|f>>>o,u=f&s}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;return!(this.length<=n||!(this.words[n]&1<<t))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;return r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n?this:(0!==t&&n++,this.length=Math.min(n,this.length),0!==t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this.strip())},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o;this._expand(e.length+n);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+a;var s=(0|e.words[i])*t;a=((o-=67108863&s)>>26)-(s/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r,n=this.clone(),o=e,a=0|o.words[o.length-1];0!=(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,c=n.length-o.length;if("mod"!==t){(s=new i(null)).length=c+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var u=n.clone()._ishlnsubmul(o,1,c);0===u.negative&&(n=u,s&&(s.words[c]=1));for(var f=c-1;f>=0;f--){var d=67108864*(0|n.words[o.length+f])+(0|n.words[o.length+f-1]);for(d=Math.min(d/a|0,67108863),n._ishlnsubmul(o,d,f);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(o,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=d)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),a=new i(0),s=new i(0),c=new i(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0==(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(u),a.isub(f)),o.iushrn(1),a.iushrn(1);for(var p=0,b=1;0==(n.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(f)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s),a.isub(c)):(n.isub(t),s.isub(o),c.isub(a))}return{a:s,b:c,gcd:n.iushln(l)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new i(1),s=new i(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0==(t.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(t.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var f=0,d=1;0==(n.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,this.words[a]=s&=67108863}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new M(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function g(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){M.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},g.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},g.prototype.split=function(e,t){e.iushrn(this.n,0,t)},g.prototype.imulK=function(e){return e.imul(this.k)},n(y,g),y.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}e.words[n-10]=i>>>=22,e.length-=0===i&&e.length>10?10:9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];e.words[r]=67108863&(t+=977*n),t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(v,g),n(w,g),n(_,g),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new v;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},M.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},M.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},M.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},M.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},M.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},M.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},M.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},M.prototype.isqr=function(e){return this.imul(e,e.clone())},M.prototype.sqr=function(e){return this.mul(e,e)},M.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var f=this.pow(u,o),d=this.pow(e,o.addn(1).iushrn(1)),h=this.pow(e,o),p=a;0!==h.cmp(s);){for(var b=h,m=0;0!==b.cmp(s);m++)b=b.redSqr();r(m<p);var g=this.pow(f,new i(1).iushln(p-m-1));d=d.redMul(g),f=g.redSqr(),h=h.redMul(f),p=m}return d},M.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},M.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var l=t.words[n],u=c-1;u>=0;u--){var f=l>>u&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==a?(a<<=1,a|=f,(4==++s||0===n&&0===u)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}c=26}return o},M.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},M.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new k(e)},n(k,M),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,r)})),kt=a((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),St=a((function(e,t){var r=t;r.assert=ne,r.toArray=kt.toArray,r.zero2=kt.zero2,r.toHex=kt.toHex,r.encode=kt.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),a=0;a<n.length;a++){var s,c=o.andln(i-1);o.isOdd()?o.isubn(s=c>(i>>1)-1?(i>>1)-c:c):s=0,n[a]=s,o.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o,a,s,c=e.andln(3)+n&3,l=t.andln(3)+i&3;3===c&&(c=-1),3===l&&(l=-1),o=0==(1&c)?0:3!=(s=e.andln(7)+n&7)&&5!==s||2!==l?c:-c,r[0].push(o),a=0==(1&l)?0:3!=(s=t.andln(7)+i&7)&&5!==s||2!==c?l:-l,r[1].push(a),2*n===o+1&&(n=1-n),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new Mt(e,"hex","le")}})),Ct=function(e){var t=new Uint8Array(e);return(r.crypto||r.msCrypto).getRandomValues(t),t},Et=St.getNAF,Pt=St.getJSF,xt=St.assert;function Ot(e,t){this.type=e,this.p=new Mt(t.p,16),this.red=t.prime?Mt.red(t.prime):Mt.mont(this.p),this.zero=new Mt(0).toRed(this.red),this.one=new Mt(1).toRed(this.red),this.two=new Mt(2).toRed(this.red),this.n=t.n&&new Mt(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var At=Ot;function Tt(e,t){this.curve=e,this.type=t,this.precomputed=null}Ot.prototype.point=function(){throw new Error("Not implemented")},Ot.prototype.validate=function(){throw new Error("Not implemented")},Ot.prototype._fixedNafMul=function(e,t){xt(e.precomputed);var r=e._getDoubles(),n=Et(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var o=[],a=0;a<n.length;a+=r.step){var s=0;for(t=a+r.step-1;t>=a;t--)s=(s<<1)+n[t];o.push(s)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),u=i;u>0;u--){for(a=0;a<o.length;a++)(s=o[a])===u?l=l.mixedAdd(r.points[a]):s===-u&&(l=l.mixedAdd(r.points[a].neg()));c=c.add(l)}return c.toP()},Ot.prototype._wnafMul=function(e,t){for(var r=4,n=e._getNAFPoints(r),i=n.points,o=Et(t,r=n.wnd,this._bitLength),a=this.jpoint(null,null,null),s=o.length-1;s>=0;s--){for(t=0;s>=0&&0===o[s];s--)t++;if(s>=0&&t++,a=a.dblp(t),s<0)break;var c=o[s];xt(0!==c),a="affine"===e.type?a.mixedAdd(c>0?i[c-1>>1]:i[-c-1>>1].neg()):a.add(c>0?i[c-1>>1]:i[-c-1>>1].neg())}return"affine"===e.type?a.toP():a},Ot.prototype._wnafMulAdd=function(e,t,r,n,i){for(var o=this._wnafT1,a=this._wnafT2,s=this._wnafT3,c=0,l=0;l<n;l++){var u=(_=t[l])._getNAFPoints(e);o[l]=u.wnd,a[l]=u.points}for(l=n-1;l>=1;l-=2){var f=l-1,d=l;if(1===o[f]&&1===o[d]){var h=[t[f],null,null,t[d]];0===t[f].y.cmp(t[d].y)?(h[1]=t[f].add(t[d]),h[2]=t[f].toJ().mixedAdd(t[d].neg())):0===t[f].y.cmp(t[d].y.redNeg())?(h[1]=t[f].toJ().mixedAdd(t[d]),h[2]=t[f].add(t[d].neg())):(h[1]=t[f].toJ().mixedAdd(t[d]),h[2]=t[f].toJ().mixedAdd(t[d].neg()));var p=[-3,-1,-5,-7,0,7,5,1,3],b=Pt(r[f],r[d]);c=Math.max(b[0].length,c),s[f]=new Array(c),s[d]=new Array(c);for(var m=0;m<c;m++)s[f][m]=p[3*(1+(0|b[0][m]))+(1+(0|b[1][m]))],s[d][m]=0,a[f]=h}else s[f]=Et(r[f],o[f],this._bitLength),s[d]=Et(r[d],o[d],this._bitLength),c=Math.max(s[f].length,c),c=Math.max(s[d].length,c)}var g=this.jpoint(null,null,null),y=this._wnafT4;for(l=c;l>=0;l--){for(var v=0;l>=0;){var w=!0;for(m=0;m<n;m++)y[m]=0|s[m][l],0!==y[m]&&(w=!1);if(!w)break;v++,l--}if(l>=0&&v++,g=g.dblp(v),l<0)break;for(m=0;m<n;m++){var _,M=y[m];0!==M&&(M>0?_=a[m][M-1>>1]:M<0&&(_=a[m][-M-1>>1].neg()),g="affine"===_.type?g.mixedAdd(_):g.add(_))}}for(l=0;l<n;l++)a[l]=null;return i?g:g.toP()},Ot.BasePoint=Tt,Tt.prototype.eq=function(){throw new Error("Not implemented")},Tt.prototype.validate=function(){return this.curve.validate(this)},Ot.prototype.decodePoint=function(e,t){e=St.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?xt(e[e.length-1]%2==0):7===e[0]&&xt(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},Tt.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Tt.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Tt.prototype.encode=function(e,t){return St.encode(this._encode(t),e)},Tt.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Tt.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Tt.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},Tt.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},Tt.prototype._getBeta=function(){return null},Tt.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Rt=St.assert;function It(e){At.call(this,"short",e),this.a=new Mt(e.a,16).toRed(this.red),this.b=new Mt(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}oe(It,At);var Nt=It;function Bt(e,t,r,n){At.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new Mt(t,16),this.y=new Mt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Dt(e,t,r,n){At.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Mt(0)):(this.x=new Mt(t,16),this.y=new Mt(r,16),this.z=new Mt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}It.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new Mt(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new Mt(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:Rt(0===this.g.mul(r=i[1]).x.cmp(this.g.x.redMul(t)))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new Mt(e.a,16),b:new Mt(e.b,16)}})):this._getEndoBasis(r)}}},It.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Mt.mont(e),r=new Mt(2).toRed(t).redInvm(),n=r.redNeg(),i=new Mt(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},It.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,a,s,c,l,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,d=this.n.clone(),h=new Mt(1),p=new Mt(0),b=new Mt(0),m=new Mt(1),g=0;0!==f.cmpn(0);){var y=d.div(f);c=d.sub(y.mul(f)),l=b.sub(y.mul(h));var v=m.sub(y.mul(p));if(!n&&c.cmp(u)<0)t=s.neg(),r=h,n=c.neg(),i=l;else if(n&&2==++g)break;s=c,d=f,f=c,b=h,h=l,m=p,p=v}o=c.neg(),a=l;var w=n.sqr().add(i.sqr());return o.sqr().add(a.sqr()).cmp(w)>=0&&(o=t,a=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:i},{a:o,b:a}]},It.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),c=i.mul(r.b),l=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:c.add(l).neg()}},It.prototype.pointFromX=function(e,t){(e=new Mt(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},It.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},It.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[2*o]=s,n[2*o+1]=c,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),u=0;u<2*o;u++)n[u]=null,i[u]=null;return l},oe(Bt,At.BasePoint),It.prototype.point=function(e,t,r){return new Bt(this,e,t,r)},It.prototype.pointFromJSON=function(e,t){return Bt.fromJSON(this,e,t)},Bt.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Bt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Bt.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Bt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Bt.prototype.isInfinity=function(){return this.inf},Bt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Bt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},Bt.prototype.getX=function(){return this.x.fromRed()},Bt.prototype.getY=function(){return this.y.fromRed()},Bt.prototype.mul=function(e){return e=new Mt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Bt.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Bt.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Bt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Bt.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Bt.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},oe(Dt,At.BasePoint),It.prototype.jpoint=function(e,t,r){return new Dt(this,e,t,r)},Dt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},Dt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Dt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(o.redMul(u)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(d,h,p)},Dt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),l=c.redMul(a),u=r.redMul(c),f=s.redSqr().redIAdd(l).redISub(u).redISub(u),d=s.redMul(u.redISub(f)).redISub(i.redMul(l)),h=this.z.redMul(a);return this.curve.jpoint(f,d,h)},Dt.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),l=a.redAdd(a);for(r=0;r<e;r++){var u=o.redSqr(),f=l.redSqr(),d=f.redSqr(),h=u.redAdd(u).redIAdd(u).redIAdd(n.redMul(c)),p=o.redMul(f),b=h.redSqr().redISub(p.redAdd(p)),m=p.redISub(b),g=h.redMul(m);g=g.redIAdd(g).redISub(d);var y=l.redMul(s);r+1<e&&(c=c.redMul(d)),o=b,s=y,l=g}return this.curve.jpoint(o,l.redMul(i),s)},Dt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Dt.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),c=s.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=c,t=s.redMul(a.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(u).redISub(d);h=h.redIAdd(h);var p=u.redAdd(u).redIAdd(u),b=p.redSqr(),m=d.redIAdd(d);m=(m=m.redIAdd(m)).redIAdd(m),e=b.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},Dt.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);e=c;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=s.redMul(a.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),f=this.y.redSqr(),d=this.x.redMul(f),h=this.x.redSub(u).redMul(this.x.redAdd(u));h=h.redAdd(h).redIAdd(h);var p=d.redIAdd(d),b=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(u);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=h.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},Dt.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),l=(c=c.redIAdd(c)).redMul(a),u=s.redSqr().redISub(l.redAdd(l)),f=l.redISub(u),d=a.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=s.redMul(f).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(u,h,p)},Dt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),u=t.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var f=this.x.redMul(s).redISub(u);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.y.redMul(l.redMul(c.redISub(l)).redISub(a.redMul(s)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(f,d,h)},Dt.prototype.mul=function(e,t){return e=new Mt(e,t),this.curve._wnafMul(this,e)},Dt.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},Dt.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Dt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Dt.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var jt={},Lt={},Ft=a((function(e,t){var r=t;r.base=At,r.short=Nt,r.mont=jt,r.edwards=Lt})),zt=a((function(e,t){var r,n=t,i=St.assert;function o(e){this.curve="short"===e.type?new Ft.short(e):"edwards"===e.type?new Ft.edwards(e):new Ft.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new o(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:gt.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:gt.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:gt.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:gt.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:gt.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gt.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gt.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=void 0}catch(s){r=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:gt.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Ut(e){if(!(this instanceof Ut))return new Ut(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=kt.toArray(e.entropy,e.entropyEnc||"hex"),r=kt.toArray(e.nonce,e.nonceEnc||"hex"),n=kt.toArray(e.pers,e.persEnc||"hex");ne(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var Kt=Ut;Ut.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Ut.prototype._hmac=function(){return new gt.hmac(this.hash,this.K)},Ut.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Ut.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=kt.toArray(e,t),r=kt.toArray(r,n),ne(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Ut.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=kt.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,kt.encode(o,t)};var Ht=St.assert;function qt(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Gt=qt;qt.fromPublic=function(e,t,r){return t instanceof qt?t:new qt(e,{pub:t,pubEnc:r})},qt.fromPrivate=function(e,t,r){return t instanceof qt?t:new qt(e,{priv:t,privEnc:r})},qt.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},qt.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},qt.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},qt.prototype._importPrivate=function(e,t){this.priv=new Mt(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},qt.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Ht(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Ht(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},qt.prototype.derive=function(e){return e.mul(this.priv).getX()},qt.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},qt.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},qt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Vt=St.assert;function Wt(e,t){if(e instanceof Wt)return e;this._importDER(e,t)||(Vt(e.r&&e.s,"Signature without r or s"),this.r=new Mt(e.r,16),this.s=new Mt(e.s,16),this.recoveryParam=void 0===e.recoveryParam?null:e.recoveryParam)}var Yt=Wt;function Jt(){this.place=0}function Zt(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,a=t.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function Xt(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function $t(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Wt.prototype._importDER=function(e,t){e=St.toArray(e,t);var r=new Jt;if(48!==e[r.place++])return!1;var n=Zt(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=Zt(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var a=Zt(e,r);if(!1===a)return!1;if(e.length!==a+r.place)return!1;var s=e.slice(r.place,a+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new Mt(o),this.s=new Mt(s),this.recoveryParam=null,!0},Wt.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=Xt(t),r=Xt(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];$t(n,t.length),(n=n.concat(t)).push(2),$t(n,r.length);var i=n.concat(r),o=[48];return $t(o,i.length),o=o.concat(i),St.encode(o,e)};var Qt=St.assert;function er(e){if(!(this instanceof er))return new er(e);"string"==typeof e&&(Qt(zt.hasOwnProperty(e),"Unknown curve "+e),e=zt[e]),e instanceof zt.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var tr=er;er.prototype.keyPair=function(e){return new Gt(this,e)},er.prototype.keyFromPrivate=function(e,t){return Gt.fromPrivate(this,e,t)},er.prototype.keyFromPublic=function(e,t){return Gt.fromPublic(this,e,t)},er.prototype.genKeyPair=function(e){e||(e={});for(var t=new Kt({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Ct(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new Mt(2));;){var i=new Mt(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},er.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},er.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new Mt(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),a=e.toArray("be",i),s=new Kt({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new Mt(1)),l=0;;l++){var u=n.k?n.k(l):new Mt(s.generate(this.n.byteLength()));if(!((u=this._truncateToN(u,!0)).cmpn(1)<=0||u.cmp(c)>=0)){var f=this.g.mul(u);if(!f.isInfinity()){var d=f.getX(),h=d.umod(this.n);if(0!==h.cmpn(0)){var p=u.invm(this.n).mul(h.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var b=(f.getY().isOdd()?1:0)|(0!==d.cmp(h)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),b^=1),new Yt({r:h,s:p,recoveryParam:b})}}}}}},er.prototype.verify=function(e,t,r,n){e=this._truncateToN(new Mt(e,16)),r=this.keyFromPublic(r,n);var i=(t=new Yt(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,s=o.invm(this.n),c=s.mul(e).umod(this.n),l=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(c,r.getPublic(),l)).isInfinity()&&a.eqXToP(i):!(a=this.g.mulAdd(c,r.getPublic(),l)).isInfinity()&&0===a.getX().umod(this.n).cmp(i)},er.prototype.recoverPubKey=function(e,t,r,n){Qt((3&r)===r,"The recovery param is more than two bits"),t=new Yt(t,n);var i=this.n,o=new Mt(e),a=t.r,s=t.s,c=1&r,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");a=this.curve.pointFromX(l?a.add(this.curve.n):a,c);var u=t.r.invm(i),f=i.sub(o).mul(u).umod(i),d=s.mul(u).umod(i);return this.g.mulAdd(f,a,d)},er.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new Yt(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var rr={},nr=s(_t),ir=a((function(e,t){var r=t;r.version=nr.version,r.utils=St,r.rand=Ct,r.curve=Ft,r.curves=zt,r.ec=tr,r.eddsa=rr})),or=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="signing-key/5.0.4"})),ar=(o(or),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new f.Logger(or.version),n=null;function i(){return n||(n=new ir.ec("secp256k1")),n}var o=function(){function e(e){v.defineReadOnly(this,"curve","secp256k1"),v.defineReadOnly(this,"privateKey",h.hexlify(e));var t=i().keyFromPrivate(h.arrayify(this.privateKey));v.defineReadOnly(this,"publicKey","0x"+t.getPublic(!1,"hex")),v.defineReadOnly(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),v.defineReadOnly(this,"_isSigningKey",!0)}return e.prototype._addPoint=function(e){var t=i().keyFromPublic(h.arrayify(this.publicKey)),r=i().keyFromPublic(h.arrayify(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")},e.prototype.signDigest=function(e){var t=i().keyFromPrivate(h.arrayify(this.privateKey)).sign(h.arrayify(e),{canonical:!0});return h.splitSignature({recoveryParam:t.recoveryParam,r:h.hexZeroPad("0x"+t.r.toString(16),32),s:h.hexZeroPad("0x"+t.s.toString(16),32)})},e.prototype.computeSharedSecret=function(e){var t=i().keyFromPrivate(h.arrayify(this.privateKey)),r=i().keyFromPublic(h.arrayify(a(e)));return h.hexZeroPad("0x"+t.derive(r.getPublic()).toString(16),32)},e.isSigningKey=function(e){return!(!e||!e._isSigningKey)},e}();function a(e,t){var n=h.arrayify(e);if(32===n.length){var a=new o(n);return t?"0x"+i().keyFromPrivate(n).getPublic(!0,"hex"):a.publicKey}return 33===n.length?t?h.hexlify(n):"0x"+i().keyFromPublic(n).getPublic(!1,"hex"):65===n.length?t?"0x"+i().keyFromPublic(n).getPublic(!0,"hex"):h.hexlify(n):r.throwArgumentError("invalid public or private key","key","[REDACTED]")}t.SigningKey=o,t.recoverPublicKey=function(e,t){var r=h.splitSignature(t),n={r:h.arrayify(r.r),s:h.arrayify(r.s)};return"0x"+i().recoverPubKey(h.arrayify(e),n,r.recoveryParam).encode("hex",!1)},t.computePublicKey=a}))),sr=(o(ar),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="transactions/5.0.3"}))),cr=(o(sr),a((function(e,t){var n=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(E),o=new f.Logger(sr.version);function a(e){return"0x"===e?D.Zero:g.BigNumber.from(e)}var s=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],c={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0};function l(e){var t=ar.computePublicKey(e);return x.getAddress(h.hexDataSlice(S.keccak256(h.hexDataSlice(t,1)),12))}function u(e,t){return l(ar.recoverPublicKey(h.arrayify(e),t))}t.computeAddress=l,t.recoverAddress=u,t.serialize=function(e,t){v.checkProperties(e,c);var r=[];s.forEach((function(t){var n=e[t.name]||[],i={};t.numeric&&(i.hexPad="left"),n=h.arrayify(h.hexlify(n,i)),t.length&&n.length!==t.length&&n.length>0&&o.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=h.stripZeros(n)).length>t.maxLength&&o.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),r.push(h.hexlify(n))}));var n=0;if(null!=e.chainId?"number"!=typeof(n=e.chainId)&&o.throwArgumentError("invalid transaction.chainId","transaction",e):t&&!h.isBytesLike(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push(h.hexlify(n)),r.push("0x"),r.push("0x")),!t)return i.encode(r);var a=h.splitSignature(t),l=27+a.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),l+=2*n+8,a.v>28&&a.v!==l&&o.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):a.v!==l&&o.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push(h.hexlify(l)),r.push(h.stripZeros(h.arrayify(a.r))),r.push(h.stripZeros(h.arrayify(a.s))),i.encode(r)},t.parse=function(e){var t=i.decode(e);9!==t.length&&6!==t.length&&o.throwArgumentError("invalid raw transaction","rawTransaction",e);var r,n={nonce:a(t[0]).toNumber(),gasPrice:a(t[1]),gasLimit:a(t[2]),to:(r=t[3],"0x"===r?null:x.getAddress(r)),value:a(t[4]),data:t[5],chainId:0};if(6===t.length)return n;try{n.v=g.BigNumber.from(t[6]).toNumber()}catch(f){return console.log(f),n}if(n.r=h.hexZeroPad(t[7],32),n.s=h.hexZeroPad(t[8],32),g.BigNumber.from(n.r).isZero()&&g.BigNumber.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);var s=n.v-27,c=t.slice(0,6);0!==n.chainId&&(c.push(h.hexlify(n.chainId)),c.push("0x"),c.push("0x"),s-=2*n.chainId+8);var l=S.keccak256(i.encode(c));try{n.from=u(l,{r:h.hexlify(n.r),s:h.hexlify(n.s),recoveryParam:s})}catch(f){console.log(f)}n.hash=S.keccak256(e)}return n}}))),lr=(o(cr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="wordlists/5.0.3"}))),ur=(o(lr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.logger=new f.Logger(lr.version);var r=function(){function e(r){t.logger.checkAbstract(this.constructor,e),v.defineReadOnly(this,"locale",r)}return e.prototype.split=function(e){return e.toLowerCase().split(/ +/g)},e.prototype.join=function(e){return e.join(" ")},e.check=function(e){for(var t=[],r=0;r<2048;r++){var n=e.getWord(r);if(r!==e.getWordIndex(n))return"0x";t.push(n)}return W.id(t.join("\n")+"\n")},e.register=function(e,t){t||(t=e.locale)},e}();t.Wordlist=r}))),fr=(o(ur),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=null;function a(e){if(null==o&&(o="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==ur.Wordlist.check(e)))throw o=null,new Error("BIP39 Wordlist for en (English) FAILED")}var s=new(function(e){function t(){return e.call(this,"en")||this}return i(t,e),t.prototype.getWord=function(e){return a(this),o[e]},t.prototype.getWordIndex=function(e){return a(this),o.indexOf(e)},t}(ur.Wordlist));t.langEn=s,ur.Wordlist.register(s)}))),dr=(o(fr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Wordlist=ur.Wordlist,t.wordlists={en:fr.langEn}}))),hr=(o(dr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="hdnode/5.0.3"}))),pr=(o(hr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new f.Logger(hr.version),n=g.BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),i=K.toUtf8Bytes("Bitcoin seed");function o(e){return(1<<e)-1<<8-e}function a(e){return h.hexZeroPad(h.hexlify(e),32)}function s(e){return re.Base58.encode(h.concat([e,h.hexDataSlice(vt.sha256(vt.sha256(e)),0,4)]))}function c(e){if(null==e)return dr.wordlists.en;if("string"==typeof e){var t=dr.wordlists[e];return null==t&&r.throwArgumentError("unknown locale","wordlist",e),t}return e}var l={};t.defaultPath="m/44'/60'/0'/0/0";var u=function(){function e(t,n,i,o,a,s,c,u){if(r.checkNew(this.constructor,e),t!==l)throw new Error("HDNode constructor cannot be called directly");if(n){var f=new ar.SigningKey(n);v.defineReadOnly(this,"privateKey",f.privateKey),v.defineReadOnly(this,"publicKey",f.compressedPublicKey)}else v.defineReadOnly(this,"privateKey",null),v.defineReadOnly(this,"publicKey",h.hexlify(i));v.defineReadOnly(this,"parentFingerprint",o),v.defineReadOnly(this,"fingerprint",h.hexDataSlice(vt.ripemd160(vt.sha256(this.publicKey)),0,4)),v.defineReadOnly(this,"address",cr.computeAddress(this.publicKey)),v.defineReadOnly(this,"chainCode",a),v.defineReadOnly(this,"index",s),v.defineReadOnly(this,"depth",c),null==u?(v.defineReadOnly(this,"mnemonic",null),v.defineReadOnly(this,"path",null)):"string"==typeof u?(v.defineReadOnly(this,"mnemonic",null),v.defineReadOnly(this,"path",u)):(v.defineReadOnly(this,"mnemonic",u),v.defineReadOnly(this,"path",u.path))}return Object.defineProperty(e.prototype,"extendedKey",{get:function(){if(this.depth>=256)throw new Error("Depth too large!");return s(h.concat([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",h.hexlify(this.depth),this.parentFingerprint,h.hexZeroPad(h.hexlify(this.index),4),this.chainCode,null!=this.privateKey?h.concat(["0x00",this.privateKey]):this.publicKey]))},enumerable:!0,configurable:!0}),e.prototype.neuter=function(){return new e(l,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)},e.prototype._derive=function(t){if(t>4294967295)throw new Error("invalid index - "+String(t));var r=this.path;r&&(r+="/"+(2147483647&t));var i=new Uint8Array(37);if(2147483648&t){if(!this.privateKey)throw new Error("cannot derive child of neutered node");i.set(h.arrayify(this.privateKey),1),r&&(r+="'")}else i.set(h.arrayify(this.publicKey));for(var o=24;o>=0;o-=8)i[33+(o>>3)]=t>>24-o&255;var s=h.arrayify(vt.computeHmac(vt.SupportedAlgorithm.sha512,this.chainCode,i)),c=s.slice(0,32),u=s.slice(32),f=null,d=null;this.privateKey?f=a(g.BigNumber.from(c).add(this.privateKey).mod(n)):d=new ar.SigningKey(h.hexlify(c))._addPoint(this.publicKey);var p=r,b=this.mnemonic;return b&&(p=Object.freeze({phrase:b.phrase,path:r,locale:b.locale||"en"})),new e(l,f,d,this.fingerprint,a(u),t,this.depth+1,p)},e.prototype.derivePath=function(e){var t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();for(var r=this,n=0;n<t.length;n++){var i=t[n];if(i.match(/^[0-9]+'$/)){if((o=parseInt(i.substring(0,i.length-1)))>=2147483648)throw new Error("invalid path index - "+i);r=r._derive(2147483648+o)}else{if(!i.match(/^[0-9]+$/))throw new Error("invalid path component - "+i);var o;if((o=parseInt(i))>=2147483648)throw new Error("invalid path index - "+i);r=r._derive(o)}}return r},e._fromSeed=function(t,r){var n=h.arrayify(t);if(n.length<16||n.length>64)throw new Error("invalid seed");var o=h.arrayify(vt.computeHmac(vt.SupportedAlgorithm.sha512,i,n));return new e(l,a(o.slice(0,32)),null,"0x00000000",a(o.slice(32)),0,0,r)},e.fromMnemonic=function(t,r,n){return t=b(p(t,n=c(n)),n),e._fromSeed(d(t,r),{phrase:t,path:"m",locale:n.locale})},e.fromSeed=function(t){return e._fromSeed(t,null)},e.fromExtendedKey=function(t){var n=re.Base58.decode(t);82===n.length&&s(n.slice(0,78))===t||r.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");var i=n[4],o=h.hexlify(n.slice(5,9)),a=parseInt(h.hexlify(n.slice(9,13)).substring(2),16),c=h.hexlify(n.slice(13,45)),u=n.slice(45,78);switch(h.hexlify(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new e(l,null,h.hexlify(u),o,c,a,i,null);case"0x0488ade4":case"0x04358394 ":if(0!==u[0])break;return new e(l,h.hexlify(u.slice(1)),null,o,c,a,i,null)}return r.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")},e}();function d(e,t){t||(t="");var r=K.toUtf8Bytes("mnemonic"+t,K.UnicodeNormalizationForm.NFKD);return wt.pbkdf2(K.toUtf8Bytes(e,K.UnicodeNormalizationForm.NFKD),r,2048,64,"sha512")}function p(e,t){t=c(t),r.checkNormalize();var n=t.split(e);if(n.length%3!=0)throw new Error("invalid mnemonic");for(var i=h.arrayify(new Uint8Array(Math.ceil(11*n.length/8))),a=0,s=0;s<n.length;s++){var l=t.getWordIndex(n[s].normalize("NFKD"));if(-1===l)throw new Error("invalid mnemonic");for(var u=0;u<11;u++)l&1<<10-u&&(i[a>>3]|=1<<7-a%8),a++}var f=32*n.length/3,d=o(n.length/3);if((h.arrayify(vt.sha256(i.slice(0,f/8)))[0]&d)!=(i[i.length-1]&d))throw new Error("invalid checksum");return h.hexlify(i.slice(0,f/8))}function b(e,t){if(t=c(t),(e=h.arrayify(e)).length%4!=0||e.length<16||e.length>32)throw new Error("invalid entropy");for(var r=[0],n=11,i=0;i<e.length;i++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[i],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[i]>>8-n,r.push(e[i]&(1<<8-n)-1),n+=3);var a=e.length/4,s=h.arrayify(vt.sha256(e))[0]&o(a);return r[r.length-1]<<=a,r[r.length-1]|=s>>8-a,t.join(r.map((function(e){return t.getWord(e)})))}t.HDNode=u,t.mnemonicToSeed=d,t.mnemonicToEntropy=p,t.entropyToMnemonic=b,t.isValidMnemonic=function(e,t){try{return p(e,t),!0}catch(r){}return!1}}))),br=(o(pr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="random/5.0.3"}))),mr=(o(br),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.shuffled=function(e){for(var t=(e=e.slice()).length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}}))),gr=(o(mr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=new f.Logger(br.version);t.shuffled=mr.shuffled;var i=null;try{if(null==(i=window))throw new Error("try next")}catch(a){try{if(null==(i=r))throw new Error("try next")}catch(a){i={}}}var o=i.crypto||i.msCrypto;o&&o.getRandomValues||(n.warn("WARNING: Missing strong random number source"),o={getRandomValues:function(e){return n.throwError("no secure random source avaialble",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}}),t.randomBytes=function(e){(e<=0||e>1024||e%1)&&n.throwArgumentError("invalid length","length",e);var t=new Uint8Array(e);return o.getRandomValues(t),h.arrayify(t)}}))),yr=(o(gr),a((function(e,t){!function(t){function r(e){return parseInt(e)===e}function n(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function o(e){return new Uint8Array(e)}function a(e,t,r,n,i){null==n&&null==i||(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}var s,c={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return i(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},l=(s="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(s[(240&n)>>4]+s[15&n])}return t.join("")}}),u={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],b=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],m=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],g=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],y=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],v=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],w=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],_=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],M=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],k=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],S=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],C=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function E(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var P=function(e){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(e,!0)}),this._prepare()};P.prototype._prepare=function(){var e=u[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),i=this.key.length/4,o=E(this.key);for(t=0;t<i;t++)this._Ke[r=t>>2][t%4]=o[t],this._Kd[e-r][t%4]=o[t];for(var a,s=0,c=i;c<n;){if(o[0]^=d[(a=o[i-1])>>16&255]<<24^d[a>>8&255]<<16^d[255&a]<<8^d[a>>24&255]^f[s]<<24,s+=1,8!=i)for(t=1;t<i;t++)o[t]^=o[t-1];else{for(t=1;t<i/2;t++)o[t]^=o[t-1];for(o[i/2]^=d[255&(a=o[i/2-1])]^d[a>>8&255]<<8^d[a>>16&255]<<16^d[a>>24&255]<<24,t=i/2+1;t<i;t++)o[t]^=o[t-1]}for(t=0;t<i&&c<n;)this._Ke[l=c>>2][h=c%4]=o[t],this._Kd[e-l][h]=o[t++],c++}for(var l=1;l<e;l++)for(var h=0;h<4;h++)this._Kd[l][h]=M[(a=this._Kd[l][h])>>24&255]^k[a>>16&255]^S[a>>8&255]^C[255&a]},P.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=E(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var a=1;a<t;a++){for(i=0;i<4;i++)r[i]=p[n[i]>>24&255]^b[n[(i+1)%4]>>16&255]^m[n[(i+2)%4]>>8&255]^g[255&n[(i+3)%4]]^this._Ke[a][i];n=r.slice()}var s,c=o(16);for(i=0;i<4;i++)c[4*i]=255&(d[n[i]>>24&255]^(s=this._Ke[t][i])>>24),c[4*i+1]=255&(d[n[(i+1)%4]>>16&255]^s>>16),c[4*i+2]=255&(d[n[(i+2)%4]>>8&255]^s>>8),c[4*i+3]=255&(d[255&n[(i+3)%4]]^s);return c},P.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=E(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var a=1;a<t;a++){for(i=0;i<4;i++)r[i]=y[n[i]>>24&255]^v[n[(i+3)%4]>>16&255]^w[n[(i+2)%4]>>8&255]^_[255&n[(i+1)%4]]^this._Kd[a][i];n=r.slice()}var s,c=o(16);for(i=0;i<4;i++)c[4*i]=255&(h[n[i]>>24&255]^(s=this._Kd[t][i])>>24),c[4*i+1]=255&(h[n[(i+3)%4]>>16&255]^s>>16),c[4*i+2]=255&(h[n[(i+2)%4]>>8&255]^s>>8),c[4*i+3]=255&(h[255&n[(i+1)%4]]^s);return c};var x=function(e){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new P(e)};x.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16)a(e,r,0,n,n+16),a(r=this._aes.encrypt(r),t,n);return t},x.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16)a(e,r,0,n,n+16),a(r=this._aes.decrypt(r),t,n);return t};var O=function(e,t){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastCipherblock=i(t,!0),this._aes=new P(e)};O.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16){a(e,r,0,n,n+16);for(var s=0;s<16;s++)r[s]^=this._lastCipherblock[s];this._lastCipherblock=this._aes.encrypt(r),a(this._lastCipherblock,t,n)}return t},O.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16){a(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var s=0;s<16;s++)t[n+s]=r[s]^this._lastCipherblock[s];a(e,this._lastCipherblock,0,n,n+16)}return t};var A=function(e,t,r){if(!(this instanceof A))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=o(16);r||(r=1),this.segmentSize=r,this._shiftRegister=i(t,!0),this._aes=new P(e)};A.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)r[n+o]^=t[o];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},A.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)r[n+o]^=t[o];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var T=function(e,t){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastPrecipher=i(t,!0),this._lastPrecipherIndex=16,this._aes=new P(e)};T.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},T.prototype.decrypt=T.prototype.encrypt;var R=function(e){if(!(this instanceof R))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=o(16),this.setValue(e)):this.setBytes(e)};R.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},R.prototype.setBytes=function(e){if(16!=(e=i(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},R.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var I=function(e,t){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof R||(t=new R(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new P(e)};I.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},I.prototype.decrypt=I.prototype.encrypt,e.exports={AES:P,Counter:R,ModeOfOperation:{ecb:x,cbc:O,cfb:A,ofb:T,ctr:I},utils:{hex:l,utf8:c},padding:{pkcs7:{pad:function(e){var t=16-(e=i(e,!0)).length%16,r=o(e.length+t);a(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=i(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var s=o(r);return a(e,s,0,0,r),s}}},_arrayTest:{coerceArray:i,createArray:o,copyArray:a}}}()}))),vr=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="json-wallets/5.0.5"})),wr=(o(vr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.looseArrayify=function(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),h.arrayify(e)},t.zpad=function(e,t){for(e=String(e);e.length<t;)e="0"+e;return e},t.getPassword=function(e){return"string"==typeof e?K.toUtf8Bytes(e,K.UnicodeNormalizationForm.NFKC):h.arrayify(e)},t.searchPath=function(e,t){for(var r=e,n=t.toLowerCase().split("/"),i=0;i<n.length;i++){var o=null;for(var a in r)if(a.toLowerCase()===n[i]){o=r[a];break}if(null===o)return null;r=o}return r},t.uuidV4=function(e){var t=h.arrayify(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;var r=h.hexlify(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}}))),_r=(o(wr),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(yr),s=new f.Logger(vr.version),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.isCrowdsaleAccount=function(e){return!(!e||!e._isCrowdsaleAccount)},t}(v.Description);t.CrowdsaleAccount=c,t.decrypt=function(e,t){var r=JSON.parse(e);t=wr.getPassword(t);var n=x.getAddress(wr.searchPath(r,"ethaddr")),i=wr.looseArrayify(wr.searchPath(r,"encseed"));i&&i.length%16==0||s.throwArgumentError("invalid encseed","json",e);for(var o=h.arrayify(wt.pbkdf2(t,t,2e3,32,"sha256")).slice(0,16),l=i.slice(0,16),u=i.slice(16),f=new a.default.ModeOfOperation.cbc(o,l),d=a.default.padding.pkcs7.strip(h.arrayify(f.decrypt(u))),p="",b=0;b<d.length;b++)p+=String.fromCharCode(d[b]);var m=K.toUtf8Bytes(p),g=S.keccak256(m);return new c({_isCrowdsaleAccount:!0,address:n,privateKey:g})}}))),Mr=(o(_r),a((function(e,t){function r(e){var t=null;try{t=JSON.parse(e)}catch(r){return!1}return t.encseed&&t.ethaddr}function n(e){var t=null;try{t=JSON.parse(e)}catch(r){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}Object.defineProperty(t,"__esModule",{value:!0}),t.isCrowdsaleWallet=r,t.isKeystoreWallet=n,t.getJsonWalletAddress=function(e){if(r(e))try{return x.getAddress(JSON.parse(e).ethaddr)}catch(t){return null}if(n(e))try{return x.getAddress(JSON.parse(e).address)}catch(t){return null}return null}}))),kr=(o(Mr),a((function(e,t){!function(t){function r(e){const t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let r=1779033703,n=3144134277,i=1013904242,o=2773480762,a=1359893119,s=2600822924,c=528734635,l=1541459225;const u=new Uint32Array(64);function f(e){let f=0,d=e.length;for(;d>=64;){let h,p,b,m,g,y=r,v=n,w=i,_=o,M=a,k=s,S=c,C=l;for(p=0;p<16;p++)b=f+4*p,u[p]=(255&e[b])<<24|(255&e[b+1])<<16|(255&e[b+2])<<8|255&e[b+3];for(p=16;p<64;p++)h=u[p-2],m=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,h=u[p-15],g=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,u[p]=(m+u[p-7]|0)+(g+u[p-16]|0)|0;for(p=0;p<64;p++)m=(((M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))+(M&k^~M&S)|0)+(C+(t[p]+u[p]|0)|0)|0,g=((y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10))+(y&v^y&w^v&w)|0,C=S,S=k,k=M,M=_+m|0,_=w,w=v,v=y,y=m+g|0;r=r+y|0,n=n+v|0,i=i+w|0,o=o+_|0,a=a+M|0,s=s+k|0,c=c+S|0,l=l+C|0,f+=64,d-=64}}f(e);let d,h=e.length%64,p=e.length/536870912|0,b=e.length<<3,m=h<56?56:120,g=e.slice(e.length-h,e.length);for(g.push(128),d=h+1;d<m;d++)g.push(0);return g.push(p>>>24&255),g.push(p>>>16&255),g.push(p>>>8&255),g.push(p>>>0&255),g.push(b>>>24&255),g.push(b>>>16&255),g.push(b>>>8&255),g.push(b>>>0&255),f(g),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255,l>>>24&255,l>>>16&255,l>>>8&255,l>>>0&255]}function n(e,t,n){e=e.length<=64?e:r(e);const i=64+t.length+4,o=new Array(i),a=new Array(64);let s,c=[];for(s=0;s<64;s++)o[s]=54;for(s=0;s<e.length;s++)o[s]^=e[s];for(s=0;s<t.length;s++)o[64+s]=t[s];for(s=i-4;s<i;s++)o[s]=0;for(s=0;s<64;s++)a[s]=92;for(s=0;s<e.length;s++)a[s]^=e[s];function l(){for(let e=i-1;e>=i-4;e--){if(o[e]++,o[e]<=255)return;o[e]=0}}for(;n>=32;)l(),c=c.concat(r(a.concat(r(o)))),n-=32;return n>0&&(l(),c=c.concat(r(a.concat(r(o))).slice(0,n))),c}function o(e,t,r,n,i){let o;for(l(e,16*(2*r-1),i,0,16),o=0;o<2*r;o++)c(e,16*o,i,16),s(i,n),l(i,0,e,t+16*o,16);for(o=0;o<r;o++)l(e,t+2*o*16,e,16*o,16);for(o=0;o<r;o++)l(e,t+16*(2*o+1),e,16*(o+r),16)}function a(e,t){return e<<t|e>>>32-t}function s(e,t){l(e,0,t,0,16);for(let r=8;r>0;r-=2)t[4]^=a(t[0]+t[12],7),t[8]^=a(t[4]+t[0],9),t[12]^=a(t[8]+t[4],13),t[0]^=a(t[12]+t[8],18),t[9]^=a(t[5]+t[1],7),t[13]^=a(t[9]+t[5],9),t[1]^=a(t[13]+t[9],13),t[5]^=a(t[1]+t[13],18),t[14]^=a(t[10]+t[6],7),t[2]^=a(t[14]+t[10],9),t[6]^=a(t[2]+t[14],13),t[10]^=a(t[6]+t[2],18),t[3]^=a(t[15]+t[11],7),t[7]^=a(t[3]+t[15],9),t[11]^=a(t[7]+t[3],13),t[15]^=a(t[11]+t[7],18),t[1]^=a(t[0]+t[3],7),t[2]^=a(t[1]+t[0],9),t[3]^=a(t[2]+t[1],13),t[0]^=a(t[3]+t[2],18),t[6]^=a(t[5]+t[4],7),t[7]^=a(t[6]+t[5],9),t[4]^=a(t[7]+t[6],13),t[5]^=a(t[4]+t[7],18),t[11]^=a(t[10]+t[9],7),t[8]^=a(t[11]+t[10],9),t[9]^=a(t[8]+t[11],13),t[10]^=a(t[9]+t[8],18),t[12]^=a(t[15]+t[14],7),t[13]^=a(t[12]+t[15],9),t[14]^=a(t[13]+t[12],13),t[15]^=a(t[14]+t[13],18);for(let r=0;r<16;++r)e[r]+=t[r]}function c(e,t,r,n){for(let i=0;i<n;i++)r[i]^=e[t+i]}function l(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}function u(e){if(!e||"number"!=typeof e.length)return!1;for(let t=0;t<e.length;t++){const r=e[t];if("number"!=typeof r||r%1||r<0||r>=256)return!1}return!0}function f(e,t){if("number"!=typeof e||e%1)throw new Error("invalid "+t);return e}function d(e,t,r,a,s,d,h){if(r=f(r,"N"),a=f(a,"r"),s=f(s,"p"),d=f(d,"dkLen"),0===r||0!=(r&r-1))throw new Error("N must be power of 2");if(r>2147483647/128/a)throw new Error("N too large");if(a>2147483647/128/s)throw new Error("r too large");if(!u(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!u(t))throw new Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);let p=n(e,t,128*s*a);const b=new Uint32Array(32*s*a);for(let n=0;n<b.length;n++){const e=4*n;b[n]=(255&p[e+3])<<24|(255&p[e+2])<<16|(255&p[e+1])<<8|(255&p[e+0])<<0}const m=new Uint32Array(64*a),g=new Uint32Array(32*a*r),y=32*a,v=new Uint32Array(16),w=new Uint32Array(16),_=s*r*2;let M,k,S=0,C=null,E=!1,P=0,x=0;const O=h?parseInt(1e3/a):4294967295,A=void 0!==i?i:setTimeout,T=function(){if(E)return h(new Error("cancelled"),S/_);let t;switch(P){case 0:k=32*x*a,l(b,k,m,0,y),P=1,M=0;case 1:t=r-M,t>O&&(t=O);for(let e=0;e<t;e++)l(m,0,g,(M+e)*y,y),o(m,y,a,v,w);if(M+=t,S+=t,h){const e=parseInt(1e3*S/_);if(e!==C){if(E=h(null,S/_),E)break;C=e}}if(M<r)break;M=0,P=2;case 2:t=r-M,t>O&&(t=O);for(let e=0;e<t;e++)c(g,(m[16*(2*a-1)]&r-1)*y,m,y),o(m,y,a,v,w);if(M+=t,S+=t,h){const e=parseInt(1e3*S/_);if(e!==C){if(E=h(null,S/_),E)break;C=e}}if(M<r)break;if(l(m,0,b,k,y),x++,x<s){P=0;break}p=[];for(let e=0;e<b.length;e++)p.push(b[e]>>0&255),p.push(b[e]>>8&255),p.push(b[e]>>16&255),p.push(b[e]>>24&255);const i=n(e,p,d);return h&&h(null,1,i),i}h&&A(T)};if(!h)for(;;){const e=T();if(null!=e)return e}T()}e.exports={scrypt:function(e,t,r,n,i,o,a){return new Promise((function(s,c){let l=0;a&&a(0),d(e,t,r,n,i,o,(function(e,t,r){if(e)c(e);else if(r)a&&1!==l&&a(1),s(new Uint8Array(r));else if(a&&t!==l)return l=t,a(t)}))}))},syncScrypt:function(e,t,r,n,i,o){return new Uint8Array(d(e,t,r,n,i,o))}}}()}))),Sr=a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r&&r.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=r&&r.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},c=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l=s(yr),u=c(kr),d=new f.Logger(vr.version);function p(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.isKeystoreAccount=function(e){return!(!e||!e._isKeystoreAccount)},t}(v.Description);function m(e,t){var r=wr.looseArrayify(wr.searchPath(e,"crypto/ciphertext"));if(h.hexlify(S.keccak256(h.concat([t.slice(16,32),r]))).substring(2)!==wr.searchPath(e,"crypto/mac").toLowerCase())throw new Error("invalid password");var n=function(e,t,r){if("aes-128-ctr"===wr.searchPath(e,"crypto/cipher")){var n=wr.looseArrayify(wr.searchPath(e,"crypto/cipherparams/iv")),i=new l.default.Counter(n),o=new l.default.ModeOfOperation.ctr(t,i);return h.arrayify(o.decrypt(r))}return null}(e,t.slice(0,16),r);n||d.throwError("unsupported cipher",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});var i=t.slice(32,64),o=cr.computeAddress(n);if(e.address){var a=e.address.toLowerCase();if("0x"!==a.substring(0,2)&&(a="0x"+a),x.getAddress(a)!==o)throw new Error("address mismatch")}var s={_isKeystoreAccount:!0,address:o,privateKey:h.hexlify(n)};if("0.1"===wr.searchPath(e,"x-ethers/version")){var c=wr.looseArrayify(wr.searchPath(e,"x-ethers/mnemonicCiphertext")),u=wr.looseArrayify(wr.searchPath(e,"x-ethers/mnemonicCounter")),p=new l.default.Counter(u),m=new l.default.ModeOfOperation.ctr(i,p),g=wr.searchPath(e,"x-ethers/path")||pr.defaultPath,y=wr.searchPath(e,"x-ethers/locale")||"en",v=h.arrayify(m.decrypt(c));try{var w=pr.entropyToMnemonic(v,y),_=pr.HDNode.fromMnemonic(w,null,y).derivePath(g);if(_.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=_.mnemonic}catch(M){if(M.code!==f.Logger.errors.INVALID_ARGUMENT||"wordlist"!==M.argument)throw M}}return new b(s)}function g(e,t,r,n,i){return h.arrayify(wt.pbkdf2(e,t,r,n,i))}function y(e,t,r,n,i){return Promise.resolve(g(e,t,r,n,i))}function w(e,t,r,n,i){var o=wr.getPassword(t),a=wr.searchPath(e,"crypto/kdf");if(a&&"string"==typeof a){var s=function(e,t){return d.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===a.toLowerCase()){var c=wr.looseArrayify(wr.searchPath(e,"crypto/kdfparams/salt")),l=parseInt(wr.searchPath(e,"crypto/kdfparams/n")),u=parseInt(wr.searchPath(e,"crypto/kdfparams/r")),f=parseInt(wr.searchPath(e,"crypto/kdfparams/p"));return l&&u&&f||s("kdf",a),0!=(l&l-1)&&s("N",l),32!==(b=parseInt(wr.searchPath(e,"crypto/kdfparams/dklen")))&&s("dklen",b),n(o,c,l,u,f,64,i)}if("pbkdf2"===a.toLowerCase()){c=wr.looseArrayify(wr.searchPath(e,"crypto/kdfparams/salt"));var h=null,p=wr.searchPath(e,"crypto/kdfparams/prf");"hmac-sha256"===p?h="sha256":"hmac-sha512"===p?h="sha512":s("prf",p);var b,m=parseInt(wr.searchPath(e,"crypto/kdfparams/c"));return 32!==(b=parseInt(wr.searchPath(e,"crypto/kdfparams/dklen")))&&s("dklen",b),r(o,c,m,b,h)}}return d.throwArgumentError("unsupported key-derivation function","kdf",a)}t.KeystoreAccount=b,t.decryptSync=function(e,t){var r=JSON.parse(e);return m(r,w(r,t,g,u.syncScrypt))},t.decrypt=function(e,t,r){return o(this,void 0,void 0,(function(){var n,i;return a(this,(function(o){switch(o.label){case 0:return[4,w(n=JSON.parse(e),t,y,u.scrypt,r)];case 1:return i=o.sent(),[2,m(n,i)]}}))}))},t.encrypt=function(e,t,r,n){try{if(x.getAddress(e.address)!==cr.computeAddress(e.privateKey))throw new Error("address/privateKey mismatch");if(p(e)){var i=e.mnemonic;if(pr.HDNode.fromMnemonic(i.phrase,null,i.locale).derivePath(i.path||pr.defaultPath).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(M){return Promise.reject(M)}"function"!=typeof r||n||(n=r,r={}),r||(r={});var o=h.arrayify(e.privateKey),a=wr.getPassword(t),s=null,c=null,f=null;if(p(e)){var d=e.mnemonic;s=h.arrayify(pr.mnemonicToEntropy(d.phrase,d.locale||"en")),c=d.path||pr.defaultPath,f=d.locale||"en"}var b,m=r.client;m||(m="ethers.js"),b=r.salt?h.arrayify(r.salt):gr.randomBytes(32);var g=null;if(r.iv){if(16!==(g=h.arrayify(r.iv)).length)throw new Error("invalid iv")}else g=gr.randomBytes(16);var y=null;if(r.uuid){if(16!==(y=h.arrayify(r.uuid)).length)throw new Error("invalid uuid")}else y=gr.randomBytes(16);var v=1<<17,w=8,_=1;return r.scrypt&&(r.scrypt.N&&(v=r.scrypt.N),r.scrypt.r&&(w=r.scrypt.r),r.scrypt.p&&(_=r.scrypt.p)),u.scrypt(a,b,v,w,_,64,n).then((function(t){var r=(t=h.arrayify(t)).slice(0,16),n=t.slice(16,32),i=t.slice(32,64),a=new l.default.Counter(g),u=new l.default.ModeOfOperation.ctr(r,a),d=h.arrayify(u.encrypt(o)),p=S.keccak256(h.concat([n,d])),M={address:e.address.substring(2).toLowerCase(),id:wr.uuidV4(y),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:h.hexlify(g).substring(2)},ciphertext:h.hexlify(d).substring(2),kdf:"scrypt",kdfparams:{salt:h.hexlify(b).substring(2),n:v,dklen:32,p:_,r:w},mac:p.substring(2)}};if(s){var k=gr.randomBytes(16),C=new l.default.Counter(k),E=new l.default.ModeOfOperation.ctr(i,C),P=h.arrayify(E.encrypt(s)),x=new Date,O=x.getUTCFullYear()+"-"+wr.zpad(x.getUTCMonth()+1,2)+"-"+wr.zpad(x.getUTCDate(),2)+"T"+wr.zpad(x.getUTCHours(),2)+"-"+wr.zpad(x.getUTCMinutes(),2)+"-"+wr.zpad(x.getUTCSeconds(),2)+".0Z";M["x-ethers"]={client:m,gethFilename:"UTC--"+O+"--"+M.address,mnemonicCounter:h.hexlify(k).substring(2),mnemonicCiphertext:h.hexlify(P).substring(2),path:c,locale:f,version:"0.1"}}return JSON.stringify(M)}))}})),Cr=(o(Sr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decryptCrowdsale=_r.decrypt,t.getJsonWalletAddress=Mr.getJsonWalletAddress,t.isCrowdsaleWallet=Mr.isCrowdsaleWallet,t.isKeystoreWallet=Mr.isKeystoreWallet,t.decryptKeystore=Sr.decrypt,t.decryptKeystoreSync=Sr.decryptSync,t.encryptKeystore=Sr.encrypt,t.decryptJsonWallet=function(e,t,r){if(Mr.isCrowdsaleWallet(e)){r&&r(0);var n=_r.decrypt(e,t);return r&&r(1),Promise.resolve(n)}return Mr.isKeystoreWallet(e)?Sr.decrypt(e,t,r):Promise.reject(new Error("invalid JSON wallet"))},t.decryptJsonWalletSync=function(e,t){if(Mr.isCrowdsaleWallet(e))return _r.decrypt(e,t);if(Mr.isKeystoreWallet(e))return Sr.decryptSync(e,t);throw new Error("invalid JSON wallet")}}))),Er=(o(Cr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="wallet/5.0.3"}))),Pr=(o(Er),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=new f.Logger(Er.version),a=function(e){function t(r,n){var i,a;if(o.checkNew(this.constructor,t),i=e.call(this)||this,null!=(a=r)&&h.isHexString(a.privateKey,32)&&null!=a.address){var s=new ar.SigningKey(r.privateKey);if(v.defineReadOnly(i,"_signingKey",(function(){return s})),v.defineReadOnly(i,"address",cr.computeAddress(i.publicKey)),i.address!==x.getAddress(r.address)&&o.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){var t=e.mnemonic;return t&&t.phrase}(r)){var c=r.mnemonic;v.defineReadOnly(i,"_mnemonic",(function(){return{phrase:c.phrase,path:c.path||pr.defaultPath,locale:c.locale||"en"}}));var l=i.mnemonic,u=pr.HDNode.fromMnemonic(l.phrase,null,l.locale).derivePath(l.path);cr.computeAddress(u.privateKey)!==i.address&&o.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else v.defineReadOnly(i,"_mnemonic",(function(){return null}))}else{if(ar.SigningKey.isSigningKey(r))"secp256k1"!==r.curve&&o.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),v.defineReadOnly(i,"_signingKey",(function(){return r}));else{var f=new ar.SigningKey(r);v.defineReadOnly(i,"_signingKey",(function(){return f}))}v.defineReadOnly(i,"_mnemonic",(function(){return null})),v.defineReadOnly(i,"address",cr.computeAddress(i.publicKey))}return n&&!X.Provider.isProvider(n)&&o.throwArgumentError("invalid provider","provider",n),v.defineReadOnly(i,"provider",n||null),i}return i(t,e),Object.defineProperty(t.prototype,"mnemonic",{get:function(){return this._mnemonic()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"privateKey",{get:function(){return this._signingKey().privateKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"publicKey",{get:function(){return this._signingKey().publicKey},enumerable:!0,configurable:!0}),t.prototype.getAddress=function(){return Promise.resolve(this.address)},t.prototype.connect=function(e){return new t(this,e)},t.prototype.signTransaction=function(e){var t=this;return v.resolveProperties(e).then((function(r){null!=r.from&&(x.getAddress(r.from)!==t.address&&o.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);var n=t._signingKey().signDigest(S.keccak256(cr.serialize(r)));return cr.serialize(r,n)}))},t.prototype.signMessage=function(e){return Promise.resolve(h.joinSignature(this._signingKey().signDigest(W.hashMessage(e))))},t.prototype.encrypt=function(e,t,r){if("function"!=typeof t||r||(r=t,t={}),r&&"function"!=typeof r)throw new Error("invalid callback");return t||(t={}),Cr.encryptKeystore(this,e,t,r)},t.createRandom=function(e){var r=gr.randomBytes(16);e||(e={}),e.extraEntropy&&(r=h.arrayify(h.hexDataSlice(S.keccak256(h.concat([r,e.extraEntropy])),0,16)));var n=pr.entropyToMnemonic(r,e.locale);return t.fromMnemonic(n,e.path,e.locale)},t.fromEncryptedJson=function(e,r,n){return Cr.decryptJsonWallet(e,r,n).then((function(e){return new t(e)}))},t.fromEncryptedJsonSync=function(e,r){return new t(Cr.decryptJsonWalletSync(e,r))},t.fromMnemonic=function(e,r,n){return r||(r=pr.defaultPath),new t(pr.HDNode.fromMnemonic(e,null,n).derivePath(r))},t}(Q.Signer);t.Wallet=a,t.verifyMessage=function(e,t){return cr.recoverAddress(W.hashMessage(e),t)}}))),xr=(o(Pr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="networks/5.0.3"}))),Or=(o(xr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new f.Logger(xr.version);function n(e){var t=function(t,r){null==r&&(r={});var n=[];if(t.InfuraProvider)try{n.push(new t.InfuraProvider(e,r.infura))}catch(o){}if(t.EtherscanProvider)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(o){}if(t.AlchemyProvider)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(o){}if(t.CloudflareProvider)try{n.push(new t.CloudflareProvider(e))}catch(o){}if(0===n.length)return null;if(t.FallbackProvider){var i=1;return null!=r.quorum?i=r.quorum:"homestead"===e&&(i=2),new t.FallbackProvider(n,i)}return n[0]};return t.renetwork=function(e){return n(e)},t}function i(e,t){var r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return i(e,t)},r}var o={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:n("homestead")},a={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:n("ropsten")},s={chainId:63,name:"classicMordor",_defaultProvider:i("https://www.ethercluster.com/mordor","classicMordor")},c={unspecified:{chainId:0,name:"unspecified"},homestead:o,mainnet:o,morden:{chainId:2,name:"morden"},ropsten:a,testnet:a,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:n("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:n("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:n("goerli")},classic:{chainId:61,name:"classic",_defaultProvider:i("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:s,classicTestnet:s,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:i("https://www.ethercluster.com/kotti","classicKotti")}};t.getNetwork=function(e){if(null==e)return null;if("number"==typeof e){for(var t in c){var n=c[t];if(n.chainId===e)return{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress||null,_defaultProvider:n._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){var i=c[e];return null==i?null:{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress,_defaultProvider:i._defaultProvider||null}}var o=c[e.name];if(!o)return"number"!=typeof e.chainId&&r.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==o.chainId&&r.throwArgumentError("network chainId mismatch","network",e);var a,s=e._defaultProvider||null;return null==s&&o._defaultProvider&&(s=(a=o._defaultProvider)&&"function"==typeof a.renetwork?o._defaultProvider.renetwork(e):o._defaultProvider),{name:e.name,chainId:o.chainId,ensAddress:e.ensAddress||o.ensAddress||null,_defaultProvider:s}}}))),Ar=(o(Or),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){e=atob(e);for(var t=[],r=0;r<e.length;r++)t.push(e.charCodeAt(r));return h.arrayify(t)},t.encode=function(e){e=h.arrayify(e);for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}}))),Tr=(o(Ar),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="web/5.0.4"}))),Rr=(o(Tr),a((function(e,t){var n=r&&r.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=r&&r.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getUrl=function(e,t){return n(this,void 0,void 0,(function(){var r,n,o;return i(this,(function(i){switch(i.label){case 0:return null==t&&(t={}),[4,fetch(e,{method:t.method||"GET",headers:t.headers||{},body:t.body||void 0,mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrer:"client"})];case 1:return[4,(r=i.sent()).arrayBuffer()];case 2:return n=i.sent(),o={},r.headers.forEach?r.headers.forEach((function(e,t){o[t.toLowerCase()]=e})):r.headers.keys().forEach((function(e){o[e.toLowerCase()]=r.headers.get(e)})),[2,{headers:o,statusCode:r.status,statusMessage:r.statusText,body:h.arrayify(new Uint8Array(n))}]}}))}))}}))),Ir=(o(Rr),a((function(e,t){var n=r&&r.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=r&&r.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=new f.Logger(Tr.version);function a(e){return new Promise((function(t){setTimeout(t,e)}))}function s(e,t,r){var s="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;o.assertArgument(s>0&&s%1==0,"invalid connection throttle limit","connection.throttleLimit",s);var c="object"==typeof e?e.throttleCallback:null,l="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;o.assertArgument(l>0&&l%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",l);var u={},d=null,h={method:"GET"},p=!1,b=12e4;if("string"==typeof e)d=e;else if("object"==typeof e){if(null!=e&&null!=e.url||o.throwArgumentError("missing URL","connection.url",e),d=e.url,"number"==typeof e.timeout&&e.timeout>0&&(b=e.timeout),e.headers)for(var m in e.headers)u[m.toLowerCase()]={key:m,value:String(e.headers[m])},["if-none-match","if-modified-since"].indexOf(m.toLowerCase())>=0&&(p=!0);null!=e.user&&null!=e.password&&("https:"!==d.substring(0,6)&&!0!==e.allowInsecureAuthentication&&o.throwError("basic authentication requires a secure https url",f.Logger.errors.INVALID_ARGUMENT,{argument:"url",url:d,user:e.user,password:"[REDACTED]"}),u.authorization={key:"Authorization",value:"Basic "+Ar.encode(K.toUtf8Bytes(e.user+":"+e.password))})}t&&(h.method="POST",h.body=t,null==u["content-type"]&&(u["content-type"]={key:"Content-Type",value:"application/octet-stream"}));var g={};Object.keys(u).forEach((function(e){var t=u[e];g[t.key]=t.value})),h.headers=g;var y,v=(y=null,{promise:new Promise((function(e,t){b&&(y=setTimeout((function(){null!=y&&(y=null,t(o.makeError("timeout",f.Logger.errors.TIMEOUT,{requestBody:h.body||null,requestMethod:h.method,timeout:b,url:d})))}),b))})),cancel:function(){null!=y&&(clearTimeout(y),y=null)}}),w=function(){return n(this,void 0,void 0,(function(){var e,t,n,u,b,m,g,y;return i(this,(function(i){switch(i.label){case 0:e=0,i.label=1;case 1:if(!(e<s))return[3,19];t=null,i.label=2;case 2:return i.trys.push([2,8,,9]),[4,Rr.getUrl(d,h)];case 3:return 429===(t=i.sent()).statusCode&&e<s?(y=!0,c?[4,c(e,d)]:[3,5]):[3,7];case 4:y=i.sent(),i.label=5;case 5:return y?[4,a("string"==typeof(n=t.headers["retry-after"])&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):l*parseInt(String(Math.random()*Math.pow(2,e))))]:[3,7];case 6:return i.sent(),[3,18];case 7:return[3,9];case 8:return u=i.sent(),null==(t=u.response)&&(v.cancel(),o.throwError("missing response",f.Logger.errors.SERVER_ERROR,{requestBody:h.body||null,requestMethod:h.method,serverError:u,url:d})),[3,9];case 9:if(b=t.body,p&&304===t.statusCode?b=null:(t.statusCode<200||t.statusCode>=300)&&(v.cancel(),o.throwError("bad response",f.Logger.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:b,requestBody:h.body||null,requestMethod:h.method,url:d})),!r)return[3,17];i.label=10;case 10:return i.trys.push([10,12,,17]),[4,r(b,t)];case 11:return m=i.sent(),v.cancel(),[2,m];case 12:return(g=i.sent()).throttleRetry&&e<s?(y=!0,c?[4,c(e,d)]:[3,14]):[3,16];case 13:y=i.sent(),i.label=14;case 14:return y?[4,a(l*parseInt(String(Math.random()*Math.pow(2,e))))]:[3,16];case 15:return i.sent(),[3,18];case 16:return v.cancel(),o.throwError("processing response error",f.Logger.errors.SERVER_ERROR,{body:b,error:g,requestBody:h.body||null,requestMethod:h.method,url:d}),[3,17];case 17:return v.cancel(),[2,b];case 18:return e++,[3,1];case 19:return[2,o.throwError("failed response",f.Logger.errors.SERVER_ERROR,{requestBody:h.body||null,requestMethod:h.method,url:d})]}}))}))}();return Promise.race([v.promise,w])}t._fetchData=s,t.fetchJson=function(e,t,r){var n=null;if(null!=t){n=K.toUtf8Bytes(t);var i="string"==typeof e?{url:e}:v.shallowCopy(e);i.headers?0!==Object.keys(i.headers).filter((function(e){return"content-type"===e.toLowerCase()})).length||(i.headers=v.shallowCopy(i.headers),i.headers["content-type"]="application/json"):i.headers={"content-type":"application/json"},e=i}return s(e,n,(function(e,t){var n=null;if(null!=e)try{n=JSON.parse(K.toUtf8String(e))}catch(i){o.throwError("invalid JSON",f.Logger.errors.SERVER_ERROR,{body:e,error:i})}return r&&(n=r(n,t)),n}))},t.poll=function(e,t){return t||(t={}),null==(t=v.shallowCopy(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(r,n){var i=null,o=!1,a=function(){return!o&&(o=!0,i&&clearTimeout(i),!0)};t.timeout&&(i=setTimeout((function(){a()&&n(new Error("timeout"))}),t.timeout));var s=t.retryLimit,c=0;!function i(){return e().then((function(e){if(void 0!==e)a()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!o){if(++c>s)return void(a()&&n(new Error("retry limit reached")));var l=t.interval*parseInt(String(Math.random()*Math.pow(2,c)));l<t.floor&&(l=t.floor),l>t.ceiling&&(l=t.ceiling),setTimeout(i,l)}return null}),(function(e){a()&&n(e)}))}()}))}}))),Nr=(o(Ir),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="providers/5.0.6"}))),Br=(o(Nr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new f.Logger(Nr.version),n=function(){function e(){r.checkNew(this.constructor,e),this.formats=this.getDefaultFormats()}return e.prototype.getDefaultFormats=function(){var t=this,r={},n=this.address.bind(this),i=this.bigNumber.bind(this),o=this.blockTag.bind(this),a=this.data.bind(this),s=this.hash.bind(this),c=this.hex.bind(this),l=this.number.bind(this);return r.transaction={hash:s,blockHash:e.allowNull(s,null),blockNumber:e.allowNull(l,null),transactionIndex:e.allowNull(l,null),confirmations:e.allowNull(l,null),from:n,gasPrice:i,gasLimit:i,to:e.allowNull(n,null),value:i,nonce:l,data:a,r:e.allowNull(this.uint256),s:e.allowNull(this.uint256),v:e.allowNull(l),creates:e.allowNull(n,null),raw:e.allowNull(a)},r.transactionRequest={from:e.allowNull(n),nonce:e.allowNull(l),gasLimit:e.allowNull(i),gasPrice:e.allowNull(i),to:e.allowNull(n),value:e.allowNull(i),data:e.allowNull((function(e){return t.data(e,!0)}))},r.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:s,address:n,topics:e.arrayOf(s),data:a,logIndex:l,blockHash:s},r.receipt={to:e.allowNull(this.address,null),from:e.allowNull(this.address,null),contractAddress:e.allowNull(n,null),transactionIndex:l,root:e.allowNull(s),gasUsed:i,logsBloom:e.allowNull(a),blockHash:s,transactionHash:s,logs:e.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:e.allowNull(l,null),cumulativeGasUsed:i,status:e.allowNull(l)},r.block={hash:s,parentHash:s,number:l,timestamp:l,nonce:e.allowNull(c),difficulty:this.difficulty.bind(this),gasLimit:i,gasUsed:i,miner:n,extraData:a,transactions:e.allowNull(e.arrayOf(s))},r.blockWithTransactions=v.shallowCopy(r.block),r.blockWithTransactions.transactions=e.allowNull(e.arrayOf(this.transactionResponse.bind(this))),r.filter={fromBlock:e.allowNull(o,void 0),toBlock:e.allowNull(o,void 0),blockHash:e.allowNull(s,void 0),address:e.allowNull(n,void 0),topics:e.allowNull(this.topics.bind(this),void 0)},r.filterLog={blockNumber:e.allowNull(l),blockHash:e.allowNull(s),transactionIndex:l,removed:e.allowNull(this.boolean.bind(this)),address:n,data:e.allowFalsish(a,"0x"),topics:e.arrayOf(s),transactionHash:s,logIndex:l},r},e.prototype.number=function(e){return g.BigNumber.from(e).toNumber()},e.prototype.bigNumber=function(e){return g.BigNumber.from(e)},e.prototype.boolean=function(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)},e.prototype.hex=function(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),h.isHexString(e))?e.toLowerCase():r.throwArgumentError("invalid hash","value",e)},e.prototype.data=function(e,t){var r=this.hex(e,t);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+e);return r},e.prototype.address=function(e){return x.getAddress(e)},e.prototype.callAddress=function(e){if(!h.isHexString(e,32))return null;var t=x.getAddress(h.hexDataSlice(e,12));return t===D.AddressZero?null:t},e.prototype.contractAddress=function(e){return x.getContractAddress(e)},e.prototype.blockTag=function(e){if(null==e)return"latest";if("earliest"===e)return"0x0";if("latest"===e||"pending"===e)return e;if("number"==typeof e||h.isHexString(e))return h.hexValue(e);throw new Error("invalid blockTag")},e.prototype.hash=function(e,t){var n=this.hex(e,t);return 32!==h.hexDataLength(n)?r.throwArgumentError("invalid hash","value",e):n},e.prototype.difficulty=function(e){if(null==e)return null;var t=g.BigNumber.from(e);try{return t.toNumber()}catch(r){}return null},e.prototype.uint256=function(e){if(!h.isHexString(e))throw new Error("invalid uint256");return h.hexZeroPad(e,32)},e.prototype._block=function(t,r){return null!=t.author&&null==t.miner&&(t.miner=t.author),e.check(r,t)},e.prototype.block=function(e){return this._block(e,this.formats.block)},e.prototype.blockWithTransactions=function(e){return this._block(e,this.formats.blockWithTransactions)},e.prototype.transactionRequest=function(t){return e.check(this.formats.transactionRequest,t)},e.prototype.transactionResponse=function(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&g.BigNumber.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t));var r,n=e.check(this.formats.transaction,t);return null!=t.chainId?(h.isHexString(r=t.chainId)&&(r=g.BigNumber.from(r).toNumber()),n.chainId=r):(null==(r=t.networkId)&&null==n.v&&(r=t.chainId),h.isHexString(r)&&(r=g.BigNumber.from(r).toNumber()),"number"!=typeof r&&null!=n.v&&((r=(n.v-35)/2)<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),n.chainId=r),n.blockHash&&"x"===n.blockHash.replace(/0/g,"")&&(n.blockHash=null),n},e.prototype.transaction=function(e){return cr.parse(e)},e.prototype.receiptLog=function(t){return e.check(this.formats.receiptLog,t)},e.prototype.receipt=function(t){var r=e.check(this.formats.receipt,t);return null!=t.status&&(r.byzantium=!0),r},e.prototype.topics=function(e){var t=this;return Array.isArray(e)?e.map((function(e){return t.topics(e)})):null!=e?this.hash(e,!0):null},e.prototype.filter=function(t){return e.check(this.formats.filter,t)},e.prototype.filterLog=function(t){return e.check(this.formats.filterLog,t)},e.check=function(e,t){var r={};for(var n in e)try{var i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(o){throw o.checkKey=n,o.checkValue=t[n],o}return r},e.allowNull=function(e,t){return function(r){return null==r?t:e(r)}},e.allowFalsish=function(e,t){return function(r){return r?e(r):t}},e.arrayOf=function(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");var r=[];return t.forEach((function(t){r.push(e(t))})),r}},e}();t.Formatter=n;var i=!1;t.showThrottleMessage=function(){i||(i=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}}))),Dr=(o(Br),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r&&r.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=r&&r.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=new f.Logger(Nr.version);function c(e){return null==e?"null":(32!==h.hexDataLength(e)&&s.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function l(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map((function(e){if(Array.isArray(e)){var t={};e.forEach((function(e){t[c(e)]=!0}));var r=Object.keys(t);return r.sort(),r.join("|")}return c(e)})).join("&")}function u(e){if("string"==typeof e){if(e=e.toLowerCase(),32===h.hexDataLength(e))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+l(e);if(X.ForkEvent.isForkEvent(e))throw s.warn("not implemented"),new Error("not implemented");if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+l(e.topics||[])}throw new Error("invalid event - "+e)}function d(){return(new Date).getTime()}var p=["block","network","pending","poll"],b=function(){function e(e,t,r){v.defineReadOnly(this,"tag",e),v.defineReadOnly(this,"listener",t),v.defineReadOnly(this,"once",r)}return Object.defineProperty(e.prototype,"event",{get:function(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.tag.split(":")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){var e=this.tag.split(":");return"tx"!==e[0]?null:e[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){var e=this.tag.split(":");if("filter"!==e[0])return null;var t,r=e[1],n=""===(t=e[2])?[]:t.split(/&/g).map((function(e){if(""===e)return[];var t=e.split("|").map((function(e){return"null"===e?null:e}));return 1===t.length?t[0]:t})),i={};return n.length>0&&(i.topics=n),r&&"*"!==r&&(i.address=r),i},enumerable:!0,configurable:!0}),e.prototype.pollable=function(){return this.tag.indexOf(":")>=0||p.indexOf(this.tag)>=0},e}();t.Event=b;var m=null,y=1,w=function(e){function t(t){var r=this.constructor,n=this;if(s.checkNew(r,X.Provider),(n=e.call(this)||this)._events=[],n._emitted={block:-2},n.formatter=r.getFormatter(),v.defineReadOnly(n,"anyNetwork","any"===t),n.anyNetwork&&(t=n.detectNetwork()),t instanceof Promise)n._networkPromise=t,t.catch((function(e){})),n._ready().catch((function(e){}));else{var i=v.getStatic(r,"getNetwork")(t);i?(v.defineReadOnly(n,"_network",i),n.emit("network",i,null)):s.throwArgumentError("invalid network","network",t)}return n._maxInternalBlockNumber=-1024,n._lastBlockNumber=-2,n._pollingInterval=4e3,n._fastQueryDate=0,n}return i(t,e),t.prototype._ready=function(){return o(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:if(null!=this._network)return[3,7];if(e=null,!this._networkPromise)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this._networkPromise];case 2:return e=t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return null!=e?[3,6]:[4,this.detectNetwork()];case 5:e=t.sent(),t.label=6;case 6:e||s.throwError("no network detected",f.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:v.defineReadOnly(this,"_network",e),this.emit("network",e,null)),t.label=7;case 7:return[2,this._network]}}))}))},Object.defineProperty(t.prototype,"ready",{get:function(){var e=this;return Ir.poll((function(){return e._ready().then((function(e){return e}),(function(e){if(e.code!==f.Logger.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}))},enumerable:!0,configurable:!0}),t.getFormatter=function(){return null==m&&(m=new Br.Formatter),m},t.getNetwork=function(e){return Or.getNetwork(null==e?"homestead":e)},t.prototype._getInternalBlockNumber=function(e){return o(this,void 0,void 0,(function(){var t,r,n,i,o=this;return a(this,(function(a){switch(a.label){case 0:return[4,this._ready()];case 1:return a.sent(),t=this._internalBlockNumber,e>0&&this._internalBlockNumber?[4,t]:[3,3];case 2:if(r=a.sent(),d()-r.respTime<=e)return[2,r.blockNumber];a.label=3;case 3:return n=d(),i=v.resolveProperties({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((function(e){return null}),(function(e){return e}))}).then((function(e){var t=e.blockNumber,r=e.networkError;if(r)throw o._internalBlockNumber===i&&(o._internalBlockNumber=null),r;var a=d();return(t=g.BigNumber.from(t).toNumber())<o._maxInternalBlockNumber&&(t=o._maxInternalBlockNumber),o._maxInternalBlockNumber=t,o._setFastBlockNumber(t),{blockNumber:t,reqTime:n,respTime:a}})),this._internalBlockNumber=i,[4,i];case 4:return[2,a.sent().blockNumber]}}))}))},t.prototype.poll=function(){return o(this,void 0,void 0,(function(){var e,t,r,n,i=this;return a(this,(function(o){switch(o.label){case 0:return e=y++,t=[],[4,this._getInternalBlockNumber(100+this.pollingInterval/2)];case 1:if(r=o.sent(),this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber)return this.emit("didPoll",e),[2];if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)s.warn("network block skew detected; skipping block events"),this.emit("error",s.makeError("network block skew detected",f.Logger.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(n=this._emitted.block+1;n<=r;n++)this.emit("block",n);return this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach((function(e){if("block"!==e){var t=i._emitted[e];"pending"!==t&&r-t>12&&delete i._emitted[e]}}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach((function(e){switch(e.type){case"tx":var n=e.hash,o=i.getTransactionReceipt(n).then((function(e){return e&&null!=e.blockNumber?(i._emitted["t:"+n]=e.blockNumber,i.emit(n,e),null):null})).catch((function(e){i.emit("error",e)}));t.push(o);break;case"filter":var a=e.filter;a.fromBlock=i._lastBlockNumber+1,a.toBlock=r,o=i.getLogs(a).then((function(e){0!==e.length&&e.forEach((function(e){i._emitted["b:"+e.blockHash]=e.blockNumber,i._emitted["t:"+e.transactionHash]=e.blockNumber,i.emit(a,e)}))})).catch((function(e){i.emit("error",e)})),t.push(o)}})),this._lastBlockNumber=r,Promise.all(t).then((function(){i.emit("didPoll",e)})),[2,null]}}))}))},t.prototype.resetEventsBlock=function(e){this._lastBlockNumber=e-1,this.polling&&this.poll()},Object.defineProperty(t.prototype,"network",{get:function(){return this._network},enumerable:!0,configurable:!0}),t.prototype.detectNetwork=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){return[2,s.throwError("provider does not support network detection",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})]}))}))},t.prototype.getNetwork=function(){return o(this,void 0,void 0,(function(){var e,t,r;return a(this,(function(n){switch(n.label){case 0:return[4,this._ready()];case 1:return e=n.sent(),[4,this.detectNetwork()];case 2:return t=n.sent(),e.chainId===t.chainId?[3,5]:this.anyNetwork?(this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),[4,new Promise((function(e){setTimeout(e,0)}))]):[3,4];case 3:return n.sent(),[2,this._network];case 4:throw r=s.makeError("underlying network changed",f.Logger.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t}),this.emit("error",r),r;case 5:return[2,e]}}))}))},Object.defineProperty(t.prototype,"blockNumber",{get:function(){var e=this;return this._getInternalBlockNumber(100+this.pollingInterval/2).then((function(t){e._setFastBlockNumber(t)})),null!=this._fastBlockNumber?this._fastBlockNumber:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"polling",{get:function(){return null!=this._poller},set:function(e){var t=this;e&&!this._poller?(this._poller=setInterval(this.poll.bind(this),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((function(){t.poll(),t._bootstrapPoll=setTimeout((function(){t._poller||t.poll(),t._bootstrapPoll=null}),t.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pollingInterval",{get:function(){return this._pollingInterval},set:function(e){var t=this;if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((function(){t.poll()}),this._pollingInterval))},enumerable:!0,configurable:!0}),t.prototype._getFastBlockNumber=function(){var e=this,t=d();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((function(t){return(null==e._fastBlockNumber||t>e._fastBlockNumber)&&(e._fastBlockNumber=t),e._fastBlockNumber}))),this._fastBlockNumberPromise},t.prototype._setFastBlockNumber=function(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=d(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))},t.prototype.waitForTransaction=function(e,t,r){return o(this,void 0,void 0,(function(){var n,i=this;return a(this,(function(o){switch(o.label){case 0:return null==t&&(t=1),[4,this.getTransactionReceipt(e)];case 1:return((n=o.sent())?n.confirmations:0)>=t?[2,n]:[2,new Promise((function(n,o){var a=null,c=!1,l=function(r){r.confirmations<t||(a&&clearTimeout(a),c||(c=!0,i.removeListener(e,l),n(r)))};i.on(e,l),"number"==typeof r&&r>0&&(a=setTimeout((function(){c||(a=null,c=!0,i.removeListener(e,l),o(s.makeError("timeout exceeded",f.Logger.errors.TIMEOUT,{timeout:r})))}),r)).unref&&a.unref()}))]}}))}))},t.prototype.getBlockNumber=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this._getInternalBlockNumber(0)]}))}))},t.prototype.getGasPrice=function(){return o(this,void 0,void 0,(function(){var e,t;return a(this,(function(r){switch(r.label){case 0:return[4,this.getNetwork()];case 1:return r.sent(),t=(e=g.BigNumber).from,[4,this.perform("getGasPrice",{})];case 2:return[2,t.apply(e,[r.sent()])]}}))}))},t.prototype.getBalance=function(e,t){return o(this,void 0,void 0,(function(){var r,n,i;return a(this,(function(o){switch(o.label){case 0:return[4,this.getNetwork()];case 1:return o.sent(),[4,v.resolveProperties({address:this._getAddress(e),blockTag:this._getBlockTag(t)})];case 2:return r=o.sent(),i=(n=g.BigNumber).from,[4,this.perform("getBalance",r)];case 3:return[2,i.apply(n,[o.sent()])]}}))}))},t.prototype.getTransactionCount=function(e,t){return o(this,void 0,void 0,(function(){var r,n,i;return a(this,(function(o){switch(o.label){case 0:return[4,this.getNetwork()];case 1:return o.sent(),[4,v.resolveProperties({address:this._getAddress(e),blockTag:this._getBlockTag(t)})];case 2:return r=o.sent(),i=(n=g.BigNumber).from,[4,this.perform("getTransactionCount",r)];case 3:return[2,i.apply(n,[o.sent()]).toNumber()]}}))}))},t.prototype.getCode=function(e,t){return o(this,void 0,void 0,(function(){var r,n;return a(this,(function(i){switch(i.label){case 0:return[4,this.getNetwork()];case 1:return i.sent(),[4,v.resolveProperties({address:this._getAddress(e),blockTag:this._getBlockTag(t)})];case 2:return r=i.sent(),n=h.hexlify,[4,this.perform("getCode",r)];case 3:return[2,n.apply(void 0,[i.sent()])]}}))}))},t.prototype.getStorageAt=function(e,t,r){return o(this,void 0,void 0,(function(){var n,i;return a(this,(function(o){switch(o.label){case 0:return[4,this.getNetwork()];case 1:return o.sent(),[4,v.resolveProperties({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then((function(e){return h.hexValue(e)}))})];case 2:return n=o.sent(),i=h.hexlify,[4,this.perform("getStorageAt",n)];case 3:return[2,i.apply(void 0,[o.sent()])]}}))}))},t.prototype._wrapTransaction=function(e,t){var r=this;if(null!=t&&32!==h.hexDataLength(t))throw new Error("invalid response - sendTransaction");var n=e;return null!=t&&e.hash!==t&&s.throwError("Transaction hash mismatch from Provider.sendTransaction.",f.Logger.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),n.wait=function(t){return o(r,void 0,void 0,(function(){var r;return a(this,(function(n){switch(n.label){case 0:return 0!==t&&(this._emitted["t:"+e.hash]="pending"),[4,this.waitForTransaction(e.hash,t)];case 1:return null==(r=n.sent())&&0===t?[2,null]:(this._emitted["t:"+e.hash]=r.blockNumber,0===r.status&&s.throwError("transaction failed",f.Logger.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:r}),[2,r])}}))}))},n},t.prototype.sendTransaction=function(e){return o(this,void 0,void 0,(function(){var t,r,n,i;return a(this,(function(o){switch(o.label){case 0:return[4,this.getNetwork()];case 1:return o.sent(),[4,Promise.resolve(e).then((function(e){return h.hexlify(e)}))];case 2:t=o.sent(),r=this.formatter.transaction(e),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,this.perform("sendTransaction",{signedTransaction:t})];case 4:return n=o.sent(),[2,this._wrapTransaction(r,n)];case 5:throw(i=o.sent()).transaction=r,i.transactionHash=r.hash,i;case 6:return[2]}}))}))},t.prototype._getTransactionRequest=function(e){return o(this,void 0,void 0,(function(){var t,r,n,i,o=this;return a(this,(function(a){switch(a.label){case 0:return[4,e];case 1:return t=a.sent(),r={},["from","to"].forEach((function(e){null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((function(e){return e?o._getAddress(e):null})))})),["gasLimit","gasPrice","value"].forEach((function(e){null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((function(e){return e?g.BigNumber.from(e):null})))})),["data"].forEach((function(e){null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((function(e){return e?h.hexlify(e):null})))})),i=(n=this.formatter).transactionRequest,[4,v.resolveProperties(r)];case 2:return[2,i.apply(n,[a.sent()])]}}))}))},t.prototype._getFilter=function(e){return o(this,void 0,void 0,(function(){var t,r,n,i=this;return a(this,(function(o){switch(o.label){case 0:return[4,e];case 1:return e=o.sent(),t={},null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach((function(r){null!=e[r]&&(t[r]=e[r])})),["fromBlock","toBlock"].forEach((function(r){null!=e[r]&&(t[r]=i._getBlockTag(e[r]))})),n=(r=this.formatter).filter,[4,v.resolveProperties(t)];case 2:return[2,n.apply(r,[o.sent()])]}}))}))},t.prototype.call=function(e,t){return o(this,void 0,void 0,(function(){var r,n;return a(this,(function(i){switch(i.label){case 0:return[4,this.getNetwork()];case 1:return i.sent(),[4,v.resolveProperties({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t)})];case 2:return r=i.sent(),n=h.hexlify,[4,this.perform("call",r)];case 3:return[2,n.apply(void 0,[i.sent()])]}}))}))},t.prototype.estimateGas=function(e){return o(this,void 0,void 0,(function(){var t,r,n;return a(this,(function(i){switch(i.label){case 0:return[4,this.getNetwork()];case 1:return i.sent(),[4,v.resolveProperties({transaction:this._getTransactionRequest(e)})];case 2:return t=i.sent(),n=(r=g.BigNumber).from,[4,this.perform("estimateGas",t)];case 3:return[2,n.apply(r,[i.sent()])]}}))}))},t.prototype._getAddress=function(e){return o(this,void 0,void 0,(function(){var t;return a(this,(function(r){switch(r.label){case 0:return[4,this.resolveName(e)];case 1:return null==(t=r.sent())&&s.throwError("ENS name not configured",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName("+JSON.stringify(e)+")"}),[2,t]}}))}))},t.prototype._getBlock=function(e,t){return o(this,void 0,void 0,(function(){var r,n,i,c,l,u=this;return a(this,(function(f){switch(f.label){case 0:return[4,this.getNetwork()];case 1:return f.sent(),[4,e];case 2:return e=f.sent(),r=-128,n={includeTransactions:!!t},h.isHexString(e,32)?(n.blockHash=e,[3,6]):[3,3];case 3:return f.trys.push([3,5,,6]),i=n,l=(c=this.formatter).blockTag,[4,this._getBlockTag(e)];case 4:return i.blockTag=l.apply(c,[f.sent()]),h.isHexString(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16)),[3,6];case 5:return f.sent(),s.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e),[3,6];case 6:return[2,Ir.poll((function(){return o(u,void 0,void 0,(function(){var e,i,o,s,c;return a(this,(function(a){switch(a.label){case 0:return[4,this.perform("getBlock",n)];case 1:if(null==(e=a.sent()))return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?[2,null]:[2,void 0];if(!t)return[3,8];i=null,o=0,a.label=2;case 2:return o<e.transactions.length?null!=(s=e.transactions[o]).blockNumber?[3,3]:(s.confirmations=0,[3,6]):[3,7];case 3:return null!=s.confirmations?[3,6]:null!=i?[3,5]:[4,this._getInternalBlockNumber(100+2*this.pollingInterval)];case 4:i=a.sent(),a.label=5;case 5:(c=i-s.blockNumber+1)<=0&&(c=1),s.confirmations=c,a.label=6;case 6:return o++,[3,2];case 7:return[2,this.formatter.blockWithTransactions(e)];case 8:return[2,this.formatter.block(e)]}}))}))}),{oncePoll:this})]}}))}))},t.prototype.getBlock=function(e){return this._getBlock(e,!1)},t.prototype.getBlockWithTransactions=function(e){return this._getBlock(e,!0)},t.prototype.getTransaction=function(e){return o(this,void 0,void 0,(function(){var t,r=this;return a(this,(function(n){switch(n.label){case 0:return[4,this.getNetwork()];case 1:return n.sent(),[4,e];case 2:return e=n.sent(),t={transactionHash:this.formatter.hash(e,!0)},[2,Ir.poll((function(){return o(r,void 0,void 0,(function(){var r,n,i,o;return a(this,(function(a){switch(a.label){case 0:return[4,this.perform("getTransaction",t)];case 1:return null==(r=a.sent())?null==this._emitted["t:"+e]?[2,null]:[2,void 0]:null!=(n=this.formatter.transactionResponse(r)).blockNumber?[3,2]:(n.confirmations=0,[3,4]);case 2:return null!=n.confirmations?[3,4]:[4,this._getInternalBlockNumber(100+2*this.pollingInterval)];case 3:i=a.sent(),(o=i-n.blockNumber+1)<=0&&(o=1),n.confirmations=o,a.label=4;case 4:return[2,this._wrapTransaction(n)]}}))}))}),{oncePoll:this})]}}))}))},t.prototype.getTransactionReceipt=function(e){return o(this,void 0,void 0,(function(){var t,r=this;return a(this,(function(n){switch(n.label){case 0:return[4,this.getNetwork()];case 1:return n.sent(),[4,e];case 2:return e=n.sent(),t={transactionHash:this.formatter.hash(e,!0)},[2,Ir.poll((function(){return o(r,void 0,void 0,(function(){var r,n,i,o;return a(this,(function(a){switch(a.label){case 0:return[4,this.perform("getTransactionReceipt",t)];case 1:return null==(r=a.sent())?null==this._emitted["t:"+e]?[2,null]:[2,void 0]:null==r.blockHash?[2,void 0]:null!=(n=this.formatter.receipt(r)).blockNumber?[3,2]:(n.confirmations=0,[3,4]);case 2:return null!=n.confirmations?[3,4]:[4,this._getInternalBlockNumber(100+2*this.pollingInterval)];case 3:i=a.sent(),(o=i-n.blockNumber+1)<=0&&(o=1),n.confirmations=o,a.label=4;case 4:return[2,n]}}))}))}),{oncePoll:this})]}}))}))},t.prototype.getLogs=function(e){return o(this,void 0,void 0,(function(){var t,r;return a(this,(function(n){switch(n.label){case 0:return[4,this.getNetwork()];case 1:return n.sent(),[4,v.resolveProperties({filter:this._getFilter(e)})];case 2:return t=n.sent(),[4,this.perform("getLogs",t)];case 3:return(r=n.sent()).forEach((function(e){null==e.removed&&(e.removed=!1)})),[2,Br.Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)]}}))}))},t.prototype.getEtherPrice=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.getNetwork()];case 1:return e.sent(),[2,this.perform("getEtherPrice",{})]}}))}))},t.prototype._getBlockTag=function(e){return o(this,void 0,void 0,(function(){var t;return a(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return"number"==typeof(e=r.sent())&&e<0?(e%1&&s.throwArgumentError("invalid BlockTag","blockTag",e),[4,this._getInternalBlockNumber(100+2*this.pollingInterval)]):[3,3];case 2:return t=r.sent(),(t+=e)<0&&(t=0),[2,this.formatter.blockTag(t)];case 3:return[2,this.formatter.blockTag(e)]}}))}))},t.prototype._getResolver=function(e){return o(this,void 0,void 0,(function(){var t,r,n,i;return a(this,(function(o){switch(o.label){case 0:return[4,this.getNetwork()];case 1:return(t=o.sent()).ensAddress||s.throwError("network does not support ENS",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:t.name}),r={to:t.ensAddress,data:"0x0178b8bf"+W.namehash(e).substring(2)},i=(n=this.formatter).callAddress,[4,this.call(r)];case 2:return[2,i.apply(n,[o.sent()])]}}))}))},t.prototype.resolveName=function(e){return o(this,void 0,void 0,(function(){var t,r,n,i;return a(this,(function(o){switch(o.label){case 0:return[4,e];case 1:e=o.sent();try{return[2,Promise.resolve(this.formatter.address(e))]}catch(a){if(h.isHexString(e))throw a}return"string"!=typeof e&&s.throwArgumentError("invalid ENS name","name",e),[4,this._getResolver(e)];case 2:return(t=o.sent())?(r={to:t,data:"0x3b3b57de"+W.namehash(e).substring(2)},i=(n=this.formatter).callAddress,[4,this.call(r)]):[2,null];case 3:return[2,i.apply(n,[o.sent()])]}}))}))},t.prototype.lookupAddress=function(e){return o(this,void 0,void 0,(function(){var t,r,n,i,o,s;return a(this,(function(a){switch(a.label){case 0:return[4,e];case 1:return e=a.sent(),e=this.formatter.address(e),t=e.substring(2).toLowerCase()+".addr.reverse",[4,this._getResolver(t)];case 2:return(r=a.sent())?(i=h.arrayify,[4,this.call({to:r,data:"0x691f3431"+W.namehash(t).substring(2)})]):[2,null];case 3:return(n=i.apply(void 0,[a.sent()])).length<32||!g.BigNumber.from(n.slice(0,32)).eq(32)||(n=n.slice(32)).length<32?[2,null]:(o=g.BigNumber.from(n.slice(0,32)).toNumber(),n=n.slice(32),o>n.length?[2,null]:(s=K.toUtf8String(n.slice(0,o)),[4,this.resolveName(s)]));case 4:return a.sent()!=e?[2,null]:[2,s]}}))}))},t.prototype.perform=function(e,t){return s.throwError(e+" not implemented",f.Logger.errors.NOT_IMPLEMENTED,{operation:e})},t.prototype._startEvent=function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0},t.prototype._stopEvent=function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0},t.prototype._addEventListener=function(e,t,r){var n=new b(u(e),t,r);return this._events.push(n),this._startEvent(n),this},t.prototype.on=function(e,t){return this._addEventListener(e,t,!1)},t.prototype.once=function(e,t){return this._addEventListener(e,t,!0)},t.prototype.emit=function(e){for(var t=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=!1,o=[],a=u(e);return this._events=this._events.filter((function(e){return e.tag!==a||(setTimeout((function(){e.listener.apply(t,r)}),0),i=!0,!e.once||(o.push(e),!1))})),o.forEach((function(e){t._stopEvent(e)})),i},t.prototype.listenerCount=function(e){if(!e)return this._events.length;var t=u(e);return this._events.filter((function(e){return e.tag===t})).length},t.prototype.listeners=function(e){if(null==e)return this._events.map((function(e){return e.listener}));var t=u(e);return this._events.filter((function(e){return e.tag===t})).map((function(e){return e.listener}))},t.prototype.off=function(e,t){var r=this;if(null==t)return this.removeAllListeners(e);var n=[],i=!1,o=u(e);return this._events=this._events.filter((function(e){return e.tag!==o||e.listener!=t||!!i||(i=!0,n.push(e),!1)})),n.forEach((function(e){r._stopEvent(e)})),this},t.prototype.removeAllListeners=function(e){var t=this,r=[];if(null==e)r=this._events,this._events=[];else{var n=u(e);this._events=this._events.filter((function(e){return e.tag!==n||(r.push(e),!1)}))}return r.forEach((function(e){t._stopEvent(e)})),this},t}(X.Provider);t.BaseProvider=w}))),jr=(o(Dr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=null;try{if(null==(r=WebSocket))throw new Error("inject please")}catch(i){var n=new f.Logger(Nr.version);r=function(){n.throwError("WebSockets not supported in this environment",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}e.exports=r}))),Lr=(o(jr),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r&&r.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=r&&r.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=new f.Logger(Nr.version);function c(e){return new Promise((function(t){setTimeout(t,e)}))}function l(e){if(e.error){var t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function u(e){return e?e.toLowerCase():e}var d={},p=function(e){function t(r,n,i){var o=this;if(s.checkNew(this.constructor,t),o=e.call(this)||this,r!==d)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");return v.defineReadOnly(o,"provider",n),null==i&&(i=0),"string"==typeof i?(v.defineReadOnly(o,"_address",o.provider.formatter.address(i)),v.defineReadOnly(o,"_index",null)):"number"==typeof i?(v.defineReadOnly(o,"_index",i),v.defineReadOnly(o,"_address",null)):s.throwArgumentError("invalid address or index","addressOrIndex",i),o}return i(t,e),t.prototype.connect=function(e){return s.throwError("cannot alter JSON-RPC Signer connection",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})},t.prototype.connectUnchecked=function(){return new b(d,this.provider,this._address||this._index)},t.prototype.getAddress=function(){var e=this;return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((function(t){return t.length<=e._index&&s.throwError("unknown account #"+e._index,f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),e.provider.formatter.address(t[e._index])}))},t.prototype.sendUncheckedTransaction=function(e){var t=this;e=v.shallowCopy(e);var r=this.getAddress().then((function(e){return e&&(e=e.toLowerCase()),e}));if(null==e.gasLimit){var n=v.shallowCopy(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return v.resolveProperties({tx:v.resolveProperties(e),sender:r}).then((function(r){var n=r.tx,i=r.sender;null!=n.from?n.from.toLowerCase()!==i&&s.throwArgumentError("from address mismatch","transaction",e):n.from=i;var o=t.provider.constructor.hexlifyTransaction(n,{from:!0});return t.provider.send("eth_sendTransaction",[o]).then((function(e){return e}),(function(e){throw e.responseText&&(e.responseText.indexOf("insufficient funds")>=0&&s.throwError("insufficient funds",f.Logger.errors.INSUFFICIENT_FUNDS,{transaction:n}),e.responseText.indexOf("nonce too low")>=0&&s.throwError("nonce has already been used",f.Logger.errors.NONCE_EXPIRED,{transaction:n}),e.responseText.indexOf("replacement transaction underpriced")>=0&&s.throwError("replacement fee too low",f.Logger.errors.REPLACEMENT_UNDERPRICED,{transaction:n})),e}))}))},t.prototype.signTransaction=function(e){return s.throwError("signing transactions is unsupported",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})},t.prototype.sendTransaction=function(e){var t=this;return this.sendUncheckedTransaction(e).then((function(e){return Ir.poll((function(){return t.provider.getTransaction(e).then((function(r){if(null!==r)return t.provider._wrapTransaction(r,e)}))}),{onceBlock:t.provider}).catch((function(t){throw t.transactionHash=e,t}))}))},t.prototype.signMessage=function(e){var t=this,r="string"==typeof e?K.toUtf8Bytes(e):e;return this.getAddress().then((function(e){return t.provider.send("eth_sign",[e.toLowerCase(),h.hexlify(r)])}))},t.prototype.unlock=function(e){var t=this.provider;return this.getAddress().then((function(r){return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])}))},t}(Q.Signer);t.JsonRpcSigner=p;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.sendTransaction=function(e){var t=this;return this.sendUncheckedTransaction(e).then((function(e){return{hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:function(r){return t.provider.waitForTransaction(e,r)}}}))},t}(p),m={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0},y=function(e){function t(r,n){var i=this;s.checkNew(this.constructor,t);var o=n;return null==o&&(o=new Promise((function(e,t){setTimeout((function(){i.detectNetwork().then((function(t){e(t)}),(function(e){t(e)}))}),0)}))),i=e.call(this,o)||this,r||(r=v.getStatic(i.constructor,"defaultUrl")()),v.defineReadOnly(i,"connection",Object.freeze("string"==typeof r?{url:r}:v.shallowCopy(r))),i._nextId=42,i}return i(t,e),t.defaultUrl=function(){return"http://localhost:8545"},t.prototype.detectNetwork=function(){return o(this,void 0,void 0,(function(){var e,t;return a(this,(function(r){switch(r.label){case 0:return[4,c(0)];case 1:r.sent(),e=null,r.label=2;case 2:return r.trys.push([2,4,,9]),[4,this.send("eth_chainId",[])];case 3:return e=r.sent(),[3,9];case 4:r.sent(),r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.send("net_version",[])];case 6:return e=r.sent(),[3,8];case 7:return r.sent(),[3,8];case 8:return[3,9];case 9:if(null!=e){t=v.getStatic(this.constructor,"getNetwork");try{return[2,t(g.BigNumber.from(e).toNumber())]}catch(n){return[2,s.throwError("could not detect network",f.Logger.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})]}}return[2,s.throwError("could not detect network",f.Logger.errors.NETWORK_ERROR,{event:"noNetwork"})]}}))}))},t.prototype.getSigner=function(e){return new p(d,this,e)},t.prototype.getUncheckedSigner=function(e){return this.getSigner(e).connectUnchecked()},t.prototype.listAccounts=function(){var e=this;return this.send("eth_accounts",[]).then((function(t){return t.map((function(t){return e.formatter.address(t)}))}))},t.prototype.send=function(e,t){var r=this,n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};return this.emit("debug",{action:"request",request:v.deepCopy(n),provider:this}),Ir.fetchJson(this.connection,JSON.stringify(n),l).then((function(e){return r.emit("debug",{action:"response",request:n,response:e,provider:r}),e}),(function(e){throw r.emit("debug",{action:"response",error:e,request:n,provider:r}),e}))},t.prototype.prepareRequest=function(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[u(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[u(t.address),t.blockTag]];case"getCode":return["eth_getCode",[u(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[u(t.address),t.position,t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[v.getStatic(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[v.getStatic(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=u(t.filter.address)),["eth_getLogs",[t.filter]]}return null},t.prototype.perform=function(e,t){var r=this.prepareRequest(e,t);return null==r&&s.throwError(e+" not implemented",f.Logger.errors.NOT_IMPLEMENTED,{operation:e}),"sendTransaction"===e?this.send(r[0],r[1]).catch((function(e){throw e.responseText&&(e.responseText.indexOf("insufficient funds")>0&&s.throwError("insufficient funds",f.Logger.errors.INSUFFICIENT_FUNDS,{}),e.responseText.indexOf("nonce too low")>0&&s.throwError("nonce has already been used",f.Logger.errors.NONCE_EXPIRED,{}),e.responseText.indexOf("replacement transaction underpriced")>0&&s.throwError("replacement fee too low",f.Logger.errors.REPLACEMENT_UNDERPRICED,{})),e})):this.send(r[0],r[1])},t.prototype._startEvent=function(t){"pending"===t.tag&&this._startPending(),e.prototype._startEvent.call(this,t)},t.prototype._startPending=function(){if(null==this._pendingFilter){var e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(r){return function n(){e.send("eth_getFilterChanges",[r]).then((function(r){if(e._pendingFilter!=t)return null;var n=Promise.resolve();return r.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),n.then((function(){return c(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){n()}),0),null;e.send("eth_uninstallFilter",[r])})).catch((function(e){}))}(),r})).catch((function(e){}))}},t.prototype._stopEvent=function(t){"pending"===t.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),e.prototype._stopEvent.call(this,t)},t.hexlifyTransaction=function(e,t){var r=v.shallowCopy(m);if(t)for(var n in t)t[n]&&(r[n]=!0);v.checkProperties(e,r);var i={};return["gasLimit","gasPrice","nonce","value"].forEach((function(t){if(null!=e[t]){var r=h.hexValue(e[t]);"gasLimit"===t&&(t="gas"),i[t]=r}})),["from","to","data"].forEach((function(t){null!=e[t]&&(i[t]=h.hexlify(e[t]))})),i},t}(Dr.BaseProvider);t.JsonRpcProvider=y}))),Fr=(o(Lr),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r&&r.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=r&&r.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(jr),l=new f.Logger(Nr.version),u=1,d=function(e){function t(t,r){var n=this;"any"===r&&l.throwError("WebSocketProvider does not support 'any' network yet",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),(n=e.call(this,t,r)||this)._pollingInterval=-1,v.defineReadOnly(n,"_websocket",new c.default(n.connection.url)),v.defineReadOnly(n,"_requests",{}),v.defineReadOnly(n,"_subs",{}),v.defineReadOnly(n,"_subIds",{}),n._wsReady=!1,n._websocket.onopen=function(){n._wsReady=!0,Object.keys(n._requests).forEach((function(e){n._websocket.send(n._requests[e].payload)}))},n._websocket.onmessage=function(e){var t=e.data,r=JSON.parse(t);if(null!=r.id){var i=String(r.id),o=n._requests[i];if(delete n._requests[i],void 0!==r.result)o.callback(null,r.result);else if(r.error){var a=new Error(r.error.message||"unknown error");v.defineReadOnly(a,"code",r.error.code||null),v.defineReadOnly(a,"response",t),o.callback(a,void 0)}else o.callback(new Error("unknown error"),void 0)}else if("eth_subscription"===r.method){var s=n._subs[r.params.subscription];s&&s.processFunc(r.params.result)}else console.warn("this should not happen")};var i=setInterval((function(){n.emit("poll")}),1e3);return i.unref&&i.unref(),n}return i(t,e),Object.defineProperty(t.prototype,"pollingInterval",{get:function(){return 0},set:function(e){l.throwError("cannot set polling interval on WebSocketProvider",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})},enumerable:!0,configurable:!0}),t.prototype.resetEventsBlock=function(e){l.throwError("cannot reset events block on WebSocketProvider",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})},t.prototype.poll=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){return[2,null]}))}))},Object.defineProperty(t.prototype,"polling",{set:function(e){e&&l.throwError("cannot set polling on WebSocketProvider",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})},enumerable:!0,configurable:!0}),t.prototype.send=function(e,t){var r=this,n=u++;return new Promise((function(i,o){var a=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});r._requests[String(n)]={callback:function(e,t){return e?o(e):i(t)},payload:a},r._wsReady&&r._websocket.send(a)}))},t.defaultUrl=function(){return"ws://localhost:8546"},t.prototype._subscribe=function(e,t,r){return o(this,void 0,void 0,(function(){var n,i,o=this;return a(this,(function(a){switch(a.label){case 0:return null==(n=this._subIds[e])&&(n=Promise.all(t).then((function(e){return o.send("eth_subscribe",e)})),this._subIds[e]=n),[4,n];case 1:return i=a.sent(),this._subs[i]={tag:e,processFunc:r},[2]}}))}))},t.prototype._startEvent=function(e){var t=this;switch(e.type){case"block":this._subscribe("block",["newHeads"],(function(e){var r=g.BigNumber.from(e.number).toNumber();t._emitted.block=r,t.emit("block",r)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(function(e){t.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(function(r){null==r.removed&&(r.removed=!1),t.emit(e.filter,t.formatter.filterLog(r))}));break;case"tx":var r=function(e){var r=e.hash;t.getTransactionReceipt(r).then((function(e){e&&t.emit(r,e)}))};r(e),this._subscribe("tx",["newHeads"],(function(e){t._events.filter((function(e){return"tx"===e.type})).forEach(r)}));break;case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}},t.prototype._stopEvent=function(e){var t=this,r=e.tag;if("tx"===e.type){if(this._events.filter((function(e){return"tx"===e.type})).length)return;r="tx"}else if(this.listenerCount(e.event))return;var n=this._subIds[r];n&&(delete this._subIds[r],n.then((function(e){t._subs[e]&&(delete t._subs[e],t.send("eth_unsubscribe",[e]))})))},t.prototype.destroy=function(){return o(this,void 0,void 0,(function(){var e=this;return a(this,(function(t){switch(t.label){case 0:return this._websocket.readyState!==c.default.CONNECTING?[3,2]:[4,new Promise((function(t){e._websocket.onopen=function(){t(!0)},e._websocket.onerror=function(){t(!1)}}))];case 1:t.sent(),t.label=2;case 2:return this._websocket.close(1e3),[2]}}))}))},t}(Lr.JsonRpcProvider);t.WebSocketProvider=d}))),zr=(o(Fr),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r&&r.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=r&&r.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=new f.Logger(Nr.version),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.detectNetwork=function(){return o(this,void 0,void 0,(function(){var t;return a(this,(function(r){switch(r.label){case 0:return null!=(t=this.network)?[3,2]:[4,e.prototype.detectNetwork.call(this)];case 1:(t=r.sent())||s.throwError("no network detected",f.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&(v.defineReadOnly(this,"_network",t),this.emit("network",t,null)),r.label=2;case 2:return[2,t]}}))}))},t}(Lr.JsonRpcProvider);t.StaticJsonRpcProvider=c;var l=function(e){function t(r,n){var i,o=this.constructor;s.checkAbstract(o,t),r=v.getStatic(o,"getNetwork")(r),n=v.getStatic(o,"getApiKey")(n);var a=v.getStatic(o,"getUrl")(r,n);return i=e.call(this,a,r)||this,"string"==typeof n?v.defineReadOnly(i,"apiKey",n):null!=n&&Object.keys(n).forEach((function(e){v.defineReadOnly(i,e,n[e])})),i}return i(t,e),t.prototype._startPending=function(){s.warn("WARNING: API provider does not support pending filters")},t.prototype.getSigner=function(e){return s.throwError("API provider does not support signing",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})},t.prototype.listAccounts=function(){return Promise.resolve([])},t.getApiKey=function(e){return e},t.getUrl=function(e,t){return s.throwError("not implemented; sub-classes must override getUrl",f.Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})},t}(c);t.UrlJsonRpcProvider=l}))),Ur=(o(zr),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=new f.Logger(Nr.version),a="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC",s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.getWebSocketProvider=function(e,r){var n=new t(e,r),i=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");return new Fr.WebSocketProvider(i,n.network)},t.getApiKey=function(e){return null==e?a:(e&&"string"!=typeof e&&o.throwArgumentError("invalid apiKey","apiKey",e),e)},t.getUrl=function(e,t){var r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":r="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":r="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.alchemyapi.io/v2/";break;case"kovan":r="eth-kovan.alchemyapi.io/v2/";break;default:o.throwArgumentError("unsupported network","network",arguments[0])}return{url:"https://"+r+t,throttleCallback:function(e,r){return t===a&&Br.showThrottleMessage(),Promise.resolve(!0)}}},t}(zr.UrlJsonRpcProvider);t.AlchemyProvider=s}))),Kr=(o(Ur),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r&&r.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=r&&r.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=new f.Logger(Nr.version),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.getApiKey=function(e){return null!=e&&s.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null},t.getUrl=function(e,t){var r=null;switch(e.name){case"homestead":r="https://cloudflare-eth.com/";break;default:s.throwArgumentError("unsupported network","network",arguments[0])}return r},t.prototype.perform=function(t,r){return o(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return"getBlockNumber"!==t?[3,2]:[4,e.prototype.perform.call(this,"getBlock",{blockTag:"latest"})];case 1:return[2,n.sent().number];case 2:return[2,e.prototype.perform.call(this,t,r)]}}))}))},t}(zr.UrlJsonRpcProvider);t.CloudflareProvider=c}))),Hr=(o(Kr),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r&&r.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=r&&r.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=new f.Logger(Nr.version);function c(e){var t=[];for(var r in e)if(null!=e[r]){var n=h.hexlify(e[r]);({gasLimit:!0,gasPrice:!0,nonce:!0,value:!0})[r]&&(n=h.hexValue(n)),t.push(r+"="+n)}return t.join("&")}function l(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"OK"!=e.message){var t=new Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function u(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0)throw(t=new Error("throttled response")).result=JSON.stringify(e),t.throttleRetry=!0,t;if("2.0"!=e.jsonrpc)throw(t=new Error("invalid response")).result=JSON.stringify(e),t;if(e.error){var t=new Error(e.error.message||"unknown error");throw e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t}return e.result}function d(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}var p="9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB",b=function(e){function t(r,n){var i;s.checkNew(this.constructor,t);var o="invalid";(i=e.call(this,r)||this).network&&(o=i.network.name);var a=null;switch(o){case"homestead":a="https://api.etherscan.io";break;case"ropsten":a="https://api-ropsten.etherscan.io";break;case"rinkeby":a="https://api-rinkeby.etherscan.io";break;case"kovan":a="https://api-kovan.etherscan.io";break;case"goerli":a="https://api-goerli.etherscan.io";break;default:throw new Error("unsupported network")}return v.defineReadOnly(i,"baseUrl",a),v.defineReadOnly(i,"apiKey",n||p),i}return i(t,e),t.prototype.detectNetwork=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.network]}))}))},t.prototype.perform=function(t,r){return o(this,void 0,void 0,(function(){var n,i,h,b,m,g,y,w,_,M,k,S=this;return a(this,(function(C){switch(C.label){case 0:switch(n=this.baseUrl,i="",this.apiKey&&(i+="&apikey="+this.apiKey),h=function(e,t){return o(S,void 0,void 0,(function(){var r,n=this;return a(this,(function(i){switch(i.label){case 0:return this.emit("debug",{action:"request",request:e,provider:this}),[4,Ir.fetchJson({url:e,throttleSlotInterval:1e3,throttleCallback:function(e,t){return n.apiKey===p&&Br.showThrottleMessage(),Promise.resolve(!0)}},null,t||u)];case 1:return r=i.sent(),this.emit("debug",{action:"response",request:e,response:v.deepCopy(r),provider:this}),[2,r]}}))}))},t){case"getBlockNumber":return[3,1];case"getGasPrice":return[3,2];case"getBalance":return[3,3];case"getTransactionCount":return[3,4];case"getCode":return[3,5];case"getStorageAt":return[3,6];case"sendTransaction":return[3,7];case"getBlock":return[3,8];case"getTransaction":return[3,9];case"getTransactionReceipt":return[3,10];case"call":return[3,11];case"estimateGas":return[3,12];case"getLogs":return[3,13];case"getEtherPrice":return[3,20]}return[3,22];case 1:return[2,h(n+="/api?module=proxy&action=eth_blockNumber"+i)];case 2:return[2,h(n+="/api?module=proxy&action=eth_gasPrice"+i)];case 3:return n+="/api?module=account&action=balance&address="+r.address,[2,h(n+="&tag="+r.blockTag+i,l)];case 4:return n+="/api?module=proxy&action=eth_getTransactionCount&address="+r.address,[2,h(n+="&tag="+r.blockTag+i)];case 5:return n+="/api?module=proxy&action=eth_getCode&address="+r.address,[2,h(n+="&tag="+r.blockTag+i)];case 6:return n+="/api?module=proxy&action=eth_getStorageAt&address="+r.address,n+="&position="+r.position,[2,h(n+="&tag="+r.blockTag+i)];case 7:return n+="/api?module=proxy&action=eth_sendRawTransaction&hex="+r.signedTransaction,[2,h(n+=i).catch((function(e){throw e.responseText&&(e.responseText.toLowerCase().indexOf("insufficient funds")>=0&&s.throwError("insufficient funds",f.Logger.errors.INSUFFICIENT_FUNDS,{}),e.responseText.indexOf("same hash was already imported")>=0&&s.throwError("nonce has already been used",f.Logger.errors.NONCE_EXPIRED,{}),e.responseText.indexOf("another transaction with same nonce")>=0&&s.throwError("replacement fee too low",f.Logger.errors.REPLACEMENT_UNDERPRICED,{})),e}))];case 8:if(r.blockTag)return n+="/api?module=proxy&action=eth_getBlockByNumber&tag="+r.blockTag,n+=r.includeTransactions?"&boolean=true":"&boolean=false",[2,h(n+=i)];throw new Error("getBlock by blockHash not implemented");case 9:return n+="/api?module=proxy&action=eth_getTransactionByHash&txhash="+r.transactionHash,[2,h(n+=i)];case 10:return n+="/api?module=proxy&action=eth_getTransactionReceipt&txhash="+r.transactionHash,[2,h(n+=i)];case 11:if((b=c(r.transaction))&&(b="&"+b),n+="/api?module=proxy&action=eth_call"+b,"latest"!==r.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");return[2,h(n+=i)];case 12:return(b=c(r.transaction))&&(b="&"+b),n+="/api?module=proxy&action=eth_estimateGas&"+b,[2,h(n+=i)];case 13:return n+="/api?module=logs&action=getLogs",r.filter.fromBlock&&(n+="&fromBlock="+d(r.filter.fromBlock)),r.filter.toBlock&&(n+="&toBlock="+d(r.filter.toBlock)),r.filter.address&&(n+="&address="+r.filter.address),r.filter.topics&&r.filter.topics.length>0&&(r.filter.topics.length>1&&s.throwError("unsupported topic count",f.Logger.errors.UNSUPPORTED_OPERATION,{topics:r.filter.topics}),1===r.filter.topics.length&&("string"==typeof(m=r.filter.topics[0])&&66===m.length||s.throwError("unsupported topic format",f.Logger.errors.UNSUPPORTED_OPERATION,{topic0:m}),n+="&topic0="+m)),[4,h(n+=i,l)];case 14:g=C.sent(),y={},w=0,C.label=15;case 15:return w<g.length?null!=(_=g[w]).blockHash?[3,18]:null!=y[_.transactionHash]?[3,17]:[4,this.getTransaction(_.transactionHash)]:[3,19];case 16:(M=C.sent())&&(y[_.transactionHash]=M.blockHash),C.label=17;case 17:_.blockHash=y[_.transactionHash],C.label=18;case 18:return w++,[3,15];case 19:return[2,g];case 20:return"homestead"!==this.network.name?[2,0]:(n+="/api?module=stats&action=ethprice",n+=i,k=parseFloat,[4,h(n,l)]);case 21:return[2,k.apply(void 0,[C.sent().ethusd])];case 22:return[3,23];case 23:return[2,e.prototype.perform.call(this,t,r)]}}))}))},t.prototype.getHistory=function(e,t,r){var n=this,i=this.baseUrl,o="";return this.apiKey&&(o+="&apikey="+this.apiKey),null==t&&(t=0),null==r&&(r=99999999),this.resolveName(e).then((function(e){return i+="/api?module=account&action=txlist&address="+e,i+="&startblock="+t,i+="&endblock="+r,n.emit("debug",{action:"request",request:i+="&sort=asc"+o,provider:n}),Ir.fetchJson({url:i,throttleSlotInterval:1e3,throttleCallback:function(e,t){return n.apiKey===p&&Br.showThrottleMessage(),Promise.resolve(!0)}},null,l).then((function(e){n.emit("debug",{action:"response",request:i,response:v.deepCopy(e),provider:n});var t=[];return e.forEach((function(e){["contractAddress","to"].forEach((function(t){""==e[t]&&delete e[t]})),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);var r=n.formatter.transactionResponse(e);e.timeStamp&&(r.timestamp=parseInt(e.timeStamp)),t.push(r)})),t}))}))},t}(Dr.BaseProvider);t.EtherscanProvider=b}))),qr=(o(Hr),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r&&r.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=r&&r.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=new f.Logger(Nr.version);function c(){return(new Date).getTime()}function l(e){for(var t=null,r=0;r<e.length;r++){var n=e[r];if(null==n)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||null==t.ensAddress&&null==n.ensAddress)||s.throwArgumentError("provider mismatch","networks",e):t=n}return t}function u(e,t){e=e.slice().sort();var r=Math.floor(e.length/2);if(e.length%2)return e[r];var n=e[r-1],i=e[r];return null!=t&&Math.abs(n-i)>t?null:(n+i)/2}function d(e){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return JSON.stringify(e);if("string"==typeof e)return e;if(g.BigNumber.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map((function(e){return d(e)})));if("object"==typeof e){var t=Object.keys(e);return t.sort(),"{"+t.map((function(t){var r=e[t];return r="function"==typeof r?"[function]":d(r),JSON.stringify(t)+":"+r})).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}var p=1;function b(e){var t=null,r=null,n=new Promise((function(n){t=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(t,e)}));return{cancel:t,getPromise:function(){return n},wait:function(e){return n=n.then(e)}}}function m(e,t){var r={provider:e.provider,weight:e.weight};return e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function y(e,t){return o(this,void 0,void 0,(function(){var r;return a(this,(function(n){return null!=(r=e.provider).blockNumber&&r.blockNumber>=t||-1===t?[2,r]:[2,Ir.poll((function(){return new Promise((function(n,i){setTimeout((function(){return n(r.blockNumber>=t?r:e.cancelled?null:void 0)}),0)}))}),{oncePoll:r})]}))}))}var w=function(e){function t(r,n){var i=this;s.checkNew(this.constructor,t),0===r.length&&s.throwArgumentError("missing providers","providers",r);var o=r.map((function(e,t){if(X.Provider.isProvider(e))return Object.freeze({provider:e,weight:1,stallTimeout:750,priority:1});var r=v.shallowCopy(e);null==r.priority&&(r.priority=1),null==r.stallTimeout&&(r.stallTimeout=750),null==r.weight&&(r.weight=1);var n=r.weight;return(n%1||n>512||n<1)&&s.throwArgumentError("invalid weight; must be integer in [1, 512]","providers["+t+"].weight",n),Object.freeze(r)})),a=o.reduce((function(e,t){return e+t.weight}),0);null==n?n=a/2:n>a&&s.throwArgumentError("quorum will always fail; larger than total weight","quorum",n);var c=l(o.map((function(e){return e.provider.network})));return null==c&&(c=new Promise((function(e,t){setTimeout((function(){i.detectNetwork().then(e,t)}),0)}))),i=e.call(this,c)||this,v.defineReadOnly(i,"providerConfigs",Object.freeze(o)),v.defineReadOnly(i,"quorum",n),i._highestBlockNumber=-1,i}return i(t,e),t.prototype.detectNetwork=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,Promise.all(this.providerConfigs.map((function(e){return e.provider.getNetwork()})))];case 1:return[2,l(e.sent())]}}))}))},t.prototype.perform=function(e,t){return o(this,void 0,void 0,(function(){var r,n,i,l,g,w,_,M,k,S,C,E=this;return a(this,(function(P){switch(P.label){case 0:return"sendTransaction"!==e?[3,2]:[4,Promise.all(this.providerConfigs.map((function(e){return e.provider.sendTransaction(t.signedTransaction).then((function(e){return e.hash}),(function(e){return e}))})))];case 1:for(r=P.sent(),n=0;n<r.length;n++)if("string"==typeof(i=r[n]))return[2,i];throw r[0];case 2:return-1!==this._highestBlockNumber||"getBlockNumber"===e?[3,4]:[4,this.getBlockNumber()];case 3:P.sent(),P.label=4;case 4:l=function(e,t,r){var n=d;switch(t){case"getBlockNumber":return function(t){var r=t.map((function(e){return e.result})),n=u(t.map((function(e){return e.result})),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=e._highestBlockNumber&&(e._highestBlockNumber=n),e._highestBlockNumber};case"getGasPrice":return function(e){var t=e.map((function(e){return e.result}));return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return u(e.map((function(e){return e.result})))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){return null==e?null:((e=v.shallowCopy(e)).confirmations=-1,d(e))};break;case"getBlock":n=r.includeTransactions?function(e){return null==e?null:((e=v.shallowCopy(e)).transactions=e.transactions.map((function(e){return(e=v.shallowCopy(e)).confirmations=-1,e})),d(e))}:function(e){return null==e?null:d(e)};break;default:throw new Error("unknown method: "+t)}return function(e,t){return function(r){var n={};r.forEach((function(t){var r=e(t.result);n[r]||(n[r]={count:0,result:t.result}),n[r].count++}));for(var i=Object.keys(n),o=0;o<i.length;o++){var a=n[i[o]];if(a.count>=t)return a.result}}}(n,e.quorum)}(this,e,t),(g=gr.shuffled(this.providerConfigs.map(v.shallowCopy))).sort((function(e,t){return e.priority-t.priority})),w=this._highestBlockNumber,_=0,M=!0,k=function(){var r,n,i,u,d,k;return a(this,(function(C){switch(C.label){case 0:for(r=c(),n=g.filter((function(e){return e.runner&&r-e.start<e.stallTimeout})).reduce((function(e,t){return e+t.weight}),0),i=function(){var r=g[_++],i=p++;r.start=c(),r.staller=b(r.stallTimeout),r.staller.wait((function(){r.staller=null})),r.runner=function(e,t,r,n){return o(this,void 0,void 0,(function(){var i,o;return a(this,(function(a){switch(a.label){case 0:switch(i=e.provider,r){case"getBlockNumber":case"getGasPrice":return[3,1];case"getEtherPrice":return[3,2];case"getBalance":case"getTransactionCount":case"getCode":return[3,3];case"getStorageAt":return[3,6];case"getBlock":return[3,9];case"call":case"estimateGas":return[3,12];case"getTransaction":case"getTransactionReceipt":return[3,15];case"getLogs":return[3,16]}return[3,19];case 1:return[2,i[r]()];case 2:return i.getEtherPrice?[2,i.getEtherPrice()]:[3,19];case 3:return n.blockTag&&h.isHexString(n.blockTag)?[4,y(e,t)]:[3,5];case 4:i=a.sent(),a.label=5;case 5:return[2,i[r](n.address,n.blockTag||"latest")];case 6:return n.blockTag&&h.isHexString(n.blockTag)?[4,y(e,t)]:[3,8];case 7:i=a.sent(),a.label=8;case 8:return[2,i.getStorageAt(n.address,n.position,n.blockTag||"latest")];case 9:return n.blockTag&&h.isHexString(n.blockTag)?[4,y(e,t)]:[3,11];case 10:i=a.sent(),a.label=11;case 11:return[2,i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash)];case 12:return n.blockTag&&h.isHexString(n.blockTag)?[4,y(e,t)]:[3,14];case 13:i=a.sent(),a.label=14;case 14:return[2,i[r](n.transaction)];case 15:return[2,i[r](n.transactionHash)];case 16:return(o=n.filter).fromBlock&&h.isHexString(o.fromBlock)||o.toBlock&&h.isHexString(o.toBlock)?[4,y(e,t)]:[3,18];case 17:i=a.sent(),a.label=18;case 18:return[2,i.getLogs(o)];case 19:return[2,s.throwError("unknown method error",f.Logger.errors.UNKNOWN_ERROR,{method:r,params:n})]}}))}))}(r,w,e,t).then((function(n){r.done=!0,r.result=n,E.listenerCount("debug")&&E.emit("debug",{action:"request",rid:i,backend:m(r,c()),request:{method:e,params:v.deepCopy(t)},provider:E})}),(function(n){r.done=!0,r.error=n,E.listenerCount("debug")&&E.emit("debug",{action:"request",rid:i,backend:m(r,c()),request:{method:e,params:v.deepCopy(t)},provider:E})})),S.listenerCount("debug")&&S.emit("debug",{action:"request",rid:i,backend:m(r,null),request:{method:e,params:v.deepCopy(t)},provider:S}),n+=r.weight};n<S.quorum&&_<g.length;)i();return u=[],g.forEach((function(e){!e.done&&e.runner&&(u.push(e.runner),e.staller&&u.push(e.staller.getPromise()))})),u.length?[4,Promise.race(u)]:[3,2];case 1:C.sent(),C.label=2;case 2:return(d=g.filter((function(e){return e.done&&null==e.error}))).length>=S.quorum?void 0!==(k=l(d))?(g.forEach((function(e){e.staller&&e.staller.cancel(),e.cancelled=!0})),[2,{value:k}]):M?[3,4]:[4,b(100).getPromise()]:[3,5];case 3:C.sent(),C.label=4;case 4:M=!1,C.label=5;case 5:return 0===g.filter((function(e){return!e.done})).length?[2,"break"]:[2]}}))},S=this,P.label=5;case 5:return[5,k()];case 6:return"object"==typeof(C=P.sent())?[2,C.value]:"break"===C?[3,7]:[3,5];case 7:return g.forEach((function(e){e.staller&&e.staller.cancel(),e.cancelled=!0})),[2,s.throwError("failed to meet quorum",f.Logger.errors.SERVER_ERROR,{method:e,params:t,results:g.map((function(e){return m(e)})),provider:this})]}}))}))},t}(Dr.BaseProvider);t.FallbackProvider=w}))),Gr=(o(qr),null),Vr=a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=new f.Logger(Nr.version),a="84842078b09946638c03157f83405213",s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.getWebSocketProvider=function(e,r){var n=new t(e,r).connection;n.password&&o.throwError("INFURA WebSocket project secrets unsupported",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});var i=n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");return new Fr.WebSocketProvider(i,e)},t.getApiKey=function(e){var t={apiKey:a,projectId:a,projectSecret:null};return null==e||("string"==typeof e?t.projectId=e:null!=e.projectSecret?(o.assertArgument("string"==typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),o.assertArgument("string"==typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t},t.getUrl=function(e,t){var r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"ropsten":r="ropsten.infura.io";break;case"rinkeby":r="rinkeby.infura.io";break;case"kovan":r="kovan.infura.io";break;case"goerli":r="goerli.infura.io";break;default:o.throwError("unsupported network",f.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}var n={url:"https://"+r+"/v3/"+t.projectId,throttleCallback:function(e,r){return t.projectId===a&&Br.showThrottleMessage(),Promise.resolve(!0)}};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n},t}(zr.UrlJsonRpcProvider);t.InfuraProvider=s})),Wr=(o(Vr),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=new f.Logger(Nr.version),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.getApiKey=function(e){return e&&"string"!=typeof e&&o.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"},t.getUrl=function(e,t){o.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");var r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:o.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t},t}(zr.UrlJsonRpcProvider);t.NodesmithProvider=a}))),Yr=(o(Wr),a((function(e,t){var n,i=r&&r.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=new f.Logger(Nr.version),a=1;function s(e,t){return function(r,n){"eth_sign"==r&&e.isMetaMask&&(r="personal_sign",n=[n[1],n[0]]);var i={method:r,params:n,id:a++,jsonrpc:"2.0"};return new Promise((function(e,r){t(i,(function(t,n){if(t)return r(t);if(n.error){var i=new Error(n.error.message);return i.code=n.error.code,i.data=n.error.data,r(i)}e(n.result)}))}))}}var c=function(e){function t(r,n){var i;o.checkNew(this.constructor,t),null==r&&o.throwArgumentError("missing provider","provider",r);var a=null,c=null,l=null;return"function"==typeof r?(a="unknown:",c=r):(!(a=r.host||r.path||"")&&r.isMetaMask&&(a="metamask"),l=r,r.request?(""===a&&(a="eip-1193:"),c=function(e){return function(t,r){return null==r&&(r=[]),"eth_sign"==t&&e.isMetaMask&&(t="personal_sign",r=[r[1],r[0]]),e.request({method:t,params:r})}}(r)):r.sendAsync?c=s(r,r.sendAsync.bind(r)):r.send?c=s(r,r.send.bind(r)):o.throwArgumentError("unsupported provider","provider",r),a||(a="unknown:")),i=e.call(this,a,n)||this,v.defineReadOnly(i,"jsonRpcFetchFunc",c),v.defineReadOnly(i,"provider",l),i}return i(t,e),t.prototype.send=function(e,t){return this.jsonRpcFetchFunc(e,t)},t}(Lr.JsonRpcProvider);t.Web3Provider=c}))),Jr=(o(Yr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=X.Provider,t.getNetwork=Or.getNetwork,t.BaseProvider=Dr.BaseProvider,t.AlchemyProvider=Ur.AlchemyProvider,t.CloudflareProvider=Kr.CloudflareProvider,t.EtherscanProvider=Hr.EtherscanProvider,t.FallbackProvider=qr.FallbackProvider,t.IpcProvider=Gr,t.InfuraProvider=Vr.InfuraProvider,t.JsonRpcProvider=Lr.JsonRpcProvider,t.JsonRpcSigner=Lr.JsonRpcSigner,t.NodesmithProvider=Wr.NodesmithProvider,t.StaticJsonRpcProvider=zr.StaticJsonRpcProvider,t.UrlJsonRpcProvider=zr.UrlJsonRpcProvider,t.Web3Provider=Yr.Web3Provider,t.WebSocketProvider=Fr.WebSocketProvider,t.Formatter=Br.Formatter;var r=new f.Logger(Nr.version);t.getDefaultProvider=function(e,t){if(null==e&&(e="homestead"),"string"==typeof e){var n=e.match(/^(ws|http)s?:/i);if(n)switch(n[1]){case"http":return new Lr.JsonRpcProvider(e);case"ws":return new Fr.WebSocketProvider(e);default:r.throwArgumentError("unsupported URL scheme","network",e)}}var i=Or.getNetwork(e);return i&&i._defaultProvider||r.throwError("unsupported getDefaultProvider network",f.Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),i._defaultProvider({FallbackProvider:qr.FallbackProvider,AlchemyProvider:Ur.AlchemyProvider,CloudflareProvider:Kr.CloudflareProvider,EtherscanProvider:Hr.EtherscanProvider,InfuraProvider:Vr.InfuraProvider,JsonRpcProvider:Lr.JsonRpcProvider,NodesmithProvider:Wr.NodesmithProvider,Web3Provider:Yr.Web3Provider,IpcProvider:Gr},t)}}))),Zr=(o(Jr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp("^bytes([0-9]+)$"),n=new RegExp("^(u?int)([0-9]*)$"),i=new RegExp("^(.*)\\[([0-9]*)\\]$");function o(e,t){if(e.length!=t.length)throw new Error("type/value count mismatch");var o=[];return e.forEach((function(e,a){o.push(function e(t,o,a){switch(t){case"address":return a?h.zeroPad(o,32):h.arrayify(o);case"string":return K.toUtf8Bytes(o);case"bytes":return h.arrayify(o);case"bool":return o=o?"0x01":"0x00",a?h.zeroPad(o,32):h.arrayify(o)}var s=t.match(n);if(s){var c=parseInt(s[2]||"256");if(s[2]&&String(c)!==s[2]||c%8!=0||0===c||c>256)throw new Error("invalid number type - "+t);return a&&(c=256),o=g.BigNumber.from(o).toTwos(c),h.zeroPad(o,c/8)}if(s=t.match(r)){if(c=parseInt(s[1]),String(c)!==s[1]||0===c||c>32)throw new Error("invalid bytes type - "+t);if(h.arrayify(o).byteLength!==c)throw new Error("invalid value for "+t);return a?h.arrayify((o+"0000000000000000000000000000000000000000000000000000000000000000").substring(0,66)):o}if((s=t.match(i))&&Array.isArray(o)){var l=s[1];if(parseInt(s[2]||String(o.length))!=o.length)throw new Error("invalid value for "+t);var u=[];return o.forEach((function(t){u.push(e(l,t,!0))})),h.concat(u)}throw new Error("invalid type - "+t)}(e,t[a]))})),h.hexlify(h.concat(o))}t.pack=o,t.keccak256=function(e,t){return S.keccak256(o(e,t))},t.sha256=function(e,t){return vt.sha256(o(e,t))}}))),Xr=(o(Zr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="units/5.0.3"}))),$r=(o(Xr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new f.Logger(Xr.version),n=["wei","kwei","mwei","gwei","szabo","finney","ether"];function i(e,t){if("string"==typeof t){var r=n.indexOf(t);-1!==r&&(t=3*r)}return g.formatFixed(e,null!=t?t:18)}function o(e,t){if("string"==typeof t){var r=n.indexOf(t);-1!==r&&(t=3*r)}return g.parseFixed(e,null!=t?t:18)}t.commify=function(e){var t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&r.throwArgumentError("invalid value","value",e);var n=t[0],i="";for("-"===n.substring(0,1)&&(i="-",n=n.substring(1));"0"===n.substring(0,1);)n=n.substring(1);""===n&&(n="0");var o="";for(2===t.length&&(o="."+(t[1]||"0"));o.length>2&&"0"===o[o.length-1];)o=o.substring(0,o.length-1);for(var a=[];n.length;){if(n.length<=3){a.unshift(n);break}var s=n.length-3;a.unshift(n.substring(s)),n=n.substring(0,s)}return i+a.join(",")+o},t.formatUnits=i,t.parseUnits=o,t.formatEther=function(e){return i(e,18)},t.parseEther=function(e){return o(e,18)}}))),Qr=(o($r),a((function(e,t){var n=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0}),t.AbiCoder=J.AbiCoder,t.checkResultErrors=J.checkResultErrors,t.defaultAbiCoder=J.defaultAbiCoder,t.EventFragment=J.EventFragment,t.FormatTypes=J.FormatTypes,t.Fragment=J.Fragment,t.FunctionFragment=J.FunctionFragment,t.Indexed=J.Indexed,t.Interface=J.Interface,t.LogDescription=J.LogDescription,t.ParamType=J.ParamType,t.TransactionDescription=J.TransactionDescription,t.getAddress=x.getAddress,t.getCreate2Address=x.getCreate2Address,t.getContractAddress=x.getContractAddress,t.getIcapAddress=x.getIcapAddress,t.isAddress=x.isAddress;var i=n(Ar);t.base64=i,t.base58=re.Base58,t.arrayify=h.arrayify,t.concat=h.concat,t.hexDataSlice=h.hexDataSlice,t.hexDataLength=h.hexDataLength,t.hexlify=h.hexlify,t.hexStripZeros=h.hexStripZeros,t.hexValue=h.hexValue,t.hexZeroPad=h.hexZeroPad,t.isBytes=h.isBytes,t.isBytesLike=h.isBytesLike,t.isHexString=h.isHexString,t.joinSignature=h.joinSignature,t.zeroPad=h.zeroPad,t.splitSignature=h.splitSignature,t.stripZeros=h.stripZeros,t.hashMessage=W.hashMessage,t.id=W.id,t.isValidName=W.isValidName,t.namehash=W.namehash,t.defaultPath=pr.defaultPath,t.entropyToMnemonic=pr.entropyToMnemonic,t.HDNode=pr.HDNode,t.isValidMnemonic=pr.isValidMnemonic,t.mnemonicToEntropy=pr.mnemonicToEntropy,t.mnemonicToSeed=pr.mnemonicToSeed,t.getJsonWalletAddress=Cr.getJsonWalletAddress,t.keccak256=S.keccak256,t.Logger=f.Logger,t.computeHmac=vt.computeHmac,t.ripemd160=vt.ripemd160,t.sha256=vt.sha256,t.sha512=vt.sha512,t.solidityKeccak256=Zr.keccak256,t.solidityPack=Zr.pack,t.soliditySha256=Zr.sha256,t.randomBytes=gr.randomBytes,t.shuffled=gr.shuffled,t.checkProperties=v.checkProperties,t.deepCopy=v.deepCopy,t.defineReadOnly=v.defineReadOnly,t.getStatic=v.getStatic,t.resolveProperties=v.resolveProperties,t.shallowCopy=v.shallowCopy;var o=n(E);t.RLP=o,t.computePublicKey=ar.computePublicKey,t.recoverPublicKey=ar.recoverPublicKey,t.SigningKey=ar.SigningKey,t.formatBytes32String=K.formatBytes32String,t.nameprep=K.nameprep,t.parseBytes32String=K.parseBytes32String,t._toEscapedUtf8String=K._toEscapedUtf8String,t.toUtf8Bytes=K.toUtf8Bytes,t.toUtf8CodePoints=K.toUtf8CodePoints,t.toUtf8String=K.toUtf8String,t.Utf8ErrorFuncs=K.Utf8ErrorFuncs,t.computeAddress=cr.computeAddress,t.parseTransaction=cr.parse,t.recoverAddress=cr.recoverAddress,t.serializeTransaction=cr.serialize,t.commify=$r.commify,t.formatEther=$r.formatEther,t.parseEther=$r.parseEther,t.formatUnits=$r.formatUnits,t.parseUnits=$r.parseUnits,t.verifyMessage=Pr.verifyMessage,t._fetchData=Ir._fetchData,t.fetchJson=Ir.fetchJson,t.poll=Ir.poll,t.SupportedAlgorithm=vt.SupportedAlgorithm;var a=K;t.UnicodeNormalizationForm=a.UnicodeNormalizationForm,t.Utf8ErrorReason=a.Utf8ErrorReason}))),en=(o(Qr),a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="ethers/5.0.9"}))),tn=(o(en),a((function(e,t){var n=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0}),t.Contract=te.Contract,t.ContractFactory=te.ContractFactory,t.BigNumber=g.BigNumber,t.FixedNumber=g.FixedNumber,t.Signer=Q.Signer,t.VoidSigner=Q.VoidSigner,t.Wallet=Pr.Wallet;var i=n(D);t.constants=i;var o=n(Jr);t.providers=o,t.getDefaultProvider=Jr.getDefaultProvider,t.Wordlist=dr.Wordlist,t.wordlists=dr.wordlists;var a=n(Qr);t.utils=a,t.errors=f.ErrorCode,t.version=en.version;var s=new f.Logger(en.version);t.logger=s}))),rn=(o(tn),a((function(e,t){var n=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(tn);t.ethers=i;try{var o=window;null==o._ethers&&(o._ethers=i)}catch(s){}var a=tn;t.Signer=a.Signer,t.Wallet=a.Wallet,t.VoidSigner=a.VoidSigner,t.getDefaultProvider=a.getDefaultProvider,t.providers=a.providers,t.Contract=a.Contract,t.ContractFactory=a.ContractFactory,t.BigNumber=a.BigNumber,t.FixedNumber=a.FixedNumber,t.constants=a.constants,t.errors=a.errors,t.logger=a.logger,t.utils=a.utils,t.wordlists=a.wordlists,t.version=a.version,t.Wordlist=a.Wordlist}))),nn=o(rn),on=rn.ethers,an=rn.Signer,sn=rn.Wallet,cn=rn.VoidSigner,ln=rn.getDefaultProvider,un=rn.providers,fn=rn.Contract,dn=rn.ContractFactory,hn=rn.FixedNumber,pn=rn.constants,bn=rn.errors,mn=rn.logger,gn=rn.utils,yn=rn.wordlists,vn=rn.version,wn=rn.Wordlist;t.BigNumber=rn.BigNumber,t.Contract=fn,t.ContractFactory=dn,t.FixedNumber=hn,t.Signer=an,t.VoidSigner=cn,t.Wallet=sn,t.Wordlist=wn,t.constants=pn,t.default=nn,t.errors=bn,t.ethers=on,t.getDefaultProvider=ln,t.logger=mn,t.providers=un,t.utils=gn,t.version=vn,t.wordlists=yn,Object.defineProperty(t,"__esModule",{value:!0})}))}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{_process:355,timers:393}],137:[function(e,t,r){(function(r){"use strict";var n=e("is-hex-prefixed"),i=e("strip-hex-prefix");function o(e){var t=e;if("string"!=typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function a(e){return"0x"+e.toString(16)}t.exports={arrayContainsArray:function(e,t,r){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)?"some":"every"]((function(t){return e.indexOf(t)>=0}))},intToBuffer:function(e){var t=a(e);return new r(o(t.slice(2)),"hex")},getBinarySize:function(e){if("string"!=typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return r.byteLength(e,"utf8")},isHexPrefixed:n,stripHexPrefix:i,padToEven:o,intToHex:a,fromAscii:function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},fromUtf8:function(e){return"0x"+o(new r(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t},toUtf8:function(e){return new r(o(i(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!=typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],i=0;i<e.length;i++){var o=e[i][t];if(r&&!o)o="";else if("string"!=typeof o)throw new Error("invalid abi");n.push(o)}return n},isHexString:function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}}}).call(this,e("buffer").Buffer)},{buffer:264,"is-hex-prefixed":153,"strip-hex-prefix":195}],138:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=e("readable-stream").Transform;function o(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(o,i),o.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(i){n=i}r(n)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},{inherits:152,"readable-stream":179,"safe-buffer":182}],139:[function(e,t,r){var n=r;n.utils=e("./hash/utils"),n.common=e("./hash/common"),n.sha=e("./hash/sha"),n.ripemd=e("./hash/ripemd"),n.hmac=e("./hash/hmac"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},{"./hash/common":140,"./hash/hmac":141,"./hash/ripemd":142,"./hash/sha":143,"./hash/utils":150}],140:[function(e,t,r){"use strict";var n=e("./utils"),i=e("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending=this.pending?this.pending.concat(e):e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},{"./utils":150,"minimalistic-assert":163}],141:[function(e,t,r){"use strict";var n=e("./utils"),i=e("minimalistic-assert");function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}t.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},{"./utils":150,"minimalistic-assert":163}],142:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./common"),o=n.rotl32,a=n.sum32,s=n.sum32_3,c=n.sum32_4,l=i.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(u,l),r.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],l=this.h[3],u=this.h[4],y=r,v=n,w=i,_=l,M=u,k=0;k<80;k++){var S=a(o(c(r,f(k,n,i,l),e[p[k]+t],d(k)),m[k]),u);r=u,u=l,l=o(i,10),i=n,n=S,S=a(o(c(y,f(79-k,v,w,_),e[b[k]+t],h(k)),g[k]),M),y=M,M=_,_=o(w,10),w=v,v=S}S=s(this.h[1],i,_),this.h[1]=s(this.h[2],l,M),this.h[2]=s(this.h[3],u,y),this.h[3]=s(this.h[4],r,v),this.h[4]=s(this.h[0],n,w),this.h[0]=S},u.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":140,"./utils":150}],143:[function(e,t,r){"use strict";r.sha1=e("./sha/1"),r.sha224=e("./sha/224"),r.sha256=e("./sha/256"),r.sha384=e("./sha/384"),r.sha512=e("./sha/512")},{"./sha/1":144,"./sha/224":145,"./sha/256":146,"./sha/384":147,"./sha/512":148}],144:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),o=e("./common"),a=n.rotl32,s=n.sum32,c=n.sum32_5,l=o.ft_1,u=i.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(d,u),t.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=a(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],u=this.h[2],d=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),b=c(a(i,5),l(p,o,u,d),h,r[n],f[p]);h=d,d=u,u=a(o,30),o=i,i=b}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],u),this.h[3]=s(this.h[3],d),this.h[4]=s(this.h[4],h)},d.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":140,"../utils":150,"./common":149}],145:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./256");function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},{"../utils":150,"./256":146}],146:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),o=e("./common"),a=e("minimalistic-assert"),s=n.sum32,c=n.sum32_4,l=n.sum32_5,u=o.ch32,f=o.maj32,d=o.s0_256,h=o.s1_256,p=o.g0_256,b=o.g1_256,m=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}n.inherits(y,m),t.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(b(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],m=this.h[2],g=this.h[3],y=this.h[4],v=this.h[5],w=this.h[6],_=this.h[7];for(a(this.k.length===r.length),n=0;n<r.length;n++){var M=l(_,h(y),u(y,v,w),this.k[n],r[n]),k=s(d(i),f(i,o,m));_=w,w=v,v=y,y=s(g,M),g=m,m=o,o=i,i=s(M,k)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],m),this.h[3]=s(this.h[3],g),this.h[4]=s(this.h[4],y),this.h[5]=s(this.h[5],v),this.h[6]=s(this.h[6],w),this.h[7]=s(this.h[7],_)},y.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":140,"../utils":150,"./common":149,"minimalistic-assert":163}],147:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./512");function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},{"../utils":150,"./512":148}],148:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),o=e("minimalistic-assert"),a=n.rotr64_hi,s=n.rotr64_lo,c=n.shr64_hi,l=n.shr64_lo,u=n.sum64,f=n.sum64_hi,d=n.sum64_lo,h=n.sum64_4_hi,p=n.sum64_4_lo,b=n.sum64_5_hi,m=n.sum64_5_lo,g=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function _(e,t,r,n,i,o){var a=t&n^~t&o;return a<0&&(a+=4294967296),a}function M(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function k(e,t,r,n,i,o){var a=t&n^t&o^n&o;return a<0&&(a+=4294967296),a}function S(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function C(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function E(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function P(e,t){var r=a(e,t,1)^a(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function x(e,t){var r=s(e,t,1)^s(e,t,8)^l(e,t,7);return r<0&&(r+=4294967296),r}function O(e,t){var r=s(e,t,19)^s(t,e,29)^l(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(v,g),t.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=(y=void 0,(y=a(m=r[n-4],g=r[n-3],19)^a(g,m,29)^c(m,g,6))<0&&(y+=4294967296),y),o=O(r[n-4],r[n-3]),s=r[n-14],l=r[n-13],u=P(r[n-30],r[n-29]),f=x(r[n-30],r[n-29]),d=r[n-32],b=r[n-31];r[n]=h(i,o,s,l,u,f,d,b),r[n+1]=p(i,o,s,l,u,f,d,b)}var m,g,y},v.prototype._update=function(e,t){this._prepareBlock(e,t);var r,n,i,s=this.W,c=this.h[0],l=this.h[1],h=this.h[2],p=this.h[3],g=this.h[4],y=this.h[5],v=this.h[6],P=this.h[7],x=this.h[8],O=this.h[9],A=this.h[10],T=this.h[11],R=this.h[12],I=this.h[13],N=this.h[14],B=this.h[15];o(this.k.length===s.length);for(var D=0;D<s.length;D+=2){var j=N,L=B,F=(i=void 0,(i=a(r=x,n=O,14)^a(r,n,18)^a(n,r,9))<0&&(i+=4294967296),i),z=E(x,O),U=w(x,0,A,0,R),K=_(0,O,0,T,0,I),H=this.k[D],q=this.k[D+1],G=s[D],V=s[D+1],W=b(j,L,F,z,U,K,H,q,G,V),Y=m(j,L,F,z,U,K,H,q,G,V);j=S(c,l),L=C(c,l),F=M(c,0,h,0,g),z=k(0,l,0,p,0,y);var J=f(j,L,F,z),Z=d(j,L,F,z);N=R,B=I,R=A,I=T,A=x,T=O,x=f(v,P,W,Y),O=d(P,P,W,Y),v=g,P=y,g=h,y=p,h=c,p=l,c=f(W,Y,J,Z),l=d(W,Y,J,Z)}u(this.h,0,c,l),u(this.h,2,h,p),u(this.h,4,g,y),u(this.h,6,v,P),u(this.h,8,x,O),u(this.h,10,A,T),u(this.h,12,R,I),u(this.h,14,N,B)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":140,"../utils":150,"minimalistic-assert":163}],149:[function(e,t,r){"use strict";var n=e("../utils").rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function a(e,t,r){return e^t^r}r.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?a(t,r,n):2===e?o(t,r,n):void 0},r.ch32=i,r.maj32=o,r.p32=a,r.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},r.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},r.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},r.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},{"../utils":150}],150:[function(e,t,r){"use strict";var n=e("minimalistic-assert"),i=e("inherits");function o(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}r.inherits=i,r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=63&a|128):o(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=63&a|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=63&a|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},r.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=s(e[r].toString(16));return t},r.htonl=a,r.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=a(i)),r+=c(i.toString(16))}return r},r.zero2=s,r.zero8=c,r.join32=function(e,t,r,i){var o=r-t;n(o%4==0);for(var a=new Array(o/4),s=0,c=t;s<a.length;s++,c+=4)a[s]=("big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c])>>>0;return a},r.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},r.rotr32=function(e,t){return e>>>t|e<<32-t},r.rotl32=function(e,t){return e<<t|e>>>32-t},r.sum32=function(e,t){return e+t>>>0},r.sum32_3=function(e,t,r){return e+t+r>>>0},r.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},r.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},r.sum64=function(e,t,r,n){var i=n+e[t+1]>>>0;e[t]=(i<n?1:0)+r+e[t]>>>0,e[t+1]=i},r.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},r.sum64_lo=function(e,t,r,n){return t+n>>>0},r.sum64_4_hi=function(e,t,r,n,i,o,a,s){var c=0,l=t;return c+=(l=l+n>>>0)<t?1:0,c+=(l=l+o>>>0)<o?1:0,e+r+i+a+(c+=(l=l+s>>>0)<s?1:0)>>>0},r.sum64_4_lo=function(e,t,r,n,i,o,a,s){return t+n+o+s>>>0},r.sum64_5_hi=function(e,t,r,n,i,o,a,s,c,l){var u=0,f=t;return u+=(f=f+n>>>0)<t?1:0,u+=(f=f+o>>>0)<o?1:0,u+=(f=f+s>>>0)<s?1:0,e+r+i+a+c+(u+=(f=f+l>>>0)<l?1:0)>>>0},r.sum64_5_lo=function(e,t,r,n,i,o,a,s,c,l){return t+n+o+s+l>>>0},r.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},r.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},r.shr64_hi=function(e,t,r){return e>>>r},r.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},{inherits:152,"minimalistic-assert":163}],151:[function(e,t,r){"use strict";var n=e("hash.js"),i=e("minimalistic-crypto-utils"),o=e("minimalistic-assert");function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}t.exports=a,a.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},a.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(r),this._reseed++,i.encode(a,t)}},{"hash.js":139,"minimalistic-assert":163,"minimalistic-crypto-utils":164}],152:[function(e,t,r){t.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},{}],153:[function(e,t,r){t.exports=function(e){if("string"!=typeof e)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return"0x"===e.slice(0,2)}},{}],154:[function(e,t,r){(function(e,n){!function(e,n){"object"==typeof r&&void 0!==t?t.exports=n():function(){const t=e.Base64,r=n();r.noConflict=()=>(e.Base64=t,r),e.Meteor&&(Base64=r),e.Base64=r}()}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:this,(function(){"use strict";const e="function"==typeof atob,t="function"==typeof btoa,r="function"==typeof n,i=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],o=(e=>{let t={};return e.forEach((e,r)=>t[e]=r),t})(i),a=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,s=String.fromCharCode.bind(String),c="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(e,t=(e=>e))=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),l=e=>e.replace(/[+\/]/g,e=>"+"==e?"-":"_").replace(/=+$/m,""),u=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),f=e=>{let t,r,n,o,a="";const s=e.length%3;for(let c=0;c<e.length;){if((r=e.charCodeAt(c++))>255||(n=e.charCodeAt(c++))>255||(o=e.charCodeAt(c++))>255)throw new TypeError("invalid character found");t=r<<16|n<<8|o,a+=i[t>>18&63]+i[t>>12&63]+i[t>>6&63]+i[63&t]}return s?a.slice(0,s-3)+"===".substring(s):a},d=t?e=>btoa(e):r?e=>n.from(e,"binary").toString("base64"):f,h=r?e=>n.from(e).toString("base64"):e=>{let t=[];for(let r=0,n=e.length;r<n;r+=4096)t.push(s.apply(null,e.subarray(r,r+4096)));return d(t.join(""))},p=(e,t=!1)=>t?l(h(e)):h(e),b=e=>unescape(encodeURIComponent(e)),m=r?e=>n.from(e,"utf8").toString("base64"):e=>d(b(e)),g=(e,t=!1)=>t?l(m(e)):m(e),y=e=>g(e,!0),v=e=>decodeURIComponent(escape(e)),w=e=>{if(e=e.replace(/\s+/g,""),!a.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,r,n,i="";for(let a=0;a<e.length;)t=o[e.charAt(a++)]<<18|o[e.charAt(a++)]<<12|(r=o[e.charAt(a++)])<<6|(n=o[e.charAt(a++)]),i+=64===r?s(t>>16&255):64===n?s(t>>16&255,t>>8&255):s(t>>16&255,t>>8&255,255&t);return i},_=e?e=>atob(u(e)):r?e=>n.from(e,"base64").toString("binary"):w,M=r?e=>n.from(e,"base64").toString("utf8"):e=>v(_(e)),k=e=>u(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),S=e=>M(k(e)),C=r?e=>c(n.from(k(e),"base64")):e=>c(_(k(e)),e=>e.charCodeAt(0)),E=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),P=function(){const e=(e,t)=>Object.defineProperty(String.prototype,e,E(t));e("fromBase64",(function(){return S(this)})),e("toBase64",(function(e){return g(this,e)})),e("toBase64URI",(function(){return g(this,!0)})),e("toBase64URL",(function(){return g(this,!0)})),e("toUint8Array",(function(){return C(this)}))},x=function(){const e=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,E(t));e("toBase64",(function(e){return p(this,e)})),e("toBase64URI",(function(){return p(this,!0)})),e("toBase64URL",(function(){return p(this,!0)}))},O={version:"3.4.5",VERSION:"3.4.5",atob:_,atobPolyfill:w,btoa:d,btoaPolyfill:f,fromBase64:S,toBase64:g,encode:g,encodeURI:y,encodeURL:y,utob:b,btou:v,decode:S,fromUint8Array:p,toUint8Array:C,extendString:P,extendUint8Array:x,extendBuiltins:()=>{P(),x()},Base64:{}};return Object.keys(O).forEach(e=>O.Base64[e]=O[e]),O}))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{buffer:264}],155:[function(e,t,r){(function(e,r){!function(){"use strict";var n="input is invalid type",i="object"==typeof window,o=i?window:{};o.JS_SHA3_NO_WINDOW&&(i=!1);var a=!i&&"object"==typeof self;!o.JS_SHA3_NO_NODE_JS&&"object"==typeof e&&e.versions&&e.versions.node?o=r:a&&(o=self);var s=!o.JS_SHA3_NO_COMMON_JS&&"object"==typeof t&&t.exports,c=!o.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,l="0123456789abcdef".split(""),u=[4,1024,262144,67108864],f=[0,8,16,24],d=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],h=[224,256,384,512],p=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],m={128:168,256:136};!o.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!c||!o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var g=function(e,t,r){return function(n){return new R(e,t,e).update(n)[r]()}},y=function(e,t,r){return function(n,i){return new R(e,t,i).update(n)[r]()}},v=function(e,t,r){return function(t,n,i,o){return S["cshake"+e].update(t,n,i,o)[r]()}},w=function(e,t,r){return function(t,n,i,o){return S["kmac"+e].update(t,n,i,o)[r]()}},_=function(e,t,r,n){for(var i=0;i<b.length;++i){var o=b[i];e[o]=t(r,n,o)}return e},M=function(e,t){var r=g(e,t,"hex");return r.create=function(){return new R(e,t,e)},r.update=function(e){return r.create().update(e)},_(r,g,e,t)},k=[{name:"keccak",padding:[1,256,65536,16777216],bits:h,createMethod:M},{name:"sha3",padding:[6,1536,393216,100663296],bits:h,createMethod:M},{name:"shake",padding:[31,7936,2031616,520093696],bits:p,createMethod:function(e,t){var r=y(e,t,"hex");return r.create=function(r){return new R(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},_(r,y,e,t)}},{name:"cshake",padding:u,bits:p,createMethod:function(e,t){var r=m[e],n=v(e,0,"hex");return n.create=function(n,i,o){return i||o?new R(e,t,n).bytepad([i,o],r):S["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},_(n,v,e,t)}},{name:"kmac",padding:u,bits:p,createMethod:function(e,t){var r=m[e],n=w(e,0,"hex");return n.create=function(n,i,o){return new I(e,t,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},_(n,w,e,t)}}],S={},C=[],E=0;E<k.length;++E)for(var P=k[E],x=P.bits,O=0;O<x.length;++O){var A=P.name+"_"+x[O];if(C.push(A),S[A]=P.createMethod(x[O],P.padding),"sha3"!==P.name){var T=P.name+x[O];C.push(T),S[T]=S[A]}}function R(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function I(e,t,r){R.call(this,e,t,r)}R.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(n);if(null===e)throw new Error(n);if(c&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||c&&ArrayBuffer.isView(e)))throw new Error(n);t=!0}for(var i,o,a=this.blocks,s=this.byteCount,l=e.length,u=this.blockCount,d=0,h=this.s;d<l;){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<u+1;++i)a[i]=0;if(t)for(i=this.start;d<l&&i<s;++d)a[i>>2]|=e[d]<<f[3&i++];else for(i=this.start;d<l&&i<s;++d)(o=e.charCodeAt(d))<128?a[i>>2]|=o<<f[3&i++]:o<2048?(a[i>>2]|=(192|o>>6)<<f[3&i++],a[i>>2]|=(128|63&o)<<f[3&i++]):o<55296||o>=57344?(a[i>>2]|=(224|o>>12)<<f[3&i++],a[i>>2]|=(128|o>>6&63)<<f[3&i++],a[i>>2]|=(128|63&o)<<f[3&i++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++d)),a[i>>2]|=(240|o>>18)<<f[3&i++],a[i>>2]|=(128|o>>12&63)<<f[3&i++],a[i>>2]|=(128|o>>6&63)<<f[3&i++],a[i>>2]|=(128|63&o)<<f[3&i++]);if(this.lastByteIndex=i,i>=s){for(this.start=i-s,this.block=a[u],i=0;i<u;++i)h[i]^=a[i];N(h),this.reset=!0}else this.start=i}return this},R.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},R.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(n);if(null===e)throw new Error(n);if(c&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||c&&ArrayBuffer.isView(e)))throw new Error(n);t=!0}var i=0;if(t)i=e.length;else for(var o=0;o<e.length;++o){var a=e.charCodeAt(o);a<128?i+=1:a<2048?i+=2:a<55296||a>=57344?i+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++o)),i+=4)}return i+=this.encode(8*i),this.update(e),i},R.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=[];return i.length=t-r%t,this.update(i),this},R.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];N(n)}},R.prototype.toString=R.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,a=0,s="";a<n;){for(o=0;o<t&&a<n;++o,++a)s+=l[(e=r[o])>>4&15]+l[15&e]+l[e>>12&15]+l[e>>8&15]+l[e>>20&15]+l[e>>16&15]+l[e>>28&15]+l[e>>24&15];a%t==0&&(N(r),o=0)}return i&&(s+=l[(e=r[o])>>4&15]+l[15&e],i>1&&(s+=l[e>>12&15]+l[e>>8&15]),i>2&&(s+=l[e>>20&15]+l[e>>16&15])),s},R.prototype.buffer=R.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,a=0,s=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(s);for(var c=new Uint32Array(e);a<n;){for(o=0;o<t&&a<n;++o,++a)c[a]=r[o];a%t==0&&N(r)}return i&&(c[o]=r[o],e=e.slice(0,s)),e},R.prototype.digest=R.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,a=0,s=0,c=[];s<i;){for(a=0;a<r&&s<i;++a,++s)c[e=s<<2]=255&(t=n[a]),c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;s%r==0&&N(n)}return o&&(c[e=s<<2]=255&(t=n[a]),o>1&&(c[e+1]=t>>8&255),o>2&&(c[e+2]=t>>16&255)),c},(I.prototype=new R).finalize=function(){return this.encode(this.outputBits,!0),R.prototype.finalize.call(this)};var N=function(e){var t,r,n,i,o,a,s,c,l,u,f,h,p,b,m,g,y,v,w,_,M,k,S,C,E,P,x,O,A,T,R,I,N,B,D,j,L,F,z,U,K,H,q,G,V,W,Y,J,Z,X,$,Q,ee,te,re,ne,ie,oe,ae,se,ce,le,ue;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],c=e[4]^e[14]^e[24]^e[34]^e[44],l=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],f=e[7]^e[17]^e[27]^e[37]^e[47],r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^((s=e[3]^e[13]^e[23]^e[33]^e[43])<<1|(a=e[2]^e[12]^e[22]^e[32]^e[42])>>>31),e[0]^=t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(a<<1|s>>>31),e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,r=o^(l<<1|c>>>31),e[2]^=t=i^(c<<1|l>>>31),e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,r=s^(f<<1|u>>>31),e[4]^=t=a^(u<<1|f>>>31),e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,r=l^(p<<1|h>>>31),e[6]^=t=c^(h<<1|p>>>31),e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,r=f^(o<<1|i>>>31),e[8]^=t=u^(i<<1|o>>>31),e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,m=e[1],W=e[11]<<4|e[10]>>>28,Y=e[10]<<4|e[11]>>>28,O=e[20]<<3|e[21]>>>29,A=e[21]<<3|e[20]>>>29,se=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,H=e[40]<<18|e[41]>>>14,q=e[41]<<18|e[40]>>>14,B=e[2]<<1|e[3]>>>31,D=e[3]<<1|e[2]>>>31,y=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,T=e[33]<<13|e[32]>>>19,R=e[32]<<13|e[33]>>>19,le=e[42]<<2|e[43]>>>30,ue=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,j=e[14]<<6|e[15]>>>26,L=e[15]<<6|e[14]>>>26,w=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,$=e[35]<<15|e[34]>>>17,I=e[45]<<29|e[44]>>>3,N=e[44]<<29|e[45]>>>3,C=e[6]<<28|e[7]>>>4,E=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,F=e[26]<<25|e[27]>>>7,z=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,M=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,G=e[8]<<27|e[9]>>>5,V=e[9]<<27|e[8]>>>5,P=e[18]<<20|e[19]>>>12,x=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,ae=e[28]<<7|e[29]>>>25,U=e[38]<<8|e[39]>>>24,K=e[39]<<8|e[38]>>>24,k=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=(b=e[0])^~(g=e[13]<<12|e[12]>>>20)&(v=e[25]<<11|e[24]>>>21),e[1]=m^~y&w,e[10]=C^~P&O,e[11]=E^~x&A,e[20]=B^~j&F,e[21]=D^~L&z,e[30]=G^~W&J,e[31]=V^~Y&Z,e[40]=te^~ne&oe,e[41]=re^~ie&ae,e[2]=g^~v&_,e[3]=y^~w&M,e[12]=P^~O&T,e[13]=x^~A&R,e[22]=j^~F&U,e[23]=L^~z&K,e[32]=W^~J&X,e[33]=Y^~Z&$,e[42]=ne^~oe&se,e[43]=ie^~ae&ce,e[4]=v^~_&k,e[5]=w^~M&S,e[14]=O^~T&I,e[15]=A^~R&N,e[24]=F^~U&H,e[25]=z^~K&q,e[34]=J^~X&Q,e[35]=Z^~$&ee,e[44]=oe^~se&le,e[45]=ae^~ce&ue,e[6]=_^~k&b,e[7]=M^~S&m,e[16]=T^~I&C,e[17]=R^~N&E,e[26]=U^~H&B,e[27]=K^~q&D,e[36]=X^~Q&G,e[37]=$^~ee&V,e[46]=se^~le&te,e[47]=ce^~ue&re,e[8]=k^~b&g,e[9]=S^~m&y,e[18]=I^~C&P,e[19]=N^~E&x,e[28]=H^~B&j,e[29]=q^~D&L,e[38]=Q^~G&W,e[39]=ee^~V&Y,e[48]=le^~te&ne,e[49]=ue^~re&ie,e[0]^=d[n],e[1]^=d[n+1]};if(s)t.exports=S;else for(E=0;E<C.length;++E)o[C[E]]=S[C[E]]}()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:355}],156:[function(e,t,r){"use strict";t.exports=e("./lib/api")(e("./lib/keccak"))},{"./lib/api":157,"./lib/keccak":161}],157:[function(e,t,r){"use strict";const n=e("./keccak"),i=e("./shake");t.exports=function(e){const t=n(e),r=i(e);return function(e,n){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}}},{"./keccak":158,"./shake":159}],158:[function(e,t,r){"use strict";const n=e("safe-buffer").Buffer,i=e("stream").Transform,o=e("inherits");t.exports=function(e){function t(t,r,n,o,a){i.call(this,a),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=o,this._options=a,this._state=new e,this._state.initialize(t,r),this._finalized=!1}return o(t,i),t.prototype._transform=function(e,t,r){let n=null;try{this.update(e,t)}catch(i){n=i}r(n)},t.prototype._flush=function(e){let t=null;try{this.push(this.digest())}catch(r){t=r}e(t)},t.prototype.update=function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this},t.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t},t.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},t.prototype._clone=function(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e},t}},{inherits:152,"safe-buffer":182,stream:391}],159:[function(e,t,r){"use strict";const n=e("safe-buffer").Buffer,i=e("stream").Transform,o=e("inherits");t.exports=function(e){function t(t,r,n,o){i.call(this,o),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._options=o,this._state=new e,this._state.initialize(t,r),this._finalized=!1}return o(t,i),t.prototype._transform=function(e,t,r){let n=null;try{this.update(e,t)}catch(i){n=i}r(n)},t.prototype._flush=function(){},t.prototype._read=function(e){this.push(this.squeeze(e))},t.prototype.update=function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this},t.prototype.squeeze=function(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let r=this._state.squeeze(e);return void 0!==t&&(r=r.toString(t)),r},t.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},t.prototype._clone=function(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e},t}},{inherits:152,"safe-buffer":182,stream:391}],160:[function(e,t,r){"use strict";const n=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];r.p1600=function(e){for(let t=0;t<24;++t){const r=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],s=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],u=e[7]^e[17]^e[27]^e[37]^e[47],f=e[8]^e[18]^e[28]^e[38]^e[48],d=e[9]^e[19]^e[29]^e[39]^e[49];let h=f^(o<<1|a>>>31),p=d^(a<<1|o>>>31);const b=e[0]^h,m=e[1]^p,g=e[10]^h,y=e[11]^p,v=e[20]^h,w=e[21]^p,_=e[30]^h,M=e[31]^p,k=e[40]^h,S=e[41]^p;h=r^(s<<1|c>>>31),p=i^(c<<1|s>>>31);const C=e[2]^h,E=e[3]^p,P=e[12]^h,x=e[13]^p,O=e[22]^h,A=e[23]^p,T=e[32]^h,R=e[33]^p,I=e[42]^h,N=e[43]^p;h=o^(l<<1|u>>>31),p=a^(u<<1|l>>>31);const B=e[4]^h,D=e[5]^p,j=e[14]^h,L=e[15]^p,F=e[24]^h,z=e[25]^p,U=e[34]^h,K=e[35]^p,H=e[44]^h,q=e[45]^p;h=s^(f<<1|d>>>31),p=c^(d<<1|f>>>31);const G=e[6]^h,V=e[7]^p,W=e[16]^h,Y=e[17]^p,J=e[26]^h,Z=e[27]^p,X=e[36]^h,$=e[37]^p,Q=e[46]^h,ee=e[47]^p;h=l^(r<<1|i>>>31),p=u^(i<<1|r>>>31);const te=e[8]^h,re=e[9]^p,ne=e[18]^h,ie=e[19]^p,oe=e[28]^h,ae=e[29]^p,se=e[38]^h,ce=e[39]^p,le=e[48]^h,ue=e[49]^p,fe=b,de=m,he=y<<4|g>>>28,pe=g<<4|y>>>28,be=v<<3|w>>>29,me=w<<3|v>>>29,ge=M<<9|_>>>23,ye=_<<9|M>>>23,ve=k<<18|S>>>14,we=S<<18|k>>>14,_e=C<<1|E>>>31,Me=E<<1|C>>>31,ke=x<<12|P>>>20,Se=P<<12|x>>>20,Ce=O<<10|A>>>22,Ee=A<<10|O>>>22,Pe=R<<13|T>>>19,xe=T<<13|R>>>19,Oe=I<<2|N>>>30,Ae=N<<2|I>>>30,Te=D<<30|B>>>2,Re=B<<30|D>>>2,Ie=j<<6|L>>>26,Ne=L<<6|j>>>26,Be=z<<11|F>>>21,De=F<<11|z>>>21,je=U<<15|K>>>17,Le=K<<15|U>>>17,Fe=q<<29|H>>>3,ze=H<<29|q>>>3,Ue=G<<28|V>>>4,Ke=V<<28|G>>>4,He=Y<<23|W>>>9,qe=W<<23|Y>>>9,Ge=J<<25|Z>>>7,Ve=Z<<25|J>>>7,We=X<<21|$>>>11,Ye=$<<21|X>>>11,Je=ee<<24|Q>>>8,Ze=Q<<24|ee>>>8,Xe=te<<27|re>>>5,$e=re<<27|te>>>5,Qe=ne<<20|ie>>>12,et=ie<<20|ne>>>12,tt=ae<<7|oe>>>25,rt=oe<<7|ae>>>25,nt=se<<8|ce>>>24,it=ce<<8|se>>>24,ot=le<<14|ue>>>18,at=ue<<14|le>>>18;e[0]=fe^~ke&Be,e[1]=de^~Se&De,e[10]=Ue^~Qe&be,e[11]=Ke^~et&me,e[20]=_e^~Ie&Ge,e[21]=Me^~Ne&Ve,e[30]=Xe^~he&Ce,e[31]=$e^~pe&Ee,e[40]=Te^~He&tt,e[41]=Re^~qe&rt,e[2]=ke^~Be&We,e[3]=Se^~De&Ye,e[12]=Qe^~be&Pe,e[13]=et^~me&xe,e[22]=Ie^~Ge&nt,e[23]=Ne^~Ve&it,e[32]=he^~Ce&je,e[33]=pe^~Ee&Le,e[42]=He^~tt&ge,e[43]=qe^~rt&ye,e[4]=Be^~We&ot,e[5]=De^~Ye&at,e[14]=be^~Pe&Fe,e[15]=me^~xe&ze,e[24]=Ge^~nt&ve,e[25]=Ve^~it&we,e[34]=Ce^~je&Je,e[35]=Ee^~Le&Ze,e[44]=tt^~ge&Oe,e[45]=rt^~ye&Ae,e[6]=We^~ot&fe,e[7]=Ye^~at&de,e[16]=Pe^~Fe&Ue,e[17]=xe^~ze&Ke,e[26]=nt^~ve&_e,e[27]=it^~we&Me,e[36]=je^~Je&Xe,e[37]=Le^~Ze&$e,e[46]=ge^~Oe&Te,e[47]=ye^~Ae&Re,e[8]=ot^~fe&ke,e[9]=at^~de&Se,e[18]=Fe^~Ue&Qe,e[19]=ze^~Ke&et,e[28]=ve^~_e&Ie,e[29]=we^~Me&Ne,e[38]=Je^~Xe&he,e[39]=Ze^~$e&pe,e[48]=Oe^~Te&He,e[49]=Ae^~Re&qe,e[0]^=n[2*t],e[1]^=n[2*t+1]}}},{}],161:[function(e,t,r){"use strict";const n=e("safe-buffer").Buffer,i=e("./keccak-state-unroll");function o(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}o.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},o.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0)},o.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!=(128&e)&&this.count===this.blockSize-1&&i.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,i.p1600(this.state),this.count=0,this.squeezing=!0},o.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=n.alloc(e);for(var r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0);return t},o.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing},t.exports=o},{"./keccak-state-unroll":160,"safe-buffer":182}],162:[function(e,t,r){"use strict";var n=e("inherits"),i=e("hash-base"),o=e("safe-buffer").Buffer,a=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function l(e,t,r,n,i,o,a){return c(e+(t&r|~t&n)+i+o|0,a)+t|0}function u(e,t,r,n,i,o,a){return c(e+(t&n|r&~n)+i+o|0,a)+t|0}function f(e,t,r,n,i,o,a){return c(e+(t^r^n)+i+o|0,a)+t|0}function d(e,t,r,n,i,o,a){return c(e+(r^(t|~n))+i+o|0,a)+t|0}n(s,i),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=l(r,n,i,o,e[0],3614090360,7),o=l(o,r,n,i,e[1],3905402710,12),i=l(i,o,r,n,e[2],606105819,17),n=l(n,i,o,r,e[3],3250441966,22),r=l(r,n,i,o,e[4],4118548399,7),o=l(o,r,n,i,e[5],1200080426,12),i=l(i,o,r,n,e[6],2821735955,17),n=l(n,i,o,r,e[7],4249261313,22),r=l(r,n,i,o,e[8],1770035416,7),o=l(o,r,n,i,e[9],2336552879,12),i=l(i,o,r,n,e[10],4294925233,17),n=l(n,i,o,r,e[11],2304563134,22),r=l(r,n,i,o,e[12],1804603682,7),o=l(o,r,n,i,e[13],4254626195,12),i=l(i,o,r,n,e[14],2792965006,17),r=u(r,n=l(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=u(o,r,n,i,e[6],3225465664,9),i=u(i,o,r,n,e[11],643717713,14),n=u(n,i,o,r,e[0],3921069994,20),r=u(r,n,i,o,e[5],3593408605,5),o=u(o,r,n,i,e[10],38016083,9),i=u(i,o,r,n,e[15],3634488961,14),n=u(n,i,o,r,e[4],3889429448,20),r=u(r,n,i,o,e[9],568446438,5),o=u(o,r,n,i,e[14],3275163606,9),i=u(i,o,r,n,e[3],4107603335,14),n=u(n,i,o,r,e[8],1163531501,20),r=u(r,n,i,o,e[13],2850285829,5),o=u(o,r,n,i,e[2],4243563512,9),i=u(i,o,r,n,e[7],1735328473,14),r=f(r,n=u(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=f(o,r,n,i,e[8],2272392833,11),i=f(i,o,r,n,e[11],1839030562,16),n=f(n,i,o,r,e[14],4259657740,23),r=f(r,n,i,o,e[1],2763975236,4),o=f(o,r,n,i,e[4],1272893353,11),i=f(i,o,r,n,e[7],4139469664,16),n=f(n,i,o,r,e[10],3200236656,23),r=f(r,n,i,o,e[13],681279174,4),o=f(o,r,n,i,e[0],3936430074,11),i=f(i,o,r,n,e[3],3572445317,16),n=f(n,i,o,r,e[6],76029189,23),r=f(r,n,i,o,e[9],3654602809,4),o=f(o,r,n,i,e[12],3873151461,11),i=f(i,o,r,n,e[15],530742520,16),r=d(r,n=f(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=d(o,r,n,i,e[7],1126891415,10),i=d(i,o,r,n,e[14],2878612391,15),n=d(n,i,o,r,e[5],4237533241,21),r=d(r,n,i,o,e[12],1700485571,6),o=d(o,r,n,i,e[3],2399980690,10),i=d(i,o,r,n,e[10],4293915773,15),n=d(n,i,o,r,e[1],2240044497,21),r=d(r,n,i,o,e[8],1873313359,6),o=d(o,r,n,i,e[15],4264355552,10),i=d(i,o,r,n,e[6],2734768916,15),n=d(n,i,o,r,e[13],1309151649,21),r=d(r,n,i,o,e[4],4149444226,6),o=d(o,r,n,i,e[11],3174756917,10),i=d(i,o,r,n,e[2],718787259,15),n=d(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},t.exports=s},{"hash-base":138,inherits:152,"safe-buffer":182}],163:[function(e,t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}t.exports=n,n.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},{}],164:[function(e,t,r){"use strict";var n=r;function i(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r},n.zero2=i,n.toHex=o,n.encode=function(e,t){return"hex"===t?o(e):e}},{}],165:[function(e,t,r){"use strict";var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function o(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i,a,s;if("string"==typeof t&&"not "===t.substr(0,"not ".length)?(n="must not be",t=t.replace(/^not /,"")):n="must be",a=e,(void 0===s||s>a.length)&&(s=a.length)," argument"===a.substring(s-" argument".length,s))i="The ".concat(e," ").concat(n," ").concat(o(t,"type"));else{var c=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+".".length>e.length)&&-1!==e.indexOf(".",r)}(e)?"property":"argument";i='The "'.concat(e,'" ').concat(c," ").concat(n," ").concat(o(t,"type"))}return i+". Received type ".concat(typeof r)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n},{}],166:[function(e,t,r){(function(r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=l;var i=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(l,i);for(var a=n(o.prototype),s=0;s<a.length;s++){var c=a[s];l.prototype[c]||(l.prototype[c]=o.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,e("_process"))},{"./_stream_readable":168,"./_stream_writable":170,_process:355,inherits:152}],167:[function(e,t,r){"use strict";t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":169,inherits:152}],168:[function(e,t,r){(function(r,n){"use strict";var i;t.exports=C,C.ReadableState=S,e("events");var o,a=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),c=e("buffer").Buffer,l=n.Uint8Array||function(){},u=e("util");o=u&&u.debuglog?u.debuglog("stream"):function(){};var f,d,h,p=e("./internal/streams/buffer_list"),b=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,y=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(C,s);var M=b.errorOrDestroy,k=["error","close","destroy","pause","resume"];function S(t,r,n){i=i||e("./_stream_duplex"),"boolean"!=typeof n&&(n=r instanceof i),this.objectMode=!!(t=t||{}).objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",n),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=e("string_decoder/").StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function C(t){if(i=i||e("./_stream_duplex"),!(this instanceof C))return new C(t);this._readableState=new S(t,this,this instanceof i),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function E(e,t,r,n,i){o("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}}(e,s);else if(i||(a=function(e,t){var r,n;return c.isBuffer(n=t)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t)),r}(s,t)),a)M(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n)s.endEmitted?M(e,new _):P(e,s,t,!0);else if(s.ended)M(e,new v);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?P(e,s,t,!1):T(e,s)):P(e,s,t,!1)}else n||(s.reading=!1,T(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function P(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),T(e,t)}function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(A,e))}function A(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function T(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function I(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){o("readable nexttick read 0"),e.read(0)}function B(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function L(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(F,t,e))}function F(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function z(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=b.destroy,C.prototype._undestroy=b.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),E(this,e,t,!1,r)},C.prototype.unshift=function(e){return E(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(t){f||(f=e("string_decoder/").StringDecoder);var r=new f(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this},C.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):O(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&L(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(r,t))),null===(n=e>0?j(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&L(this)),null!==n&&this.emit("data",n),n},C.prototype._read=function(e){M(this,new w("_read()"))},C.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,o("pipe count=%d opts=%j",i.pipesCount,t);var s=t&&!1===t.end||e===r.stdout||e===r.stderr?b:c;function c(){o("onend"),e.end()}i.endEmitted?r.nextTick(s):n.once("end",s),e.on("unpipe",(function t(r,a){o("onunpipe"),r===n&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,o("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",t),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",f),u=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,D(e))}}(n);e.on("drain",l);var u=!1;function f(t){o("ondata");var r=e.write(t);o("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==z(i.pipes,e))&&!u&&(o("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function d(t){o("onerror",t),b(),e.removeListener("error",d),0===a(e,"error")&&M(e,t)}function h(){e.removeListener("finish",p),b()}function p(){o("onfinish"),e.removeListener("close",h),b()}function b(){o("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener("error",r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on("error",r)}(e,0,d),e.once("close",h),e.once("finish",p),e.emit("pipe",n),i.flowing||(o("pipe resume"),n.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=z(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},C.prototype.addListener=C.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?O(this):i.reading||r.nextTick(N,this))),n},C.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(I,this),n},C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(I,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(B,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<k.length;a++)e.on(k[a],this.emit.bind(this,k[a]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=e("./internal/streams/async_iterator")),d(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=j,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(t,r){return void 0===h&&(h=e("./internal/streams/from")),h(C,t,r)})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":165,"./_stream_duplex":166,"./internal/streams/async_iterator":171,"./internal/streams/buffer_list":172,"./internal/streams/destroy":173,"./internal/streams/from":175,"./internal/streams/state":177,"./internal/streams/stream":178,_process:355,buffer:264,events:302,inherits:152,"string_decoder/":194,util:219}],169:[function(e,t,r){"use strict";t.exports=u;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,c=e("./_stream_duplex");function l(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}e("inherits")(u,c),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new i("_transform()"))},u.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},{"../errors":165,"./_stream_duplex":166,inherits:152}],170:[function(e,t,r){(function(r,n){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var o;t.exports=C,C.WritableState=S;var a,s={deprecate:e("util-deprecate")},c=e("./internal/streams/stream"),l=e("buffer").Buffer,u=n.Uint8Array||function(){},f=e("./internal/streams/destroy"),d=e("./internal/streams/state").getHighWaterMark,h=e("../errors").codes,p=h.ERR_INVALID_ARG_TYPE,b=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,y=h.ERR_STREAM_DESTROYED,v=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,_=h.ERR_UNKNOWN_ENCODING,M=f.errorOrDestroy;function k(){}function S(t,n,a){o=o||e("./_stream_duplex"),"boolean"!=typeof a&&(a=n instanceof o),this.objectMode=!!(t=t||{}).objectMode,a&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=d(this,t,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(T,e,t),e._writableState.errorEmitted=!0,M(e,i)):(o(i),e._writableState.errorEmitted=!0,M(e,i),T(e,t))}(e,n,i,t,o);else{var a=O(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),i?r.nextTick(P,e,n,a,o):P(e,n,a,o)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function C(t){var r=this instanceof(o=o||e("./_stream_duplex"));if(!r&&!a.call(C,this))return new C(t);this._writableState=new S(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),c.call(this)}function E(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function P(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),T(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=new Array(t.bufferedRequestCount),o=t.corkedRequestsFree;o.entry=r;for(var a=0,s=!0;r;)n[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;n.allBuffers=s,E(e,t,!0,t.length,n,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk;if(E(e,t,!1,t.objectMode?1:c.length,c,r.encoding,r.callback),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function O(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(r){t.pendingcb--,r&&M(e,r),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var n=O(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(C,c),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===C&&e&&e._writableState instanceof S}})):a=function(e){return e instanceof this},C.prototype.pipe=function(){M(this,new g)},C.prototype.write=function(e,t,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(l.isBuffer(i=e)||i instanceof u);return s&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=k),o.ending?function(e,t){var n=new w;M(e,n),r.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var o;return null===n?o=new v:"string"==typeof n||t.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(M(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,s,n,i,o);return c}(this,o,s,e,t,n)),a},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||x(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,r){r(new b("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,T(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=f.destroy,C.prototype._undestroy=f.undestroy,C.prototype._destroy=function(e,t){t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":165,"./_stream_duplex":166,"./internal/streams/destroy":173,"./internal/streams/state":177,"./internal/streams/stream":178,_process:355,buffer:264,inherits:152,"util-deprecate":196}],171:[function(e,t,r){(function(r){"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=e("./end-of-stream"),a=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var r=e[d].read();null!==r&&(e[u]=null,e[a]=null,e[s]=null,t(h(r,!1)))}}function b(e){r.nextTick(p,e)}var m=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((i(n={get stream(){return this[d]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise((function(t,n){r.nextTick((function(){e[c]?n(e[c]):t(h(void 0,!0))}))}));var n,i=this[u];if(i)n=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(h(void 0,!0)):t[f](r,n)}),n)}}(i,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(h(o,!1));n=new Promise(this[f])}return this[u]=n,n}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(h(void 0,!0))}))}))})),n),m);t.exports=function(e){var t,r=Object.create(g,(i(t={},d,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,l,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var n=r[d].read();n?(r[u]=null,r[a]=null,r[s]=null,e(h(n,!1))):(r[a]=e,r[s]=t)},writable:!0}),t));return r[u]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[u]=null,r[a]=null,r[s]=null,t(e)),void(r[c]=e)}var n=r[a];null!==n&&(r[u]=null,r[a]=null,r[s]=null,n(h(void 0,!0))),r[l]=!0})),e.on("readable",b.bind(null,r)),r}}).call(this,e("_process"))},{"./end-of-stream":174,_process:355}],172:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=e("buffer").Buffer,a=e("util").inspect,s=a&&a.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t;return(t=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t=o.allocUnsafe(e>>>0),r=this.head,n=0;r;)o.prototype.copy.call(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(n+=o===i.length?i:i.slice(0,e),0==(e-=o)){o===i.length?(++r,this.head=t.next?t.next:this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,a),0==(e-=a)){a===i.length?(++n,this.head=r.next?r.next:this.tail=null):(this.head=r,r.data=i.slice(a));break}++n}return this.length-=n,t}},{key:s,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}()},{buffer:264,util:219}],173:[function(e,t,r){(function(e){"use strict";function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,o){var a=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!o&&t?a._writableState?a._writableState.errorEmitted?e.nextTick(n,a):(a._writableState.errorEmitted=!0,e.nextTick(r,a,t)):e.nextTick(r,a,t):o?(e.nextTick(n,a),o(t)):e.nextTick(n,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,e("_process"))},{_process:355}],174:[function(e,t,r){"use strict";var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||u()},l=t._writableState&&t._writableState.finished,u=function(){s=!1,l=!0,a||o.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,f=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!l?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},b=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",p),t.req?b():t.on("request",b)):s&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",d),t.on("finish",u),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",u),t.removeListener("abort",p),t.removeListener("request",b),t.req&&t.req.removeListener("finish",u),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},{"../../../errors":165}],175:[function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],176:[function(e,t,r){"use strict";var n,i=e("../../../errors").codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function c(t,r,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;t.on("close",(function(){s=!0})),void 0===n&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var c=!1;return function(e){if(!s&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new a("pipe"))}}function l(e){e()}function u(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}t.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,r){var o=r<t.length-1;return c(e,o,r>0,(function(e){n||(n=e),e&&a.forEach(l),o||(a.forEach(l),i(n))}))}));return t.reduce(u)}},{"../../../errors":165,"./end-of-stream":174}],177:[function(e,t,r){"use strict";var n=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},{"../../../errors":165}],178:[function(e,t,r){t.exports=e("events").EventEmitter},{events:302}],179:[function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":166,"./lib/_stream_passthrough.js":167,"./lib/_stream_readable.js":168,"./lib/_stream_transform.js":169,"./lib/_stream_writable.js":170,"./lib/internal/streams/end-of-stream.js":174,"./lib/internal/streams/pipeline.js":176}],180:[function(e,t,r){"use strict";var n=e("buffer").Buffer,i=e("inherits"),o=e("hash-base"),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function h(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function b(e,t,r,n,i,o,a,s){return p(e+(t^r^n)+o+a|0,s)+i|0}function m(e,t,r,n,i,o,a,s){return p(e+(t&r|~t&n)+o+a|0,s)+i|0}function g(e,t,r,n,i,o,a,s){return p(e+((t|~r)^n)+o+a|0,s)+i|0}function y(e,t,r,n,i,o,a,s){return p(e+(t&n|r&~n)+o+a|0,s)+i|0}function v(e,t,r,n,i,o,a,s){return p(e+(t^(r|~n))+o+a|0,s)+i|0}i(h,o),h.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,h=0|this._e,w=0|this._a,_=0|this._b,M=0|this._c,k=0|this._d,S=0|this._e,C=0;C<80;C+=1){var E,P;C<16?(E=b(r,n,i,o,h,e[s[C]],f[0],l[C]),P=v(w,_,M,k,S,e[c[C]],d[0],u[C])):C<32?(E=m(r,n,i,o,h,e[s[C]],f[1],l[C]),P=y(w,_,M,k,S,e[c[C]],d[1],u[C])):C<48?(E=g(r,n,i,o,h,e[s[C]],f[2],l[C]),P=g(w,_,M,k,S,e[c[C]],d[2],u[C])):C<64?(E=y(r,n,i,o,h,e[s[C]],f[3],l[C]),P=m(w,_,M,k,S,e[c[C]],d[3],u[C])):(E=v(r,n,i,o,h,e[s[C]],f[4],l[C]),P=b(w,_,M,k,S,e[c[C]],d[4],u[C])),r=h,h=o,o=p(i,10),i=n,n=E,w=S,S=k,k=p(M,10),M=_,_=P}var x=this._b+i+k|0;this._b=this._c+o+S|0,this._c=this._d+h+w|0,this._d=this._e+r+_|0,this._e=this._a+n+M|0,this._a=x},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},t.exports=h},{buffer:264,"hash-base":138,inherits:152}],181:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getLength=r.decode=r.encode=void 0;var n=e("bn.js");function i(e,t){if("00"===e.slice(0,2))throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function o(e,r){if(e<56)return t.from([e+r]);var n=s(e),i=s(r+55+n.length/2);return t.from(i+n,"hex")}function a(e){return"0x"===e.slice(0,2)}function s(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function c(e){if(!t.isBuffer(e)){if("string"==typeof e)return a(e)?t.from((i="string"!=typeof(o=e)?o:a(o)?o.slice(2):o).length%2?"0"+i:i,"hex"):t.from(e);if("number"==typeof e||"bigint"==typeof e)return e?(r=s(e),t.from(r,"hex")):t.from([]);if(null==e)return t.from([]);if(e instanceof Uint8Array)return t.from(e);if(n.isBN(e))return t.from(e.toArray());throw new Error("invalid type")}var r,i,o;return e}r.encode=function e(r){if(Array.isArray(r)){for(var n=[],i=0;i<r.length;i++)n.push(e(r[i]));var a=t.concat(n);return t.concat([o(a.length,192),a])}var s=c(r);return 1===s.length&&s[0]<128?s:t.concat([o(s.length,128),s])},r.decode=function(e,r){if(void 0===r&&(r=!1),!e||0===e.length)return t.from([]);var n=function e(r){var n,o,a,s,c,l=[],u=r[0];if(u<=127)return{data:r.slice(0,1),remainder:r.slice(1)};if(u<=183){if(n=u-127,a=128===u?t.from([]):r.slice(1,n),2===n&&a[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:a,remainder:r.slice(n)}}if(u<=191){if(r.length-1<(o=u-182))throw new Error("invalid RLP: not enough bytes for string length");if((n=i(r.slice(1,o).toString("hex"),16))<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if((a=r.slice(o,n+o)).length<n)throw new Error("invalid RLP: not enough bytes for string");return{data:a,remainder:r.slice(n+o)}}if(u<=247){for(s=r.slice(1,n=u-191);s.length;)c=e(s),l.push(c.data),s=c.remainder;return{data:l,remainder:r.slice(n)}}n=i(r.slice(1,o=u-246).toString("hex"),16);var f=o+n;if(f>r.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(s=r.slice(o,f)).length)throw new Error("invalid rlp, List has a invalid length");for(;s.length;)c=e(s),l.push(c.data),s=c.remainder;return{data:l,remainder:r.slice(f)}}(c(e));if(r)return n;if(0!==n.remainder.length)throw new Error("invalid remainder");return n.data},r.getLength=function(e){if(!e||0===e.length)return t.from([]);var r=c(e),n=r[0];if(n<=127)return r.length;if(n<=183)return n-127;if(n<=191)return n-182;if(n<=247)return n-191;var o=n-246;return o+i(r.slice(1,o).toString("hex"),16)}}).call(this,e("buffer").Buffer)},{"bn.js":6,buffer:264}],182:[function(e,t,r){var n=e("buffer"),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,r),r.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:264}],183:[function(e,t,r){t.exports=e("./lib")(e("./lib/elliptic"))},{"./lib":185,"./lib/elliptic":184}],184:[function(e,t,r){const n=new(0,e("elliptic").ec)("secp256k1"),i=n.curve,o=i.n.constructor;function a(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let r=new o(t);if(r.cmp(i.p)>=0)return null;r=r.toRed(i.red);let a=r.redSqr().redIMul(r).redIAdd(i.b).redSqrt();return 3===e!==a.isOdd()&&(a=a.redNeg()),n.keyPair({pub:{x:r,y:a}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){let a=new o(t),s=new o(r);if(a.cmp(i.p)>=0||s.cmp(i.p)>=0)return null;if(a=a.toRed(i.red),s=s.toRed(i.red),(6===e||7===e)&&s.isOdd()!==(7===e))return null;const c=a.redSqr().redIMul(a);return s.redSqr().redISub(c.redIAdd(i.b)).isZero()?n.keyPair({pub:{x:a,y:s}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function s(e,t){const r=t.encode(null,33===e.length);for(let n=0;n<e.length;++n)e[n]=r[n]}t.exports={contextRandomize:()=>0,privateKeyVerify(e){const t=new o(e);return t.cmp(i.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new o(e),r=i.n.sub(t).umod(i.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new o(t);if(r.cmp(i.n)>=0)return 1;if(r.iadd(new o(e)),r.cmp(i.n)>=0&&r.isub(i.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new o(t);if(r.cmp(i.n)>=0||r.isZero())return 1;r.imul(new o(e)),r.cmp(i.n)>=0&&(r=r.umod(i.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:e=>null===a(e)?1:0,publicKeyCreate(e,t){const r=new o(t);return r.cmp(i.n)>=0||r.isZero()?1:(s(e,n.keyFromPrivate(t).getPublic()),0)},publicKeyConvert(e,t){const r=a(t);return null===r?1:(s(e,r.getPublic()),0)},publicKeyNegate(e,t){const r=a(t);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),s(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let i=0;i<t.length;++i)if(r[i]=a(t[i]),null===r[i])return 1;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?2:(s(e,n),0)},publicKeyTweakAdd(e,t,r){const n=a(t);if(null===n)return 1;if((r=new o(r)).cmp(i.n)>=0)return 2;const c=n.getPublic().add(i.g.mul(r));return c.isInfinity()?2:(s(e,c),0)},publicKeyTweakMul(e,t,r){const n=a(t);return null===n?1:(r=new o(r)).cmp(i.n)>=0||r.isZero()?2:(s(e,n.getPublic().mul(r)),0)},signatureNormalize(e){const t=new o(e.subarray(0,32)),r=new o(e.subarray(32,64));return t.cmp(i.n)>=0||r.cmp(i.n)>=0?1:(1===r.cmp(n.nh)&&e.set(i.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new o(r).cmp(i.n)>=0)return 1;if(new o(n).cmp(i.n)>=0)return 1;const{output:a}=e;let s=a.subarray(4,37);s[0]=0,s.set(r,1);let c=33,l=0;for(;c>1&&0===s[l]&&!(128&s[l+1]);--c,++l);if(s=s.subarray(l),128&s[0])return 1;if(c>1&&0===s[0]&&!(128&s[1]))return 1;let u=a.subarray(39,72);u[0]=0,u.set(n,1);let f=33,d=0;for(;f>1&&0===u[d]&&!(128&u[d+1]);--f,++d);return u=u.subarray(d),128&u[0]||f>1&&0===u[0]&&!(128&u[1])?1:(e.outputlen=6+c+f,a[0]=48,a[1]=e.outputlen-2,a[2]=2,a[3]=s.length,a.set(s,4),a[4+c]=2,a[5+c]=u.length,a.set(u,6+c),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;const n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;let a=t.subarray(4,4+r);if(33===a.length&&0===a[0]&&(a=a.subarray(1)),a.length>32)return 1;let s=t.subarray(6+r);if(33===s.length&&0===s[0]&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");let c=new o(a);c.cmp(i.n)>=0&&(c=new o(0));let l=new o(t.subarray(6+r));return l.cmp(i.n)>=0&&(l=new o(0)),e.set(c.toArrayLike(Uint8Array,"be",32),0),e.set(l.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,a,s){if(s){const e=s;s=n=>{const i=e(t,r,null,a,n);if(!(i instanceof Uint8Array&&32===i.length))throw new Error("This is the way");return new o(i)}}const c=new o(r);if(c.cmp(i.n)>=0||c.isZero())return 1;let l;try{l=n.sign(t,r,{canonical:!0,k:s,pers:a})}catch(u){return 1}return e.signature.set(l.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(l.s.toArrayLike(Uint8Array,"be",32),32),e.recid=l.recoveryParam,0},ecdsaVerify(e,t,r){const s={r:e.subarray(0,32),s:e.subarray(32,64)},c=new o(s.r),l=new o(s.s);if(c.cmp(i.n)>=0||l.cmp(i.n)>=0)return 1;if(1===l.cmp(n.nh)||c.isZero()||l.isZero())return 3;const u=a(r);if(null===u)return 2;const f=u.getPublic();return n.verify(t,s,f)?0:3},ecdsaRecover(e,t,r,a){const c={r:t.slice(0,32),s:t.slice(32,64)},l=new o(c.r),u=new o(c.s);if(l.cmp(i.n)>=0||u.cmp(i.n)>=0)return 1;if(l.isZero()||u.isZero())return 2;let f;try{f=n.recoverPubKey(a,c,r)}catch(d){return 2}return s(e,f),0},ecdh(e,t,r,s,c,l,u){const f=a(t);if(null===f)return 1;const d=new o(r);if(d.cmp(i.n)>=0||d.isZero())return 2;const h=f.getPublic().mul(d);if(void 0===c){const t=h.encode(null,!0),r=n.hash().update(t).digest();for(let n=0;n<32;++n)e[n]=r[n]}else{l||(l=new Uint8Array(32));const t=h.getX().toArray("be",32);for(let e=0;e<32;++e)l[e]=t[e];u||(u=new Uint8Array(32));const r=h.getY().toArray("be",32);for(let e=0;e<32;++e)u[e]=r[e];const n=c(l,u,s);if(!(n instanceof Uint8Array&&n.length===e.length))return 2;e.set(n)}return 0}}},{elliptic:63}],185:[function(e,t,r){const n="Impossible case. Please create issue.",i="The tweak was out of range or the resulted private key is invalid",o="Public Key could not be parsed",a="Signature could not be parsed";function s(e,t){if(!e)throw new Error(t)}function c(e,t,r){if(s(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;s(r.includes(t.length),n)}else s(t.length===r,`Expected ${e} to be an Uint8Array with length ${r}`)}function l(e){s("Boolean"===f(e),"Expected compressed to be a Boolean")}function u(e=(e=>new Uint8Array(e)),t){return"function"==typeof e&&(e=e(t)),c("output",e,t),e}function f(e){return Object.prototype.toString.call(e).slice(8,-1)}t.exports=e=>({contextRandomize(t){switch(s(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&c("seed",t,32),e.contextRandomize(t)){case 1:throw new Error("Unknow error on context randomization")}},privateKeyVerify:t=>(c("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(t){switch(c("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(n)}},privateKeyTweakAdd(t,r){switch(c("private key",t,32),c("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(i)}},privateKeyTweakMul(t,r){switch(c("private key",t,32),c("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error("The tweak was out of range or equal to zero")}},publicKeyVerify:t=>(c("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,r=!0,n){switch(c("private key",t,32),l(r),n=u(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error("Private Key is invalid");case 2:throw new Error("Public Key serialization error")}},publicKeyConvert(t,r=!0,n){switch(c("public key",t,[33,65]),l(r),n=u(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(o);case 2:throw new Error("Public Key serialization error")}},publicKeyNegate(t,r=!0,i){switch(c("public key",t,[33,65]),l(r),i=u(i,r?33:65),e.publicKeyNegate(i,t)){case 0:return i;case 1:throw new Error(o);case 2:throw new Error(n);case 3:throw new Error("Public Key serialization error")}},publicKeyCombine(t,r=!0,n){s(Array.isArray(t),"Expected public keys to be an Array"),s(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)c("public key",e,[33,65]);switch(l(r),n=u(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(o);case 2:throw new Error("The sum of the public keys is not valid");case 3:throw new Error("Public Key serialization error")}},publicKeyTweakAdd(t,r,n=!0,a){switch(c("public key",t,[33,65]),c("tweak",r,32),l(n),a=u(a,n?33:65),e.publicKeyTweakAdd(a,t,r)){case 0:return a;case 1:throw new Error(o);case 2:throw new Error(i)}},publicKeyTweakMul(t,r,n=!0,i){switch(c("public key",t,[33,65]),c("tweak",r,32),l(n),i=u(i,n?33:65),e.publicKeyTweakMul(i,t,r)){case 0:return i;case 1:throw new Error(o);case 2:throw new Error("The tweak was out of range or equal to zero")}},signatureNormalize(t){switch(c("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(a)}},signatureExport(t,r){c("signature",t,64);const i={output:r=u(r,72),outputlen:72};switch(e.signatureExport(i,t)){case 0:return r.slice(0,i.outputlen);case 1:throw new Error(a);case 2:throw new Error(n)}},signatureImport(t,r){switch(c("signature",t),r=u(r,64),e.signatureImport(r,t)){case 0:return r;case 1:throw new Error(a);case 2:throw new Error(n)}},ecdsaSign(t,r,i={},o){c("message",t,32),c("private key",r,32),s("Object"===f(i),"Expected options to be an Object"),void 0!==i.data&&c("options.data",i.data),void 0!==i.noncefn&&s("Function"===f(i.noncefn),"Expected options.noncefn to be a Function");const a={signature:o=u(o,64),recid:null};switch(e.ecdsaSign(a,t,r,i.data,i.noncefn)){case 0:return a;case 1:throw new Error("The nonce generation function failed, or the private key was invalid");case 2:throw new Error(n)}},ecdsaVerify(t,r,n){switch(c("signature",t,64),c("message",r,32),c("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(a);case 2:throw new Error(o)}},ecdsaRecover(t,r,i,o=!0,d){switch(c("signature",t,64),s("Number"===f(r)&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),c("message",i,32),l(o),d=u(d,o?33:65),e.ecdsaRecover(d,t,r,i)){case 0:return d;case 1:throw new Error(a);case 2:throw new Error("Public key could not be recover");case 3:throw new Error(n)}},ecdh(t,r,n={},i){switch(c("public key",t,[33,65]),c("private key",r,32),s("Object"===f(n),"Expected options to be an Object"),void 0!==n.data&&c("options.data",n.data),void 0!==n.hashfn?(s("Function"===f(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&c("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&c("options.ybuf",n.ybuf,32),c("output",i)):i=u(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(o);case 2:throw new Error("Scalar was invalid (zero or overflow)")}}})},{}],186:[function(e,t,r){var n=e("safe-buffer").Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(e=n.from(e,t=t||"utf8"));for(var r=this._block,i=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var c=a%i,l=Math.min(o-s,i-c),u=0;u<l;u++)r[c+u]=e[s+u];s+=l,(a+=l)%i==0&&this._update(r)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0;this._block.writeUInt32BE((r-n)/4294967296,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},{"safe-buffer":182}],187:[function(e,t,r){(r=t.exports=function(e){e=e.toLowerCase();var t=r[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t}).sha=e("./sha"),r.sha1=e("./sha1"),r.sha224=e("./sha224"),r.sha256=e("./sha256"),r.sha384=e("./sha384"),r.sha512=e("./sha512")},{"./sha":188,"./sha1":189,"./sha224":190,"./sha256":191,"./sha384":192,"./sha512":193}],188:[function(e,t,r){var n=e("inherits"),i=e("./hash"),o=e("safe-buffer").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function l(e){return e<<30|e>>>2}function u(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,f=0;f<16;++f)r[f]=e.readInt32BE(4*f);for(;f<80;++f)r[f]=r[f-3]^r[f-8]^r[f-14]^r[f-16];for(var d=0;d<80;++d){var h=~~(d/20),p=0|((t=n)<<5|t>>>27)+u(h,i,o,s)+c+r[d]+a[h];c=s,s=o,o=l(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=c},{"./hash":186,inherits:152,"safe-buffer":182}],189:[function(e,t,r){var n=e("inherits"),i=e("./hash"),o=e("safe-buffer").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function l(e){return e<<5|e>>>27}function u(e){return e<<30|e>>>2}function f(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,d=0;d<16;++d)r[d]=e.readInt32BE(4*d);for(;d<80;++d)r[d]=(t=r[d-3]^r[d-8]^r[d-14]^r[d-16])<<1|t>>>31;for(var h=0;h<80;++h){var p=~~(h/20),b=l(n)+f(p,i,o,s)+c+r[h]+a[p]|0;c=s,s=o,o=u(i),i=n,n=b}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=c},{"./hash":186,inherits:152,"safe-buffer":182}],190:[function(e,t,r){var n=e("inherits"),i=e("./sha256"),o=e("./hash"),a=e("safe-buffer").Buffer,s=new Array(64);function c(){this.init(),this._w=s,o.call(this,64,56)}n(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},t.exports=c},{"./hash":186,"./sha256":191,inherits:152,"safe-buffer":182}],191:[function(e,t,r){var n=e("inherits"),i=e("./hash"),o=e("safe-buffer").Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function c(){this.init(),this._w=s,i.call(this,64,56)}function l(e,t,r){return r^e&(t^r)}function u(e,t,r){return e&t|r&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function d(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,p=0|this._f,b=0|this._g,m=0|this._h,g=0;g<16;++g)r[g]=e.readInt32BE(4*g);for(;g<64;++g)r[g]=0|(((t=r[g-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[g-7]+h(r[g-15])+r[g-16];for(var y=0;y<64;++y){var v=m+d(c)+l(c,p,b)+a[y]+r[y]|0,w=f(n)+u(n,i,o)|0;m=b,b=p,p=c,c=s+v|0,s=o,o=i,i=n,n=v+w|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=b+this._g|0,this._h=m+this._h|0},c.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},t.exports=c},{"./hash":186,inherits:152,"safe-buffer":182}],192:[function(e,t,r){var n=e("inherits"),i=e("./sha512"),o=e("./hash"),a=e("safe-buffer").Buffer,s=new Array(160);function c(){this.init(),this._w=s,o.call(this,128,112)}n(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},t.exports=c},{"./hash":186,"./sha512":193,inherits:152,"safe-buffer":182}],193:[function(e,t,r){var n=e("inherits"),i=e("./hash"),o=e("safe-buffer").Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function c(){this.init(),this._w=s,i.call(this,128,112)}function l(e,t,r){return r^e&(t^r)}function u(e,t,r){return e&t|r&(e|t)}function f(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function d(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function b(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function g(e,t){return e>>>0<t>>>0?1:0}n(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,c=0|this._fh,y=0|this._gh,v=0|this._hh,w=0|this._al,_=0|this._bl,M=0|this._cl,k=0|this._dl,S=0|this._el,C=0|this._fl,E=0|this._gl,P=0|this._hl,x=0;x<32;x+=2)t[x]=e.readInt32BE(4*x),t[x+1]=e.readInt32BE(4*x+4);for(;x<160;x+=2){var O=t[x-30],A=t[x-30+1],T=h(O,A),R=p(A,O),I=b(O=t[x-4],A=t[x-4+1]),N=m(A,O),B=t[x-32],D=t[x-32+1],j=R+t[x-14+1]|0,L=T+t[x-14]+g(j,R)|0;L=(L=L+I+g(j=j+N|0,N)|0)+B+g(j=j+D|0,D)|0,t[x]=L,t[x+1]=j}for(var F=0;F<160;F+=2){L=t[F],j=t[F+1];var z=u(r,n,i),U=u(w,_,M),K=f(r,w),H=f(w,r),q=d(s,S),G=d(S,s),V=a[F],W=a[F+1],Y=l(s,c,y),J=l(S,C,E),Z=P+G|0,X=v+q+g(Z,P)|0;X=(X=(X=X+Y+g(Z=Z+J|0,J)|0)+V+g(Z=Z+W|0,W)|0)+L+g(Z=Z+j|0,j)|0;var $=H+U|0,Q=K+z+g($,H)|0;v=y,P=E,y=c,E=C,c=s,C=S,s=o+X+g(S=k+Z|0,k)|0,o=i,k=M,i=n,M=_,n=r,_=w,r=X+Q+g(w=Z+$|0,Z)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+M|0,this._dl=this._dl+k|0,this._el=this._el+S|0,this._fl=this._fl+C|0,this._gl=this._gl+E|0,this._hl=this._hl+P|0,this._ah=this._ah+r+g(this._al,w)|0,this._bh=this._bh+n+g(this._bl,_)|0,this._ch=this._ch+i+g(this._cl,M)|0,this._dh=this._dh+o+g(this._dl,k)|0,this._eh=this._eh+s+g(this._el,S)|0,this._fh=this._fh+c+g(this._fl,C)|0,this._gh=this._gh+y+g(this._gl,E)|0,this._hh=this._hh+v+g(this._hl,P)|0},c.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},t.exports=c},{"./hash":186,inherits:152,"safe-buffer":182}],194:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}r.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":182}],195:[function(e,t,r){var n=e("is-hex-prefixed");t.exports=function(e){return"string"!=typeof e?e:n(e)?e.slice(2):e}},{"is-hex-prefixed":153}],196:[function(e,t,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(n){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],197:[function(e,t,r){"use strict";const n=r;n.bignum=e("bn.js"),n.define=e("./asn1/api").define,n.base=e("./asn1/base"),n.constants=e("./asn1/constants"),n.decoders=e("./asn1/decoders"),n.encoders=e("./asn1/encoders")},{"./asn1/api":198,"./asn1/base":200,"./asn1/constants":204,"./asn1/decoders":206,"./asn1/encoders":209,"bn.js":211}],198:[function(e,t,r){"use strict";const n=e("./encoders"),i=e("./decoders"),o=e("inherits");function a(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}r.define=function(e,t){return new a(e,t)},a.prototype._createNamed=function(e){const t=this.name;function r(e){this._initNamed(e,t)}return o(r,e),r.prototype._initNamed=function(t,r){e.call(this,t,r)},new r(this)},a.prototype._getDecoder=function(e){return this.decoders.hasOwnProperty(e=e||"der")||(this.decoders[e]=this._createNamed(i[e])),this.decoders[e]},a.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},a.prototype._getEncoder=function(e){return this.encoders.hasOwnProperty(e=e||"der")||(this.encoders[e]=this._createNamed(n[e])),this.encoders[e]},a.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},{"./decoders":206,"./encoders":209,inherits:334}],199:[function(e,t,r){"use strict";const n=e("inherits"),i=e("../base/reporter").Reporter,o=e("safer-buffer").Buffer;function a(e,t){i.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return s.isEncoderBuffer(e)||(e=new s(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(a,i),r.DecoderBuffer=a,a.isDecoderBuffer=function(e){return e instanceof a||"object"==typeof e&&o.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(e){const t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const r=new a(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},r.EncoderBuffer=s,s.isEncoderBuffer=function(e){return e instanceof s||"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},s.prototype.join=function(e,t){return e||(e=o.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},{"../base/reporter":202,inherits:334,"safer-buffer":382}],200:[function(e,t,r){"use strict";const n=r;n.Reporter=e("./reporter").Reporter,n.DecoderBuffer=e("./buffer").DecoderBuffer,n.EncoderBuffer=e("./buffer").EncoderBuffer,n.Node=e("./node")},{"./buffer":199,"./node":201,"./reporter":202}],201:[function(e,t,r){"use strict";const n=e("../base/reporter").Reporter,i=e("../base/buffer").EncoderBuffer,o=e("../base/buffer").DecoderBuffer,a=e("minimalistic-assert"),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function l(e,t,r){const n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}t.exports=l;const u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];l.prototype.clone=function(){const e=this._baseState,t={};u.forEach((function(r){t[r]=e[r]}));const r=new this.constructor(t.parent);return r._baseState=t,r},l.prototype._wrap=function(){const e=this._baseState;c.forEach((function(t){this[t]=function(){const r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},l.prototype._init=function(e){const t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),a.equal(t.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(e){const t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(a(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;const t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0),t[e[r]]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){l.prototype[e]=function(){throw new Error(e+" not implemented for encoding: "+this._baseState.enc)}})),s.forEach((function(e){l.prototype[e]=function(){const t=this._baseState,r=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(r),this}})),l.prototype.use=function(e){a(e);const t=this._baseState;return a(null===t.use),t.use=e,this},l.prototype.optional=function(){return this._baseState.optional=!0,this},l.prototype.def=function(e){const t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},l.prototype.explicit=function(e){const t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},l.prototype.implicit=function(e){const t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},l.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},l.prototype.key=function(e){const t=this._baseState;return a(null===t.key),t.key=e,this},l.prototype.any=function(){return this._baseState.any=!0,this},l.prototype.choice=function(e){const t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},l.prototype.contains=function(e){const t=this._baseState;return a(null===t.use),t.contains=e,this},l.prototype._decode=function(e,t){const r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));let n,i=r.default,a=!0,s=null;if(null!==r.key&&(s=e.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(a=this._peekTag(e,n,r.any),e.isError(a))return a}else{const n=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),a=!0}catch(c){a=!1}e.restore(n)}}if(r.obj&&a&&(n=e.enterObject()),a){if(null!==r.explicit){const t=this._decodeTag(e,r.explicit);if(e.isError(t))return t;e=t}const n=e.offset;if(null===r.use&&null===r.choice){let t;r.any&&(t=e.save());const n=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(n))return n;r.any?i=e.raw(t):e=n}if(t&&t.track&&null!==r.tag&&t.track(e.path(),n,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(e,t)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){const n=new o(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(n,t)}}return r.obj&&a&&(i=e.leaveObject(n)),null===r.key||null===i&&!0!==a?null!==s&&e.exitKey(s):e.leaveKey(s,r.key,i),i},l.prototype._decodeGeneric=function(e,t,r){const n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},l.prototype._getUse=function(e,t){const r=this._baseState;return r.useDecoder=this._use(e,t),a(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},l.prototype._decodeChoice=function(e,t){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some((function(o){const a=e.save(),s=r.choice[o];try{const r=s._decode(e,t);if(e.isError(r))return!1;n={type:o,value:r},i=!0}catch(c){return e.restore(a),!1}return!0}),this),i?n:e.error("Choice not matched")},l.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},l.prototype._encode=function(e,t,r){const n=this._baseState;if(null!==n.default&&n.default===e)return;const i=this._encodeValue(e,t,r);return void 0===i||this._skipDefault(i,t,r)?void 0:i},l.prototype._encodeValue=function(e,t,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new n);let o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}let a=null,s=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.contains)a=this._getUse(i.contains,r)._encode(e,t),s=!0;else if(i.children)a=i.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");const n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");const i=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),i}),this).filter((function(e){return e})),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");const r=this.clone();r._baseState.implicit=null,a=this._createEncoderBuffer(e.map((function(r){return this._getUse(this._baseState.args[0],e)._encode(r,t)}),r))}else null!==i.use?o=this._getUse(i.use,r)._encode(e,t):(a=this._encodePrimitive(i.tag,e),s=!0);if(!i.any&&null===i.choice){const e=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?"universal":"context";null===e?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(e,s,r,a))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},l.prototype._encodeChoice=function(e,t){const r=this._baseState,n=r.choice[e.type];return n||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},l.prototype._encodePrimitive=function(e,t){const r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},l.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},l.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}},{"../base/buffer":199,"../base/reporter":202,"minimalistic-assert":340}],202:[function(e,t,r){"use strict";const n=e("inherits");function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}r.Reporter=i,i.prototype.isError=function(e){return e instanceof o},i.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,r){const n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){const e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){const t=this._reporterState,r=t.obj;return t.obj=e,r},i.prototype.error=function(e){let t;const r=this._reporterState,n=e instanceof o;if(t=n?e:new o(r.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},i.prototype.wrapResult=function(e){const t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},{inherits:334}],203:[function(e,t,r){"use strict";function n(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0),t[e[r]]=r})),t}r.tagClass={0:"universal",1:"application",2:"context",3:"private"},r.tagClassByName=n(r.tagClass),r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},r.tagByName=n(r.tag)},{}],204:[function(e,t,r){"use strict";const n=r;n._reverse=function(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0),t[e[r]]=r})),t},n.der=e("./der")},{"./der":203}],205:[function(e,t,r){"use strict";const n=e("inherits"),i=e("bn.js"),o=e("../base/buffer").DecoderBuffer,a=e("../base/node"),s=e("../constants/der");function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new l,this.tree._init(e.body)}function l(e){a.call(this,"der",e)}function u(e,t){let r=e.readUInt8(t);if(e.isError(r))return r;const n=s.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=e.readUInt8(t),e.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:s.tag[r]}}function f(e,t,r){let n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(let o=0;o<i;o++){n<<=8;const t=e.readUInt8(r);if(e.isError(t))return t;n|=t}return n}t.exports=c,c.prototype.decode=function(e,t){return o.isDecoderBuffer(e)||(e=new o(e,t)),this.tree._decode(e,t)},n(l,a),l.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;const n=e.save(),i=u(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},l.prototype._decodeTag=function(e,t,r){const n=u(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;let i=f(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');const o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},l.prototype._skipUntilEnd=function(e,t){for(;;){const r=u(e,t);if(e.isError(r))return r;const n=f(e,r.primitive,t);if(e.isError(n))return n;let i;if(i=r.primitive||null!==n?e.skip(n):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===r.tagStr)break}},l.prototype._decodeList=function(e,t,r,n){const i=[];for(;!e.isEmpty();){const t=this._peekTag(e,"end");if(e.isError(t))return t;const o=r.decode(e,"der",n);if(e.isError(o)&&t)break;i.push(o)}return i},l.prototype._decodeStr=function(e,t){if("bitstr"===t){const t=e.readUInt8();return e.isError(t)?t:{unused:t,data:e.raw()}}if("bmpstr"===t){const t=e.raw();if(t.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let r="";for(let e=0;e<t.length/2;e++)r+=String.fromCharCode(t.readUInt16BE(2*e));return r}if("numstr"===t){const t=e.raw().toString("ascii");return this._isNumstr(t)?t:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){const t=e.raw().toString("ascii");return this._isPrintstr(t)?t:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},l.prototype._decodeObjid=function(e,t,r){let n;const i=[];let o=0,a=0;for(;!e.isEmpty();)a=e.readUInt8(),o<<=7,o|=127&a,0==(128&a)&&(i.push(o),o=0);if(128&a&&i.push(o),n=r?i:[i[0]/40|0,i[0]%40].concat(i.slice(1)),t){let e=t[n.join(" ")];void 0===e&&(e=t[n.join(".")]),void 0!==e&&(n=e)}return n},l.prototype._decodeTime=function(e,t){const r=e.raw().toString();let n,i,o,a,s,c;if("gentime"===t)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),s=0|r.slice(10,12),c=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),a=0|r.slice(6,8),s=0|r.slice(8,10),c=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,a,s,c,0)},l.prototype._decodeNull=function(){return null},l.prototype._decodeBool=function(e){const t=e.readUInt8();return e.isError(t)?t:0!==t},l.prototype._decodeInt=function(e,t){const r=e.raw();let n=new i(r);return t&&(n=t[n.toString(10)]||n),n},l.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},{"../base/buffer":199,"../base/node":201,"../constants/der":203,"bn.js":211,inherits:334}],206:[function(e,t,r){"use strict";const n=r;n.der=e("./der"),n.pem=e("./pem")},{"./der":205,"./pem":207}],207:[function(e,t,r){"use strict";const n=e("inherits"),i=e("safer-buffer").Buffer,o=e("./der");function a(e){o.call(this,e),this.enc="pem"}n(a,o),t.exports=a,a.prototype.decode=function(e,t){const r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/;let s=-1,c=-1;for(let i=0;i<r.length;i++){const e=r[i].match(a);if(null!==e&&e[2]===n){if(-1!==s){if("END"!==e[1])break;c=i;break}if("BEGIN"!==e[1])break;s=i}}if(-1===s||-1===c)throw new Error("PEM section not found for: "+n);const l=r.slice(s+1,c).join("");l.replace(/[^a-z0-9+/=]+/gi,"");const u=i.from(l,"base64");return o.prototype.decode.call(this,u,t)}},{"./der":205,inherits:334,"safer-buffer":382}],208:[function(e,t,r){"use strict";const n=e("inherits"),i=e("safer-buffer").Buffer,o=e("../base/node"),a=e("../constants/der");function s(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){o.call(this,"der",e)}function l(e){return e<10?"0"+e:e}t.exports=s,s.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(c,o),c.prototype._encodeComposite=function(e,t,r,n){const o=function(e,t,r,n){let i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),a.tagByName.hasOwnProperty(e))i=a.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}return i>=31?n.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=a.tagClassByName[r||"universal"]<<6,i)}(e,t,r,this.reporter);if(n.length<128){const e=i.alloc(2);return e[0]=o,e[1]=n.length,this._createEncoderBuffer([e,n])}let s=1;for(let i=n.length;i>=256;i>>=8)s++;const c=i.alloc(2+s);c[0]=o,c[1]=128|s;for(let i=1+s,a=n.length;a>0;i--,a>>=8)c[i]=255&a;return this._createEncoderBuffer([c,n])},c.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){const t=i.alloc(2*e.length);for(let r=0;r<e.length;r++)t.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(t)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},c.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let t=0;t<e.length;t++)e[t]|=0}else if(Array.isArray(e)){e=e.slice();for(let t=0;t<e.length;t++)e[t]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}let n=0;for(let i=0;i<e.length;i++){let t=e[i];for(n++;t>=128;t>>=7)n++}const o=i.alloc(n);let a=o.length-1;for(let i=e.length-1;i>=0;i--){let t=e[i];for(o[a--]=127&t;(t>>=7)>0;)o[a--]=128|127&t}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(e,t){let r;const n=new Date(e);return"gentime"===t?r=[l(n.getUTCFullYear()),l(n.getUTCMonth()+1),l(n.getUTCDate()),l(n.getUTCHours()),l(n.getUTCMinutes()),l(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[l(n.getUTCFullYear()%100),l(n.getUTCMonth()+1),l(n.getUTCDate()),l(n.getUTCHours()),l(n.getUTCMinutes()),l(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){const t=e.toArray();!e.sign&&128&t[0]&&t.unshift(0),e=i.from(t)}if(i.isBuffer(e)){let t=e.length;0===e.length&&t++;const r=i.alloc(t);return e.copy(r),0===e.length&&(r[0]=0),this._createEncoderBuffer(r)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let r=1;for(let i=e;i>=256;i>>=8)r++;const n=new Array(r);for(let i=n.length-1;i>=0;i--)n[i]=255&e,e>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(i.from(n))},c.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},c.prototype._skipDefault=function(e,t,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=e.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,t,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},{"../base/node":201,"../constants/der":203,inherits:334,"safer-buffer":382}],209:[function(e,t,r){"use strict";const n=r;n.der=e("./der"),n.pem=e("./pem")},{"./der":208,"./pem":210}],210:[function(e,t,r){"use strict";const n=e("inherits"),i=e("./der");function o(e){i.call(this,e),this.enc="pem"}n(o,i),t.exports=o,o.prototype.encode=function(e,t){const r=i.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"];for(let i=0;i<r.length;i+=64)n.push(r.slice(i,i+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},{"./der":208,inherits:334}],211:[function(e,t,r){arguments[4][6][0].apply(r,arguments)},{buffer:219,dup:6}],212:[function(e,t,r){(function(r){"use strict";var n=e("object-assign");function i(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function o(e){return r.Buffer&&"function"==typeof r.Buffer.isBuffer?r.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=e("util/"),s=Object.prototype.hasOwnProperty,c=Array.prototype.slice,l="foo"===(function(){}).name;function u(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&"function"==typeof r.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var d=t.exports=y,h=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(a.isFunction(e)){if(l)return e.name;var t=e.toString().match(h);return t&&t[1]}}function b(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(l||!a.isFunction(e))return a.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function g(e,t,r,n,i){throw new d.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function y(e,t){e||g(e,!0,t,"==",d.ok)}function v(e,t,r,n){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&u(e)===u(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=w(e),o=w(t);if(i&&!o||!i&&o)return!1;if(i)return v(e=c.call(e),t=c.call(t),r);var s,l,u=k(e),f=k(t);if(u.length!==f.length)return!1;for(u.sort(),f.sort(),l=u.length-1;l>=0;l--)if(u[l]!==f[l])return!1;for(l=u.length-1;l>=0;l--)if(!v(e[s=u[l]],t[s],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(r){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function M(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(r){t=r}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&g(i,r,"Missing expected exception"+n);var o="string"==typeof n,s=!e&&i&&!r;if((!e&&a.isError(i)&&o&&_(i,r)||s)&&g(i,r,"Got unwanted exception"+n),e&&i&&r&&!_(i,r)||!e&&i)throw i}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return b(m(e.actual),128)+" "+e.operator+" "+b(m(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=p(t),o=n.indexOf("\n"+i);if(o>=0){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}},a.inherits(d.AssertionError,Error),d.fail=g,d.ok=y,d.equal=function(e,t,r){e!=t&&g(e,t,r,"==",d.equal)},d.notEqual=function(e,t,r){e==t&&g(e,t,r,"!=",d.notEqual)},d.deepEqual=function(e,t,r){v(e,t,!1)||g(e,t,r,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,r){v(e,t,!0)||g(e,t,r,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,r){v(e,t,!1)&&g(e,t,r,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,r,n){v(t,r,!0)&&g(t,r,n,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,r){e!==t&&g(e,t,r,"===",d.strictEqual)},d.notStrictEqual=function(e,t,r){e===t&&g(e,t,r,"!==",d.notStrictEqual)},d.throws=function(e,t,r){M(!0,e,t,r)},d.doesNotThrow=function(e,t,r){M(!1,e,t,r)},d.ifError=function(e){if(e)throw e},d.strict=n((function e(t,r){t||g(t,!0,r,"==",e)}),d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var k=Object.keys||function(e){var t=[];for(var r in e)s.call(e,r)&&t.push(r);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"object-assign":342,"util/":215}],213:[function(e,t,r){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],214:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],215:[function(e,t,r){(function(t,n){var i=/%[sdj%]/g;r.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return e}})),c=n[r];r<o;c=n[++r])b(c)||!w(c)?a+=" "+c:a+=" "+s(c);return a},r.deprecate=function(e,i){if(y(n.process))return function(){return r.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}};var o,a={};function s(e,t){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(t)?n.showHidden=t:t&&r._extend(n,t),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),u(n,e,n.depth)}function c(e,t){var r=s.styles[t];return r?"\x1b["+s.colors[r][0]+"m"+e+"\x1b["+s.colors[r][1]+"m":e}function l(e,t){return e}function u(e,t,n){if(e.customInspect&&t&&k(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return g(i)||(i=u(e,i,n)),i}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}(e,t);if(o)return o;var a=Object.keys(t),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),M(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(t);if(0===a.length){if(k(t))return e.stylize("[Function"+(t.name?": "+t.name:"")+"]","special");if(v(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(_(t))return e.stylize(Date.prototype.toString.call(t),"date");if(M(t))return f(t)}var c,l="",w=!1,S=["{","}"];return h(t)&&(w=!0,S=["[","]"]),k(t)&&(l=" [Function"+(t.name?": "+t.name:"")+"]"),v(t)&&(l=" "+RegExp.prototype.toString.call(t)),_(t)&&(l=" "+Date.prototype.toUTCString.call(t)),M(t)&&(l=" "+f(t)),0!==a.length||w&&0!=t.length?n<0?v(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=w?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)x(t,String(a))?o.push(d(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(d(e,t,r,n,i,!0))})),o}(e,t,n,s,a):a.map((function(r){return d(e,t,n,s,r,w)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,S)):S[0]+l+S[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=e.stylize(c.set?"[Getter/Setter]":"[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),x(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=b(r)?u(e,c.value,null):u(e,c.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function b(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function v(e){return w(e)&&"[object RegExp]"===S(e)}function w(e){return"object"==typeof e&&null!==e}function _(e){return w(e)&&"[object Date]"===S(e)}function M(e){return w(e)&&("[object Error]"===S(e)||e instanceof Error)}function k(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(e){if(y(o)&&(o=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=t.pid;a[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else a[e]=function(){};return a[e]},r.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=h,r.isBoolean=p,r.isNull=b,r.isNullOrUndefined=function(e){return null==e},r.isNumber=m,r.isString=g,r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=y,r.isRegExp=v,r.isObject=w,r.isDate=_,r.isError=M,r.isFunction=k,r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e("./support/isBuffer");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),E[e.getMonth()],t].join(" ")}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){console.log("%s - %s",P(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":214,_process:355,inherits:213}],216:[function(e,t,r){"use strict";r.byteLength=function(e){var t=l(e),r=t[1];return 3*(t[0]+r)/4-r},r.toByteArray=function(e){var t,r,n=l(e),a=n[0],s=n[1],c=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),u=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,c[u++]=255&t),1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(u(e,a,a+16383>s?s:a+16383));return 1===i?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var i,o=[],a=t;a<r;a+=3)o.push(n[(i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],217:[function(e,t,r){!function(t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof t?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;try{a=e("buffer").Buffer}catch(P){}function s(e,t,r){for(var i=0,o=Math.min(e.length,r),a=0,s=t;s<o;s++){var c,l=e.charCodeAt(s)-48;i<<=4,i|=c=l>=49&&l<=54?l-49+10:l>=17&&l<=22?l-17+10:l,a|=c}return n(!(240&a),"Invalid character in "+e),i}function c(e,t,r,i){for(var o=0,a=0,s=Math.min(e.length,r),c=t;c<s;c++){var l=e.charCodeAt(c)-48;o*=i,a=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&a<i,"Invalid character"),o+=a}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this._strip(),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)this.words[o]|=(a=e[i]|e[i-1]<<8|e[i-2]<<16)<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)this.words[o]|=(a=e[i]|e[i+1]<<8|e[i+2]<<16)<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=e.length-6,n=0;r>=t;r-=6)i=s(e,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==t&&(i=s(e,t,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,l=0,u=r;u<s;u+=n)l=c(e,u,u+n,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var f=1;for(l=c(e,u,e.length,t),u=0;u<a;u++)f*=t;this.imuln(f),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){l(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(P){o.prototype.inspect=u}else o.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=a/67108864|0;r.words[0]=67108863&a;for(var c=1;c<n;c++){for(var l=s>>>26,u=67108863&s,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++)l+=(a=(i=0|e.words[c-d|0])*(o=0|t.words[d])+u)/67108864|0,u=67108863&a;r.words[c]=0|u,s=0|l}return 0!==s?r.words[c]=0|s:r.length--,r._strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);r=0!=(o=s>>>24-i&16777215)||a!==this.length-1?f[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=d[e],u=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modrn(u).toString(e);r=(p=p.idivn(u)).isZero()?b+r:f[l-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r++]=255&a,r<e.length&&(e[r++]=a>>8&255),r<e.length&&(e[r++]=a>>16&255),6===o?(r<e.length&&(e[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r--]=255&a,r>=0&&(e[r--]=a>>8&255),r>=0&&(e[r--]=a>>16&255),6===o?(r>=0&&(e[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},o.prototype._countBits=Math.clz32?function(e){return 32-Math.clz32(e)}:function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)this.words[o]=67108863&(t=(0|r.words[o])+(0|n.words[o])+i),i=t>>>26;for(;0!==i&&o<r.length;o++)this.words[o]=67108863&(t=(0|r.words[o])+i),i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var b=function(e,t,r){var n,i,o,a=e.words,s=t.words,c=r.words,l=0,u=0|a[0],f=8191&u,d=u>>>13,h=0|a[1],p=8191&h,b=h>>>13,m=0|a[2],g=8191&m,y=m>>>13,v=0|a[3],w=8191&v,_=v>>>13,M=0|a[4],k=8191&M,S=M>>>13,C=0|a[5],E=8191&C,P=C>>>13,x=0|a[6],O=8191&x,A=x>>>13,T=0|a[7],R=8191&T,I=T>>>13,N=0|a[8],B=8191&N,D=N>>>13,j=0|a[9],L=8191&j,F=j>>>13,z=0|s[0],U=8191&z,K=z>>>13,H=0|s[1],q=8191&H,G=H>>>13,V=0|s[2],W=8191&V,Y=V>>>13,J=0|s[3],Z=8191&J,X=J>>>13,$=0|s[4],Q=8191&$,ee=$>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,le=se>>>13,ue=0|s[8],fe=8191&ue,de=ue>>>13,he=0|s[9],pe=8191&he,be=he>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(l+(n=Math.imul(f,U))|0)+((8191&(i=(i=Math.imul(f,K))+Math.imul(d,U)|0))<<13)|0;l=((o=Math.imul(d,K))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,K))+Math.imul(b,U)|0,o=Math.imul(b,K);var ge=(l+(n=n+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(d,q)|0))<<13)|0;l=((o=o+Math.imul(d,G)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,U),i=(i=Math.imul(g,K))+Math.imul(y,U)|0,o=Math.imul(y,K),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(b,q)|0,o=o+Math.imul(b,G)|0;var ye=(l+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(d,W)|0))<<13)|0;l=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,K))+Math.imul(_,U)|0,o=Math.imul(_,K),n=n+Math.imul(g,q)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,G)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,Y)|0;var ve=(l+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(d,Z)|0))<<13)|0;l=((o=o+Math.imul(d,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,U),i=(i=Math.imul(k,K))+Math.imul(S,U)|0,o=Math.imul(S,K),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,X)|0;var we=(l+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;l=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(E,U),i=(i=Math.imul(E,K))+Math.imul(P,U)|0,o=Math.imul(P,K),n=n+Math.imul(k,q)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,G)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0;var _e=(l+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(d,re)|0))<<13)|0;l=((o=o+Math.imul(d,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(O,U),i=(i=Math.imul(O,K))+Math.imul(A,U)|0,o=Math.imul(A,K),n=n+Math.imul(E,q)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,G)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Y)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Me=(l+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(d,oe)|0))<<13)|0;l=((o=o+Math.imul(d,ae)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(R,U),i=(i=Math.imul(R,K))+Math.imul(I,U)|0,o=Math.imul(I,K),n=n+Math.imul(O,q)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(E,W)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0;var ke=(l+(n=n+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,le)|0)+Math.imul(d,ce)|0))<<13)|0;l=((o=o+Math.imul(d,le)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,K))+Math.imul(D,U)|0,o=Math.imul(D,K),n=n+Math.imul(R,q)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,le)|0;var Se=(l+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;l=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,U),i=(i=Math.imul(L,K))+Math.imul(F,U)|0,o=Math.imul(F,K),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,G)|0,n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,le)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(b,fe)|0,o=o+Math.imul(b,de)|0;var Ce=(l+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,be)|0)+Math.imul(d,pe)|0))<<13)|0;l=((o=o+Math.imul(d,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,G))+Math.imul(F,q)|0,o=Math.imul(F,G),n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,X)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,ae)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,le)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,le)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,de)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,de)|0;var Ee=(l+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;l=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(L,W),i=(i=Math.imul(L,Y))+Math.imul(F,W)|0,o=Math.imul(F,Y),n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,X)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,n=n+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(S,ce)|0,o=o+Math.imul(S,le)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,de)|0;var Pe=(l+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,be)|0)+Math.imul(y,pe)|0))<<13)|0;l=((o=o+Math.imul(y,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,X))+Math.imul(F,Z)|0,o=Math.imul(F,X),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,n=n+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,le)|0)+Math.imul(P,ce)|0,o=o+Math.imul(P,le)|0,n=n+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(S,fe)|0,o=o+Math.imul(S,de)|0;var xe=(l+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,be)|0)+Math.imul(_,pe)|0))<<13)|0;l=((o=o+Math.imul(_,be)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,Q),i=(i=Math.imul(L,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(D,re)|0,o=o+Math.imul(D,ne)|0,n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,le)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,de)|0;var Oe=(l+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,be)|0)+Math.imul(S,pe)|0))<<13)|0;l=((o=o+Math.imul(S,be)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(F,re)|0,o=Math.imul(F,ne),n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,ae)|0)+Math.imul(D,oe)|0,o=o+Math.imul(D,ae)|0,n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,le)|0,n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,de)|0)+Math.imul(A,fe)|0,o=o+Math.imul(A,de)|0;var Ae=(l+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,be)|0)+Math.imul(P,pe)|0))<<13)|0;l=((o=o+Math.imul(P,be)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(L,oe),i=(i=Math.imul(L,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),n=n+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,le)|0)+Math.imul(D,ce)|0,o=o+Math.imul(D,le)|0,n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,de)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,de)|0;var Te=(l+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,be)|0)+Math.imul(A,pe)|0))<<13)|0;l=((o=o+Math.imul(A,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,ce),i=(i=Math.imul(L,le))+Math.imul(F,ce)|0,o=Math.imul(F,le),n=n+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,de)|0)+Math.imul(D,fe)|0,o=o+Math.imul(D,de)|0;var Re=(l+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,be)|0)+Math.imul(I,pe)|0))<<13)|0;l=((o=o+Math.imul(I,be)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(L,fe),i=(i=Math.imul(L,de))+Math.imul(F,fe)|0,o=Math.imul(F,de);var Ie=(l+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,be)|0)+Math.imul(D,pe)|0))<<13)|0;l=((o=o+Math.imul(D,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863;var Ne=(l+(n=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,be))+Math.imul(F,pe)|0))<<13)|0;return l=((o=Math.imul(F,be))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,c[0]=me,c[1]=ge,c[2]=ye,c[3]=ve,c[4]=we,c[5]=_e,c[6]=Me,c[7]=ke,c[8]=Se,c[9]=Ce,c[10]=Ee,c[11]=Pe,c[12]=xe,c[13]=Oe,c[14]=Ae,c[15]=Te,c[16]=Re,c[17]=Ie,c[18]=Ne,0!==l&&(c[19]=l,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=c;l++){var u=(0|e.words[o-l])*(0|t.words[l]),f=67108863&u;s=67108863&(f=f+s|0),i+=(a=(a=a+(u/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function g(e,t,r){return m(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(b=p),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?b(this,e,t):r<63?p(this,e,t):r<1024?m(this,e,t):g(this,e,t)},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var f=c,d=l,h=0;h<a;h++){var p=r[u+h],b=n[u+h],m=r[u+h+a],g=n[u+h+a],y=f*m-d*g;g=f*g+d*m,r[u+h]=p+(m=y),n[u+h]=b+g,r[u+h+a]=p-m,n[u+h+a]=b-g,h!==s&&(y=c*f-l*d,d=c*d+l*f,f=y)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,r,i){for(var o=0,a=0;a<t;a++)r[2*a]=8191&(o+=0|e[a]),r[2*a+1]=8191&(o>>>=13),o>>>=13;for(a=2*t;a<i;++a)r[a]=0;n(0===o),n(0==(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),l=new Array(n),u=new Array(n),f=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,l,n),this.transform(a,o,s,c,n,i),this.transform(l,o,u,f,n,i);for(var h=0;h<n;h++){var p=s[h]*u[h]-c[h]*f[h];c[h]=s[h]*f[h]+c[h]*u[h],s[h]=p}return this.conjugate(s,c,n),this.transform(s,c,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),g(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++)t[r]=e.words[r/26|0]>>>r%26&1;return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o;this.words[t]=(0|this.words[t])-s<<r|a,a=s>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=r;if(i-=a,i=Math.max(0,i),c){for(var l=0;l<a;l++)c.words[l]=this.words[l];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var f=0|this.words[l];this.words[l]=u<<26-o|f>>>o,u=f&s}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return!(this.length<=r||!(this.words[r]&1<<t))},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r?this:(0!==t&&r++,this.length=Math.min(r,this.length),0!==t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this._strip())},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o;this._expand(e.length+r);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var s=(0|e.words[i])*t;a=((o-=67108863&s)>>26)-(s/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r,n=this.clone(),i=e,a=0|i.words[i.length-1];0!=(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,c=n.length-i.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var u=n.clone()._ishlnsubmul(i,1,c);0===u.negative&&(n=u,s&&(s.words[c]=1));for(var f=c-1;f>=0;f--){var d=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(d=Math.min(d/a|0,67108863),n._ishlnsubmul(i,d,f);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=d)}return s&&s._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0==(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(u),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,b=1;0==(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(f)),s.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),a.isub(c)):(r.isub(t),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(l)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,u=1;0==(t.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(t.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var f=0,d=1;0==(r.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(r.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(s)):(r.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,this.words[a]=s&=67108863}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new C(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function M(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function C(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){C.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},i(_,w),_.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}e.words[n-10]=i>>>=22,e.length-=0===i&&e.length>10?10:9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];e.words[r]=67108863&(t+=977*n),t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(M,w),i(k,w),i(S,w),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new _;else if("p224"===e)t=new M;else if("p192"===e)t=new k;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return v[e]=t,t},C.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},C.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},C.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},C.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},C.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},C.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},C.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},C.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},C.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},C.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},C.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},C.prototype.isqr=function(e){return this.imul(e,e.clone())},C.prototype.sqr=function(e){return this.mul(e,e)},C.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var f=this.pow(u,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var b=h,m=0;0!==b.cmp(s);m++)b=b.redSqr();n(m<p);var g=this.pow(f,new o(1).iushln(p-m-1));d=d.redMul(g),f=g.redSqr(),h=h.redMul(f),p=m}return d},C.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},C.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var l=t.words[n],u=c-1;u>=0;u--){var f=l>>u&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4==++s||0===n&&0===u)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}c=26}return i},C.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},C.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new E(e)},i(E,C),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)},{buffer:219}],218:[function(e,t,r){arguments[4][7][0].apply(r,arguments)},{crypto:219,dup:7}],219:[function(e,t,r){},{}],220:[function(e,t,r){var n=e("safe-buffer").Buffer;function i(e){n.isBuffer(e)||(e=n.from(e));for(var t=e.length/4|0,r=new Array(t),i=0;i<t;i++)r[i]=e.readUInt32BE(4*i);return r}function o(e){for(;0<e.length;e++)e[0]=0}function a(e,t,r,n,i){for(var o,a,s,c,l=r[0],u=r[1],f=r[2],d=r[3],h=e[0]^t[0],p=e[1]^t[1],b=e[2]^t[2],m=e[3]^t[3],g=4,y=1;y<i;y++)o=l[h>>>24]^u[p>>>16&255]^f[b>>>8&255]^d[255&m]^t[g++],a=l[p>>>24]^u[b>>>16&255]^f[m>>>8&255]^d[255&h]^t[g++],s=l[b>>>24]^u[m>>>16&255]^f[h>>>8&255]^d[255&p]^t[g++],c=l[m>>>24]^u[h>>>16&255]^f[p>>>8&255]^d[255&b]^t[g++],h=o,p=a,b=s,m=c;return o=(n[h>>>24]<<24|n[p>>>16&255]<<16|n[b>>>8&255]<<8|n[255&m])^t[g++],a=(n[p>>>24]<<24|n[b>>>16&255]<<16|n[m>>>8&255]<<8|n[255&h])^t[g++],s=(n[b>>>24]<<24|n[m>>>16&255]<<16|n[h>>>8&255]<<8|n[255&p])^t[g++],c=(n[m>>>24]<<24|n[h>>>16&255]<<16|n[p>>>8&255]<<8|n[255&b])^t[g++],[o>>>=0,a>>>=0,s>>>=0,c>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,c=0;c<256;++c){var l=s^s<<1^s<<2^s<<3^s<<4;r[a]=l=l>>>8^255&l^99,n[l]=a;var u=e[a],f=e[u],d=e[f],h=257*e[l]^16843008*l;i[0][a]=h<<24|h>>>8,i[1][a]=h<<16|h>>>16,i[2][a]=h<<8|h>>>24,i[3][a]=h,o[0][l]=(h=16843009*d^65537*f^257*u^16843008*a)<<24|h>>>8,o[1][l]=h<<16|h>>>16,o[2][l]=h<<8|h>>>24,o[3][l]=h,0===a?a=s=1:(a=u^e[e[e[d^u]]],s^=e[e[s]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function l(e){this._key=i(e),this._reset()}l.blockSize=16,l.keySize=32,l.prototype.blockSize=l.blockSize,l.prototype.keySize=l.keySize,l.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<n;o++){var a=i[o-1];o%t==0?(a=c.SBOX[(a=a<<8|a>>>24)>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a],a^=s[o/t|0]<<24):t>6&&o%t==4&&(a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a]),i[o]=i[o-t]^a}for(var l=[],u=0;u<n;u++){var f=n-u,d=i[f-(u%4?0:4)];l[u]=u<4||f<=4?d:c.INV_SUB_MIX[0][c.SBOX[d>>>24]]^c.INV_SUB_MIX[1][c.SBOX[d>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[d>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&d]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=l},l.prototype.encryptBlockRaw=function(e){return a(e=i(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},l.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=n.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r},l.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var r=a(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),o=n.allocUnsafe(16);return o.writeUInt32BE(r[0],0),o.writeUInt32BE(r[3],4),o.writeUInt32BE(r[2],8),o.writeUInt32BE(r[1],12),o},l.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=l},{"safe-buffer":381}],221:[function(e,t,r){var n=e("./aes"),i=e("safe-buffer").Buffer,o=e("cipher-base"),a=e("inherits"),s=e("./ghash"),c=e("buffer-xor"),l=e("./incr32");function u(e,t,r,a){o.call(this);var c=i.alloc(4,0);this._cipher=new n.AES(t);var u=this._cipher.encryptBlock(c);this._ghash=new s(u),r=function(e,t,r){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var n=new s(r),o=t.length,a=o%16;n.update(t),a&&n.update(i.alloc(a=16-a,0)),n.update(i.alloc(8,0));var c=8*o,u=i.alloc(8);u.writeUIntBE(c,0,8),n.update(u),e._finID=n.state;var f=i.from(e._finID);return l(f),f}(this,r,u),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(u,o),u.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._ghash.update(this._decrypt?e:r),this._len+=e.length,r},u.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},u.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},u.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},u.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},t.exports=u},{"./aes":220,"./ghash":225,"./incr32":226,"buffer-xor":263,"cipher-base":265,inherits:334,"safe-buffer":381}],222:[function(e,t,r){var n=e("./encrypter"),i=e("./decrypter"),o=e("./modes/list.json");r.createCipher=r.Cipher=n.createCipher,r.createCipheriv=r.Cipheriv=n.createCipheriv,r.createDecipher=r.Decipher=i.createDecipher,r.createDecipheriv=r.Decipheriv=i.createDecipheriv,r.listCiphers=r.getCiphers=function(){return Object.keys(o)}},{"./decrypter":223,"./encrypter":224,"./modes/list.json":234}],223:[function(e,t,r){var n=e("./authCipher"),i=e("safe-buffer").Buffer,o=e("./modes"),a=e("./streamCipher"),s=e("cipher-base"),c=e("./aes"),l=e("evp_bytestokey");function u(e,t,r){s.call(this),this._cache=new f,this._last=void 0,this._cipher=new c.AES(t),this._prev=i.from(r),this._mode=e,this._autopadding=!0}function f(){this.cache=i.allocUnsafe(0)}function d(e,t,r){var s=o[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=i.from(r)),"GCM"!==s.mode&&r.length!==s.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof t&&(t=i.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===s.type?new a(s.module,t,r,!0):"auth"===s.type?new n(s.module,t,r,!0):new u(s.module,t,r)}e("inherits")(u,s),u.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return i.concat(n)},u.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=i.concat([this.cache,e])},f.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},r.createDecipher=function(e,t){var r=o[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=l(t,!1,r.key,r.iv);return d(e,n.key,n.iv)},r.createDecipheriv=d},{"./aes":220,"./authCipher":221,"./modes":233,"./streamCipher":236,"cipher-base":265,evp_bytestokey:303,inherits:334,"safe-buffer":381}],224:[function(e,t,r){var n=e("./modes"),i=e("./authCipher"),o=e("safe-buffer").Buffer,a=e("./streamCipher"),s=e("cipher-base"),c=e("./aes"),l=e("evp_bytestokey");function u(e,t,r){s.call(this),this._cache=new d,this._cipher=new c.AES(t),this._prev=o.from(r),this._mode=e,this._autopadding=!0}e("inherits")(u,s),u.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return o.concat(n)};var f=o.alloc(16,16);function d(){this.cache=o.allocUnsafe(0)}function h(e,t,r){var s=n[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=o.from(r)),"GCM"!==s.mode&&r.length!==s.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===s.type?new a(s.module,t,r):"auth"===s.type?new i(s.module,t,r):new u(s.module,t,r)}u.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=o.concat([this.cache,e])},d.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},d.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return o.concat([this.cache,t])},r.createCipheriv=h,r.createCipher=function(e,t){var r=n[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=l(t,!1,r.key,r.iv);return h(e,i.key,i.iv)}},{"./aes":220,"./authCipher":221,"./modes":233,"./streamCipher":236,"cipher-base":265,evp_bytestokey:303,inherits:334,"safe-buffer":381}],225:[function(e,t,r){var n=e("safe-buffer").Buffer,i=n.alloc(16,0);function o(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,r,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],a=-1;++a<128;){for(0!=(this.state[~~(a/8)]&1<<7-a%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=0!=(1&n[3]),t=3;t>0;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=o(i)},a.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(o([0,e,0,t])),this.state},t.exports=a},{"safe-buffer":381}],226:[function(e,t,r){t.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}},{}],227:[function(e,t,r){var n=e("buffer-xor");r.encrypt=function(e,t){var r=n(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},r.decrypt=function(e,t){var r=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return n(i,r)}},{"buffer-xor":263}],228:[function(e,t,r){var n=e("safe-buffer").Buffer,i=e("buffer-xor");function o(e,t,r){var o=t.length,a=i(t,e._cache);return e._cache=e._cache.slice(o),e._prev=n.concat([e._prev,r?t:a]),a}r.encrypt=function(e,t,r){for(var i,a=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){a=n.concat([a,o(e,t,r)]);break}a=n.concat([a,o(e,t.slice(0,i=e._cache.length),r)]),t=t.slice(i)}return a}},{"buffer-xor":263,"safe-buffer":381}],229:[function(e,t,r){var n=e("safe-buffer").Buffer;function i(e,t,r){for(var n,i,a=-1,s=0;++a<8;)s+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^(n=t&1<<7-a?128:0)))>>a%8,e._prev=o(e._prev,r?n:i);return s}function o(e,t){var r=e.length,i=-1,o=n.allocUnsafe(e.length);for(e=n.concat([e,n.from([t])]);++i<r;)o[i]=e[i]<<1|e[i+1]>>7;return o}r.encrypt=function(e,t,r){for(var o=t.length,a=n.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],r);return a}},{"safe-buffer":381}],230:[function(e,t,r){var n=e("safe-buffer").Buffer;function i(e,t,r){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([r?t:i])]),i}r.encrypt=function(e,t,r){for(var o=t.length,a=n.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],r);return a}},{"safe-buffer":381}],231:[function(e,t,r){var n=e("buffer-xor"),i=e("safe-buffer").Buffer,o=e("../incr32");function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}r.encrypt=function(e,t){var r=Math.ceil(t.length/16),o=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*r)]);for(var s=0;s<r;s++){var c=a(e),l=o+16*s;e._cache.writeUInt32BE(c[0],l+0),e._cache.writeUInt32BE(c[1],l+4),e._cache.writeUInt32BE(c[2],l+8),e._cache.writeUInt32BE(c[3],l+12)}var u=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,u)}},{"../incr32":226,"buffer-xor":263,"safe-buffer":381}],232:[function(e,t,r){r.encrypt=function(e,t){return e._cipher.encryptBlock(t)},r.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},{}],233:[function(e,t,r){var n={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},i=e("./list.json");for(var o in i)i[o].module=n[i[o].mode];t.exports=i},{"./cbc":227,"./cfb":228,"./cfb1":229,"./cfb8":230,"./ctr":231,"./ecb":232,"./list.json":234,"./ofb":235}],234:[function(e,t,r){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],235:[function(e,t,r){(function(t){var n=e("buffer-xor");function i(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}r.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=t.concat([e._cache,i(e)]);var o=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),n(r,o)}}).call(this,e("buffer").Buffer)},{buffer:264,"buffer-xor":263}],236:[function(e,t,r){var n=e("./aes"),i=e("safe-buffer").Buffer,o=e("cipher-base");function a(e,t,r,a){o.call(this),this._cipher=new n.AES(t),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=e}e("inherits")(a,o),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},t.exports=a},{"./aes":220,"cipher-base":265,inherits:334,"safe-buffer":381}],237:[function(e,t,r){var n=e("browserify-des"),i=e("browserify-aes/browser"),o=e("browserify-aes/modes"),a=e("browserify-des/modes"),s=e("evp_bytestokey");function c(e,t,r){if(e=e.toLowerCase(),o[e])return i.createCipheriv(e,t,r);if(a[e])return new n({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function l(e,t,r){if(e=e.toLowerCase(),o[e])return i.createDecipheriv(e,t,r);if(a[e])return new n({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}r.createCipher=r.Cipher=function(e,t){var r,n;if(e=e.toLowerCase(),o[e])r=o[e].key,n=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");r=8*a[e].key,n=a[e].iv}var i=s(t,!1,r,n);return c(e,i.key,i.iv)},r.createCipheriv=r.Cipheriv=c,r.createDecipher=r.Decipher=function(e,t){var r,n;if(e=e.toLowerCase(),o[e])r=o[e].key,n=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");r=8*a[e].key,n=a[e].iv}var i=s(t,!1,r,n);return l(e,i.key,i.iv)},r.createDecipheriv=r.Decipheriv=l,r.listCiphers=r.getCiphers=function(){return Object.keys(a).concat(i.getCiphers())}},{"browserify-aes/browser":222,"browserify-aes/modes":233,"browserify-des":238,"browserify-des/modes":239,evp_bytestokey:303}],238:[function(e,t,r){var n=e("cipher-base"),i=e("des.js"),o=e("inherits"),a=e("safe-buffer").Buffer,s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function c(e){n.call(this);var t,r=e.mode.toLowerCase(),i=s[r];t=e.decrypt?"decrypt":"encrypt";var o=e.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==r&&"des-ede-cbc"!==r||(o=a.concat([o,o.slice(0,8)]));var c=e.iv;a.isBuffer(c)||(c=a.from(c)),this._des=i.create({key:o,iv:c,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],t.exports=c,o(c,n),c.prototype._update=function(e){return a.from(this._des.update(e))},c.prototype._final=function(){return a.from(this._des.final())}},{"cipher-base":265,"des.js":274,inherits:334,"safe-buffer":381}],239:[function(e,t,r){r["des-ecb"]={key:8,iv:0},r["des-cbc"]=r.des={key:8,iv:8},r["des-ede3-cbc"]=r.des3={key:24,iv:8},r["des-ede3"]={key:24,iv:0},r["des-ede-cbc"]={key:16,iv:8},r["des-ede"]={key:16,iv:0}},{}],240:[function(e,t,r){(function(r){var n=e("bn.js"),i=e("randombytes");function o(e,t){var i=function(e){var t=a(e);return{blinder:t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(t),o=t.modulus.byteLength(),s=(n.mont(t.modulus),new n(e).mul(i.blinder).umod(t.modulus)),c=s.toRed(n.mont(t.prime1)),l=s.toRed(n.mont(t.prime2)),u=t.coefficient,f=t.prime1,d=t.prime2,h=c.redPow(t.exponent1),p=l.redPow(t.exponent2);h=h.fromRed(),p=p.fromRed();var b=h.isub(p).imul(u).umod(f);return b.imul(d),p.iadd(b),new r(p.imul(i.unblinder).umod(t.modulus).toArray(!1,o))}function a(e){for(var t=e.modulus.byteLength(),r=new n(i(t));r.cmp(e.modulus)>=0||!r.umod(e.prime1)||!r.umod(e.prime2);)r=new n(i(t));return r}t.exports=o,o.getr=a}).call(this,e("buffer").Buffer)},{"bn.js":241,buffer:264,randombytes:363}],241:[function(e,t,r){arguments[4][6][0].apply(r,arguments)},{buffer:219,dup:6}],242:[function(e,t,r){t.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":243}],243:[function(e,t,r){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],244:[function(e,t,r){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],245:[function(e,t,r){var n=e("safe-buffer").Buffer,i=e("create-hash"),o=e("readable-stream"),a=e("inherits"),s=e("./sign"),c=e("./verify"),l=e("./algorithms.json");function u(e){o.Writable.call(this);var t=l[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){o.Writable.call(this);var t=l[e];if(!t)throw new Error("Unknown message digest");this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function d(e){return new u(e)}function h(e){return new f(e)}Object.keys(l).forEach((function(e){l[e].id=n.from(l[e].id,"hex"),l[e.toLowerCase()]=l[e]})),a(u,o.Writable),u.prototype._write=function(e,t,r){this._hash.update(e),r()},u.prototype.update=function(e,t){return"string"==typeof e&&(e=n.from(e,t)),this._hash.update(e),this},u.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=s(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},a(f,o.Writable),f.prototype._write=function(e,t,r){this._hash.update(e),r()},f.prototype.update=function(e,t){return"string"==typeof e&&(e=n.from(e,t)),this._hash.update(e),this},f.prototype.verify=function(e,t,r){"string"==typeof t&&(t=n.from(t,r)),this.end();var i=this._hash.digest();return c(t,i,e,this._signType,this._tag)},t.exports={Sign:d,Verify:h,createSign:d,createVerify:h}},{"./algorithms.json":243,"./sign":246,"./verify":247,"create-hash":269,inherits:334,"readable-stream":262,"safe-buffer":381}],246:[function(e,t,r){var n=e("safe-buffer").Buffer,i=e("create-hmac"),o=e("browserify-rsa"),a=e("elliptic").ec,s=e("bn.js"),c=e("parse-asn1"),l=e("./curves.json");function u(e,t,r,o){if((e=n.from(e.toArray())).length<t.byteLength()){var a=n.alloc(t.byteLength()-e.length);e=n.concat([a,e])}var s=r.length,c=function(e,t){e=(e=f(e,t)).mod(t);var r=n.from(e.toArray());if(r.length<t.byteLength()){var i=n.alloc(t.byteLength()-r.length);r=n.concat([i,r])}return r}(r,t),l=n.alloc(s);l.fill(1);var u=n.alloc(s);return u=i(o,u).update(l).update(n.from([0])).update(e).update(c).digest(),l=i(o,u).update(l).digest(),{k:u=i(o,u).update(l).update(n.from([1])).update(e).update(c).digest(),v:l=i(o,u).update(l).digest()}}function f(e,t){var r=new s(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function d(e,t,r){var o,a;do{for(o=n.alloc(0);8*o.length<e.bitLength();)t.v=i(r,t.k).update(t.v).digest(),o=n.concat([o,t.v]);a=f(o,e),t.k=i(r,t.k).update(t.v).update(n.from([0])).digest(),t.v=i(r,t.k).update(t.v).digest()}while(-1!==a.cmp(e));return a}function h(e,t,r,n){return e.toRed(s.mont(r)).redPow(t).fromRed().mod(n)}t.exports=function(e,t,r,i,p){var b=c(t);if(b.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(e,t){var r=l[t.curve.join(".")];if(!r)throw new Error("unknown curve "+t.curve.join("."));var i=new a(r).keyFromPrivate(t.privateKey).sign(e);return n.from(i.toDER())}(e,b)}if("dsa"===b.type){if("dsa"!==i)throw new Error("wrong private key type");return function(e,t,r){for(var i,o=t.params.priv_key,a=t.params.p,c=t.params.q,l=t.params.g,p=new s(0),b=f(e,c).mod(c),m=!1,g=u(o,c,e,r);!1===m;)p=h(l,i=d(c,g,r),a,c),0===(m=i.invm(c).imul(b.add(o.mul(p))).mod(c)).cmpn(0)&&(m=!1,p=new s(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var r=[48,e.length+t.length+4,2,e.length];return r=r.concat(e,[2,t.length],t),n.from(r)}(p,m)}(e,b,r)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");e=n.concat([p,e]);for(var m=b.modulus.byteLength(),g=[0,1];e.length+g.length+1<m;)g.push(255);g.push(0);for(var y=-1;++y<e.length;)g.push(e[y]);return o(g,b)},t.exports.getKey=u,t.exports.makeKey=d},{"./curves.json":244,"bn.js":217,"browserify-rsa":240,"create-hmac":271,elliptic:285,"parse-asn1":347,"safe-buffer":381}],247:[function(e,t,r){var n=e("safe-buffer").Buffer,i=e("bn.js"),o=e("elliptic").ec,a=e("parse-asn1"),s=e("./curves.json");function c(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}t.exports=function(e,t,r,l,u){var f=a(r);if("ec"===f.type){if("ecdsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");return function(e,t,r){var n=s[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));return new o(n).verify(t,e,r.data.subjectPrivateKey.data)}(e,t,f)}if("dsa"===f.type){if("dsa"!==l)throw new Error("wrong public key type");return function(e,t,r){var n=r.data.p,o=r.data.q,s=r.data.g,l=r.data.pub_key,u=a.signature.decode(e,"der"),f=u.s,d=u.r;c(f,o),c(d,o);var h=i.mont(n),p=f.invm(o);return 0===s.toRed(h).redPow(new i(t).mul(p).mod(o)).fromRed().mul(l.toRed(h).redPow(d.mul(p).mod(o)).fromRed()).mod(n).mod(o).cmp(d)}(e,t,f)}if("rsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");t=n.concat([u,t]);for(var d=f.modulus.byteLength(),h=[1],p=0;t.length+h.length+2<d;)h.push(255),p++;h.push(0);for(var b=-1;++b<t.length;)h.push(t[b]);h=n.from(h);var m=i.mont(f.modulus);e=(e=new i(e).toRed(m)).redPow(new i(f.publicExponent)),e=n.from(e.fromRed().toArray());var g=p<8?1:0;for(d=Math.min(e.length,h.length),e.length!==h.length&&(g=1),b=-1;++b<d;)g|=e[b]^h[b];return 0===g}},{"./curves.json":244,"bn.js":217,elliptic:285,"parse-asn1":347,"safe-buffer":381}],248:[function(e,t,r){arguments[4][165][0].apply(r,arguments)},{dup:165}],249:[function(e,t,r){arguments[4][166][0].apply(r,arguments)},{"./_stream_readable":251,"./_stream_writable":253,_process:355,dup:166,inherits:334}],250:[function(e,t,r){arguments[4][167][0].apply(r,arguments)},{"./_stream_transform":252,dup:167,inherits:334}],251:[function(e,t,r){arguments[4][168][0].apply(r,arguments)},{"../errors":248,"./_stream_duplex":249,"./internal/streams/async_iterator":254,"./internal/streams/buffer_list":255,"./internal/streams/destroy":256,"./internal/streams/from":258,"./internal/streams/state":260,"./internal/streams/stream":261,_process:355,buffer:264,dup:168,events:302,inherits:334,"string_decoder/":392,util:219}],252:[function(e,t,r){arguments[4][169][0].apply(r,arguments)},{"../errors":248,"./_stream_duplex":249,dup:169,inherits:334}],253:[function(e,t,r){arguments[4][170][0].apply(r,arguments)},{"../errors":248,"./_stream_duplex":249,"./internal/streams/destroy":256,"./internal/streams/state":260,"./internal/streams/stream":261,_process:355,buffer:264,dup:170,inherits:334,"util-deprecate":394}],254:[function(e,t,r){arguments[4][171][0].apply(r,arguments)},{"./end-of-stream":257,_process:355,dup:171}],255:[function(e,t,r){arguments[4][172][0].apply(r,arguments)},{buffer:264,dup:172,util:219}],256:[function(e,t,r){arguments[4][173][0].apply(r,arguments)},{_process:355,dup:173}],257:[function(e,t,r){arguments[4][174][0].apply(r,arguments)},{"../../../errors":248,dup:174}],258:[function(e,t,r){arguments[4][175][0].apply(r,arguments)},{dup:175}],259:[function(e,t,r){arguments[4][176][0].apply(r,arguments)},{"../../../errors":248,"./end-of-stream":257,dup:176}],260:[function(e,t,r){arguments[4][177][0].apply(r,arguments)},{"../../../errors":248,dup:177}],261:[function(e,t,r){arguments[4][178][0].apply(r,arguments)},{dup:178,events:302}],262:[function(e,t,r){arguments[4][179][0].apply(r,arguments)},{"./lib/_stream_duplex.js":249,"./lib/_stream_passthrough.js":250,"./lib/_stream_readable.js":251,"./lib/_stream_transform.js":252,"./lib/_stream_writable.js":253,"./lib/internal/streams/end-of-stream.js":257,"./lib/internal/streams/pipeline.js":259,dup:179}],263:[function(e,t,r){(function(e){t.exports=function(t,r){for(var n=Math.min(t.length,r.length),i=new e(n),o=0;o<n;++o)i[o]=t[o]^r[o];return i}}).call(this,e("buffer").Buffer)},{buffer:264}],264:[function(e,t,r){(function(t){"use strict";var n=e("base64-js"),i=e("ieee754");function o(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=new Uint8Array(e);return r.__proto__=t.prototype,r}function t(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return a(e,t,r)}function a(e,r,n){if("string"==typeof e)return function(e,r){if("string"==typeof r&&""!==r||(r="utf8"),!t.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var n=0|f(e,r),i=o(n),a=i.write(e,r);return a!==n&&(i=i.slice(0,a)),i}(e,r);if(ArrayBuffer.isView(e))return l(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(j(e,ArrayBuffer)||e&&j(e.buffer,ArrayBuffer))return function(e,r,n){if(r<0||e.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<r+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return(i=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n)).__proto__=t.prototype,i}(e,r,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return t.from(i,r,n);var a=function(e){if(t.isBuffer(e)){var r=0|u(e.length),n=o(r);return 0===n.length||e.copy(n,0,0,r),n}return void 0!==e.length?"number"!=typeof e.length||L(e.length)?o(0):l(e):"Buffer"===e.type&&Array.isArray(e.data)?l(e.data):void 0}(e);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),r,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return s(e),o(e<0?0:0|u(e))}function l(e){for(var t=e.length<0?0:0|u(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function u(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function f(e,r){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||j(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var o=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(o)return i?-1:N(e).length;r=(""+r).toLowerCase(),o=!0}}function d(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return S(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return M(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function h(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function p(e,r,n,i,o){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),L(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof r&&(r=t.from(r,i)),t.isBuffer(r))return 0===r.length?-1:b(e,r,n,i,o);if("number"==typeof r)return r&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,r,n):Uint8Array.prototype.lastIndexOf.call(e,r,n):b(e,[r],n,i,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){var o,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){for(var f=!0,d=0;d<c;d++)if(l(e,o+d)!==l(t,d)){f=!1;break}if(f)return o}return-1}function m(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(L(s))return a;e[r+a]=s}return a}function g(e,t,r,n){return D(N(t,e.length-r),e,r,n)}function y(e,t,r,n){return D(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function v(e,t,r,n){return y(e,t,r,n)}function w(e,t,r,n){return D(B(t),e,r,n)}function _(e,t,r,n){return D(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(t,e.length-r),e,r,n)}function M(e,t,r){return n.fromByteArray(0===t&&r===e.length?e:e.slice(t,r))}function k(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,c,l=e[i],u=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=r)switch(f){case 1:l<128&&(u=l);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&(c=(15&l)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:a=e[i+2],s=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&s)&&(c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,f=1):u>65535&&(n.push((u-=65536)>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function S(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function E(e,t,r){var n,i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var o="",a=t;a<r;++a)o+=(n=e[a])<16?"0"+n.toString(16):n.toString(16);return o}function P(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function x(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,r,n,i,o,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>o||r<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function A(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function T(e,t,r,n,o){return t=+t,r>>>=0,o||A(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function R(e,t,r,n,o){return t=+t,r>>>=0,o||A(e,0,r,8),i.write(e,t,r,n,52,8),r+8}r.Buffer=t,r.SlowBuffer=function(e){return+e!=e&&(e=0),t.alloc(+e)},r.INSPECT_MAX_BYTES=50,r.kMaxLength=2147483647,(t.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(e,t,r){return a(e,t,r)},t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,t.alloc=function(e,t,r){return function(e,t,r){return s(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},t.allocUnsafe=function(e){return c(e)},t.allocUnsafeSlow=function(e){return c(e)},t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,r){if(j(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),j(r,Uint8Array)&&(r=t.from(r,r.offset,r.byteLength)),!t.isBuffer(e)||!t.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var n=e.length,i=r.length,o=0,a=Math.min(n,i);o<a;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0},t.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var n;if(void 0===r)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=t.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){var a=e[n];if(j(a,Uint8Array)&&(a=t.from(a)),!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},t.byteLength=f,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},t.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},t.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},t.prototype.toLocaleString=t.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):d.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},t.prototype.compare=function(e,r,n,i,o){if(j(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===r&&(r=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(i>>>=0),s=(n>>>=0)-(r>>>=0),c=Math.min(a,s),l=this.slice(i,o),u=e.slice(r,n),f=0;f<c;++f)if(l[f]!==u[f]){a=l[f],s=u[f];break}return a<s?-1:s<a?1:0},t.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},t.prototype.indexOf=function(e,t,r){return p(this,e,t,r,!0)},t.prototype.lastIndexOf=function(e,t,r){return p(this,e,t,r,!1)},t.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return m(this,e,t,r);case"utf8":case"utf-8":return g(this,e,t,r);case"ascii":return y(this,e,t,r);case"latin1":case"binary":return v(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},t.prototype.slice=function(e,r){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<e&&(r=e);var i=this.subarray(e,r);return i.__proto__=t.prototype,i},t.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},t.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},t.prototype.readUInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),this[e]},t.prototype.readUInt16LE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUInt16BE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},t.prototype.readUInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},t.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},t.prototype.readInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},t.prototype.readInt16LE=function(e,t){e>>>=0,t||x(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt16BE=function(e,t){e>>>=0,t||x(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readFloatLE=function(e,t){return e>>>=0,t||x(e,4,this.length),i.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,t){return e>>>=0,t||x(e,4,this.length),i.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,t){return e>>>=0,t||x(e,8,this.length),i.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,t){return e>>>=0,t||x(e,8,this.length),i.read(this,e,!1,52,8)},t.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},t.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},t.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,255,0),this[t]=255&e,t+1},t.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},t.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},t.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},t.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},t.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},t.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeFloatLE=function(e,t,r){return T(this,e,t,!0,r)},t.prototype.writeFloatBE=function(e,t,r){return T(this,e,t,!1,r)},t.prototype.writeDoubleLE=function(e,t,r){return R(this,e,t,!0,r)},t.prototype.writeDoubleBE=function(e,t,r){return R(this,e,t,!1,r)},t.prototype.copy=function(e,r,n,i){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var o=i-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(r,n,i);else if(this===e&&n<r&&r<i)for(var a=o-1;a>=0;--a)e[a+r]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,i),r);return o},t.prototype.fill=function(e,r,n,i){if("string"==typeof e){if("string"==typeof r?(i=r,r=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var o=e.charCodeAt(0);("utf8"===i&&o<128||"latin1"===i)&&(e=o)}}else"number"==typeof e&&(e&=255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;var a;if(r>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=r;a<n;++a)this[a]=e;else{var s=t.isBuffer(e)?e:t.from(e,i),c=s.length;if(0===c)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-r;++a)this[a+r]=s[a%c]}return this};var I=/[^+/0-9A-Za-z-_]/g;function N(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function B(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function D(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function j(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function L(e){return e!=e}}).call(this,e("buffer").Buffer)},{"base64-js":216,buffer:264,ieee754:333}],265:[function(e,t,r){arguments[4][8][0].apply(r,arguments)},{dup:8,inherits:334,"safe-buffer":381,stream:391,string_decoder:392}],266:[function(e,t,r){(function(e){function t(e){return Object.prototype.toString.call(e)}r.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},r.isBoolean=function(e){return"boolean"==typeof e},r.isNull=function(e){return null===e},r.isNullOrUndefined=function(e){return null==e},r.isNumber=function(e){return"number"==typeof e},r.isString=function(e){return"string"==typeof e},r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=function(e){return void 0===e},r.isRegExp=function(e){return"[object RegExp]"===t(e)},r.isObject=function(e){return"object"==typeof e&&null!==e},r.isDate=function(e){return"[object Date]"===t(e)},r.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},r.isFunction=function(e){return"function"==typeof e},r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":335}],267:[function(e,t,r){(function(r){var n=e("elliptic"),i=e("bn.js");t.exports=function(e){return new a(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function s(e,t,n){Array.isArray(e)||(e=e.toArray());var i=new r(e);if(n&&i.length<n){var o=new r(n-i.length);o.fill(0),i=r.concat([o,i])}return t?i.toString(t):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,t,n){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[0]=r[r.length-1]%2?7:6),s(r,e)},a.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,t){t=t||"utf8",r.isBuffer(e)||(e=new r(e,t));var n=new i(e);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this}}).call(this,e("buffer").Buffer)},{"bn.js":268,buffer:264,elliptic:285}],268:[function(e,t,r){arguments[4][6][0].apply(r,arguments)},{buffer:219,dup:6}],269:[function(e,t,r){arguments[4][61][0].apply(r,arguments)},{"cipher-base":265,dup:61,inherits:334,"md5.js":337,ripemd160:380,"sha.js":384}],270:[function(e,t,r){var n=e("md5.js");t.exports=function(e){return(new n).update(e).digest()}},{"md5.js":337}],271:[function(e,t,r){"use strict";var n=e("inherits"),i=e("./legacy"),o=e("cipher-base"),a=e("safe-buffer").Buffer,s=e("create-hash/md5"),c=e("ripemd160"),l=e("sha.js"),u=a.alloc(128);function f(e,t){o.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var r="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>r?t=("rmd160"===e?new c:l(e)).update(t).digest():t.length<r&&(t=a.concat([t,u],r));for(var n=this._ipad=a.allocUnsafe(r),i=this._opad=a.allocUnsafe(r),s=0;s<r;s++)n[s]=54^t[s],i[s]=92^t[s];this._hash="rmd160"===e?new c:l(e),this._hash.update(n)}n(f,o),f.prototype._update=function(e){this._hash.update(e)},f.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:l(this._alg)).update(this._opad).update(e).digest()},t.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new f("rmd160",t):"md5"===e?new i(s,t):new f(e,t)}},{"./legacy":272,"cipher-base":265,"create-hash/md5":270,inherits:334,ripemd160:380,"safe-buffer":381,"sha.js":384}],272:[function(e,t,r){"use strict";var n=e("inherits"),i=e("safe-buffer").Buffer,o=e("cipher-base"),a=i.alloc(128);function s(e,t){o.call(this,"digest"),"string"==typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>64?t=e(t):t.length<64&&(t=i.concat([t,a],64));for(var r=this._ipad=i.allocUnsafe(64),n=this._opad=i.allocUnsafe(64),s=0;s<64;s++)r[s]=54^t[s],n[s]=92^t[s];this._hash=[r]}n(s,o),s.prototype._update=function(e){this._hash.push(e)},s.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},t.exports=s},{"cipher-base":265,inherits:334,"safe-buffer":381}],273:[function(e,t,r){"use strict";r.randomBytes=r.rng=r.pseudoRandomBytes=r.prng=e("randombytes"),r.createHash=r.Hash=e("create-hash"),r.createHmac=r.Hmac=e("create-hmac");var n=e("browserify-sign/algos"),i=Object.keys(n),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);r.getHashes=function(){return o};var a=e("pbkdf2");r.pbkdf2=a.pbkdf2,r.pbkdf2Sync=a.pbkdf2Sync;var s=e("browserify-cipher");r.Cipher=s.Cipher,r.createCipher=s.createCipher,r.Cipheriv=s.Cipheriv,r.createCipheriv=s.createCipheriv,r.Decipher=s.Decipher,r.createDecipher=s.createDecipher,r.Decipheriv=s.Decipheriv,r.createDecipheriv=s.createDecipheriv,r.getCiphers=s.getCiphers,r.listCiphers=s.listCiphers;var c=e("diffie-hellman");r.DiffieHellmanGroup=c.DiffieHellmanGroup,r.createDiffieHellmanGroup=c.createDiffieHellmanGroup,r.getDiffieHellman=c.getDiffieHellman,r.createDiffieHellman=c.createDiffieHellman,r.DiffieHellman=c.DiffieHellman;var l=e("browserify-sign");r.createSign=l.createSign,r.Sign=l.Sign,r.createVerify=l.createVerify,r.Verify=l.Verify,r.createECDH=e("create-ecdh");var u=e("public-encrypt");r.publicEncrypt=u.publicEncrypt,r.privateEncrypt=u.privateEncrypt,r.publicDecrypt=u.publicDecrypt,r.privateDecrypt=u.privateDecrypt;var f=e("randomfill");r.randomFill=f.randomFill,r.randomFillSync=f.randomFillSync,r.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},r.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":237,"browserify-sign":245,"browserify-sign/algos":242,"create-ecdh":267,"create-hash":269,"create-hmac":271,"diffie-hellman":280,pbkdf2:348,"public-encrypt":356,randombytes:363,randomfill:364}],274:[function(e,t,r){"use strict";r.utils=e("./des/utils"),r.Cipher=e("./des/cipher"),r.DES=e("./des/des"),r.CBC=e("./des/cbc"),r.EDE=e("./des/ede")},{"./des/cbc":275,"./des/cipher":276,"./des/des":277,"./des/ede":278,"./des/utils":279}],275:[function(e,t,r){"use strict";var n=e("minimalistic-assert"),i=e("inherits"),o={};function a(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}r.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var r=Object.keys(o),n=0;n<r.length;n++){var a=r[n];t.prototype[a]=o[a]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new a(this.options.iv);this._cbcState=e},o._update=function(e,t,r,n){var i=this.constructor.super_.prototype,o=this._cbcState.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)o[a]^=e[t+a];for(i._update.call(this,o,0,r,n),a=0;a<this.blockSize;a++)o[a]=r[n+a]}else{for(i._update.call(this,e,t,r,n),a=0;a<this.blockSize;a++)r[n+a]^=o[a];for(a=0;a<this.blockSize;a++)o[a]=e[t+a]}}},{inherits:334,"minimalistic-assert":340}],276:[function(e,t,r){"use strict";var n=e("minimalistic-assert");function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,r=0,n=new Array(((this.bufferOff+e.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(n,r)));for(var i=e.length-(e.length-t)%this.blockSize;t<i;t+=this.blockSize)this._update(e,t,n,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return n},i.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},{"minimalistic-assert":340}],277:[function(e,t,r){"use strict";var n=e("minimalistic-assert"),i=e("inherits"),o=e("./utils"),a=e("./cipher");function s(){this.tmp=new Array(2),this.keys=null}function c(e){a.call(this,e);var t=new s;this._desState=t,this.deriveKeys(t,e.key)}i(c,a),t.exports=c,c.create=function(e){return new c(e)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),n.equal(t.length,this.blockSize,"Invalid key length");var r=o.readUInt32BE(t,0),i=o.readUInt32BE(t,4);o.pc1(r,i,e.tmp,0),r=e.tmp[0],i=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var s=l[a>>>1];r=o.r28shl(r,s),i=o.r28shl(i,s),o.pc2(r,i,e.keys,a)}},c.prototype._update=function(e,t,r,n){var i=this._desState,a=o.readUInt32BE(e,t),s=o.readUInt32BE(e,t+4);o.ip(a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,a,s,i.tmp,0):this._decrypt(i,a,s,i.tmp,0),s=i.tmp[1],o.writeUInt32BE(r,a=i.tmp[0],n),o.writeUInt32BE(r,s,n+4)},c.prototype._pad=function(e,t){for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},c.prototype._unpad=function(e){for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)n.equal(e[r],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,r,n,i){for(var a=t,s=r,c=0;c<e.keys.length;c+=2){var l=e.keys[c],u=e.keys[c+1];o.expand(s,e.tmp,0);var f=o.substitute(l^=e.tmp[0],u^=e.tmp[1]),d=s;s=(a^o.permute(f))>>>0,a=d}o.rip(s,a,n,i)},c.prototype._decrypt=function(e,t,r,n,i){for(var a=r,s=t,c=e.keys.length-2;c>=0;c-=2){var l=e.keys[c],u=e.keys[c+1];o.expand(a,e.tmp,0);var f=o.substitute(l^=e.tmp[0],u^=e.tmp[1]),d=a;a=(s^o.permute(f))>>>0,s=d}o.rip(a,s,n,i)}},{"./cipher":276,"./utils":279,inherits:334,"minimalistic-assert":340}],278:[function(e,t,r){"use strict";var n=e("minimalistic-assert"),i=e("inherits"),o=e("./cipher"),a=e("./des");function s(e,t){n.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),i=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:r}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:r})]}function c(e){o.call(this,e);var t=new s(this.type,this.options.key);this._edeState=t}i(c,o),t.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},c.prototype._pad=a.prototype._pad,c.prototype._unpad=a.prototype._unpad},{"./cipher":276,"./des":277,inherits:334,"minimalistic-assert":340}],279:[function(e,t,r){"use strict";r.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},r.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},r.ip=function(e,t,r,n){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}r[n+0]=i>>>0,r[n+1]=o>>>0},r.rip=function(e,t,r,n){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=t>>>s+a&1,i<<=1,i|=e>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;r[n+0]=i>>>0,r[n+1]=o>>>0},r.pc1=function(e,t,r,n){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1}for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;r[n+0]=i>>>0,r[n+1]=o>>>0},r.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];r.pc2=function(e,t,r,i){for(var o=0,a=0,s=n.length>>>1,c=0;c<s;c++)o<<=1,o|=e>>>n[c]&1;for(c=s;c<n.length;c++)a<<=1,a|=t>>>n[c]&1;r[i+0]=o>>>0,r[i+1]=a>>>0},r.expand=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=e>>>o&63;for(o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];r.substitute=function(e,t){for(var r=0,n=0;n<4;n++)r<<=4,r|=i[64*n+(e>>>18-6*n&63)];for(n=0;n<4;n++)r<<=4,r|=i[256+64*n+(t>>>18-6*n&63)];return r>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];r.permute=function(e){for(var t=0,r=0;r<o.length;r++)t<<=1,t|=e>>>o[r]&1;return t>>>0},r.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],o=0;o<t;o+=r)i.push(n.slice(o,o+r));return i.join(" ")}},{}],280:[function(e,t,r){(function(t){var n=e("./lib/generatePrime"),i=e("./lib/primes.json"),o=e("./lib/dh"),a={binary:!0,hex:!0,base64:!0};r.DiffieHellmanGroup=r.createDiffieHellmanGroup=r.getDiffieHellman=function(e){var r=new t(i[e].prime,"hex"),n=new t(i[e].gen,"hex");return new o(r,n)},r.createDiffieHellman=r.DiffieHellman=function e(r,i,s,c){return t.isBuffer(i)||void 0===a[i]?e(r,"binary",i,s):(i=i||"binary",c=c||"binary",s=s||new t([2]),t.isBuffer(s)||(s=new t(s,c)),"number"==typeof r?new o(n(r,s),s,!0):(t.isBuffer(r)||(r=new t(r,i)),new o(r,s,!0)))}}).call(this,e("buffer").Buffer)},{"./lib/dh":281,"./lib/generatePrime":282,"./lib/primes.json":283,buffer:264}],281:[function(e,t,r){(function(r){var n=e("bn.js"),i=new(e("miller-rabin")),o=new n(24),a=new n(11),s=new n(10),c=new n(3),l=new n(7),u=e("./generatePrime"),f=e("randombytes");function d(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this._pub=new n(e),this}function h(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this._priv=new n(e),this}t.exports=b;var p={};function b(e,t,r){this.setGenerator(t),this.__prime=new n(e),this._prime=n.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=d,this.setPrivateKey=h):this._primeCode=8}function m(e,t){var n=new r(e.toArray());return t?n.toString(t):n}Object.defineProperty(b.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in p)return p[n];var f,d=0;if(e.isEven()||!u.simpleSieve||!u.fermatTest(e)||!i.test(e))return d+=1,p[n]=d+="02"===r||"05"===r?8:4,d;switch(i.test(e.shrn(1))||(d+=2),r){case"02":e.mod(o).cmp(a)&&(d+=8);break;case"05":(f=e.mod(s)).cmp(c)&&f.cmp(l)&&(d+=8);break;default:d+=4}return p[n]=d,d}(this.__prime,this.__gen)),this._primeCode}}),b.prototype.generateKeys=function(){return this._priv||(this._priv=new n(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},b.prototype.computeSecret=function(e){var t=(e=(e=new n(e)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new r(t.toArray()),o=this.getPrime();if(i.length<o.length){var a=new r(o.length-i.length);a.fill(0),i=r.concat([a,i])}return i},b.prototype.getPublicKey=function(e){return m(this._pub,e)},b.prototype.getPrivateKey=function(e){return m(this._priv,e)},b.prototype.getPrime=function(e){return m(this.__prime,e)},b.prototype.getGenerator=function(e){return m(this._gen,e)},b.prototype.setGenerator=function(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this.__gen=e,this._gen=new n(e),this}}).call(this,e("buffer").Buffer)},{"./generatePrime":282,"bn.js":284,buffer:264,"miller-rabin":338,randombytes:363}],282:[function(e,t,r){var n=e("randombytes");t.exports=y,y.simpleSieve=m,y.fermatTest=g;var i=e("bn.js"),o=new i(24),a=new(e("miller-rabin")),s=new i(1),c=new i(2),l=new i(5),u=(new i(16),new i(8),new i(10)),f=new i(3),d=(new i(7),new i(11)),h=new i(4),p=(new i(12),null);function b(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!=0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return p=e,e}function m(e){for(var t=b(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function g(e){var t=i.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function y(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var r,p;for(t=new i(t);;){for(r=new i(n(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(s),r.testn(1)||r.iadd(c),t.cmp(c)){if(!t.cmp(l))for(;r.mod(u).cmp(f);)r.iadd(h)}else for(;r.mod(o).cmp(d);)r.iadd(h);if(m(p=r.shrn(1))&&m(r)&&g(p)&&g(r)&&a.test(p)&&a.test(r))return r}}},{"bn.js":284,"miller-rabin":338,randombytes:363}],283:[function(e,t,r){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],284:[function(e,t,r){arguments[4][6][0].apply(r,arguments)},{buffer:219,dup:6}],285:[function(e,t,r){arguments[4][63][0].apply(r,arguments)},{"../package.json":301,"./elliptic/curve":288,"./elliptic/curves":291,"./elliptic/ec":292,"./elliptic/eddsa":295,"./elliptic/utils":299,brorand:218,dup:63}],286:[function(e,t,r){arguments[4][64][0].apply(r,arguments)},{"../utils":299,"bn.js":300,dup:64}],287:[function(e,t,r){arguments[4][65][0].apply(r,arguments)},{"../utils":299,"./base":286,"bn.js":300,dup:65,inherits:334}],288:[function(e,t,r){arguments[4][66][0].apply(r,arguments)},{"./base":286,"./edwards":287,"./mont":289,"./short":290,dup:66}],289:[function(e,t,r){arguments[4][67][0].apply(r,arguments)},{"../utils":299,"./base":286,"bn.js":300,dup:67,inherits:334}],290:[function(e,t,r){arguments[4][68][0].apply(r,arguments)},{"../utils":299,"./base":286,"bn.js":300,dup:68,inherits:334}],291:[function(e,t,r){arguments[4][69][0].apply(r,arguments)},{"./curve":288,"./precomputed/secp256k1":298,"./utils":299,dup:69,"hash.js":320}],292:[function(e,t,r){arguments[4][70][0].apply(r,arguments)},{"../curves":291,"../utils":299,"./key":293,"./signature":294,"bn.js":300,brorand:218,dup:70,"hmac-drbg":332}],293:[function(e,t,r){arguments[4][71][0].apply(r,arguments)},{"../utils":299,"bn.js":300,dup:71}],294:[function(e,t,r){arguments[4][72][0].apply(r,arguments)},{"../utils":299,"bn.js":300,dup:72}],295:[function(e,t,r){arguments[4][73][0].apply(r,arguments)},{"../curves":291,"../utils":299,"./key":296,"./signature":297,dup:73,"hash.js":320}],296:[function(e,t,r){arguments[4][74][0].apply(r,arguments)},{"../utils":299,dup:74}],297:[function(e,t,r){arguments[4][75][0].apply(r,arguments)},{"../utils":299,"bn.js":300,dup:75}],298:[function(e,t,r){arguments[4][76][0].apply(r,arguments)},{dup:76}],299:[function(e,t,r){arguments[4][77][0].apply(r,arguments)},{"bn.js":300,dup:77,"minimalistic-assert":340,"minimalistic-crypto-utils":341}],300:[function(e,t,r){arguments[4][6][0].apply(r,arguments)},{buffer:219,dup:6}],301:[function(e,t,r){t.exports={_from:"elliptic@^6.5.3",_id:"elliptic@6.5.3",_inBundle:!1,_integrity:"sha512-IMqzv5wNQf+E6aHeIqATs0tOLeOTwj1QKbRcS3jBbYkl5oLAserA8yJTT7/VyHUYG91PRmPyeQDObKLPpeS4dw==",_location:"/browserify/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.5.3",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.5.3",saveSpec:null,fetchSpec:"^6.5.3"},_requiredBy:["/browserify/browserify-sign","/browserify/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.5.3.tgz",_shasum:"cb59eb2efdaf73a0bd78ccd7015a62ad6e0f93d6",_spec:"elliptic@^6.5.3",_where:"/usr/lib/node_modules/browserify/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^3.0.8",grunt:"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.2",jscs:"^3.0.7",jshint:"^2.10.3",mocha:"^6.2.2"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.3"}},{}],302:[function(e,t,r){var n=Object.create||function(e){var t=function(){};return t.prototype=e,new t},i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return r},o=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=n(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var s,c=10;try{var l={};Object.defineProperty&&Object.defineProperty(l,"x",{value:0}),s=0===l.x}catch(M){s=!1}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function f(e,t,r){if(t)e.call(r);else for(var n=e.length,i=_(e,n),o=0;o<n;++o)i[o].call(r)}function d(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,o=_(e,i),a=0;a<i;++a)o[a].call(r,n)}function h(e,t,r,n,i){if(t)e.call(r,n,i);else for(var o=e.length,a=_(e,o),s=0;s<o;++s)a[s].call(r,n,i)}function p(e,t,r,n,i,o){if(t)e.call(r,n,i,o);else for(var a=e.length,s=_(e,a),c=0;c<a;++c)s[c].call(r,n,i,o)}function b(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,o=_(e,i),a=0;a<i;++a)o[a].apply(r,n)}function m(e,t,r,i){var o,a,s;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]):(a=e._events=n(null),e._eventsCount=0),s){if("function"==typeof s?s=a[t]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),!s.warned&&(o=u(e))&&o>0&&s.length>o){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",c.name,c.message)}}else s=a[t]=r,++e._eventsCount;return e}function g(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function y(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=o.call(g,n);return i.listener=r,n.wrapFn=i,i}function v(e,t,r){var n=e._events;if(!n)return[];var i=n[t];return i?"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):_(i,i.length):[]}function w(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function _(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}s?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');c=e}}):a.defaultMaxListeners=c,a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){var t,r,n,i,o,a,s="error"===e;if(a=this._events)s=s&&null==a.error;else if(!s)return!1;if(s){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var c=new Error('Unhandled "error" event. ('+t+")");throw c.context=t,c}if(!(r=a[e]))return!1;var l="function"==typeof r;switch(n=arguments.length){case 1:f(r,l,this);break;case 2:d(r,l,this,arguments[1]);break;case 3:h(r,l,this,arguments[1],arguments[2]);break;case 4:p(r,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];b(r,l,this,i)}return!0},a.prototype.on=a.prototype.addListener=function(e,t){return m(this,e,t,!1)},a.prototype.prependListener=function(e,t){return m(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,y(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,y(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,i,o,a,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=n(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){s=r[a].listener,o=a;break}if(o<0)return this;0===o?r.shift():function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}(r,o),1===r.length&&(i[e]=r[0]),i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.removeAllListeners=function(e){var t,r,o;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=n(null),this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=n(null):delete r[e]),this;if(0===arguments.length){var a,s=i(r);for(o=0;o<s.length;++o)"removeListener"!==(a=s[o])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=n(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},a.prototype.listeners=function(e){return v(this,e,!0)},a.prototype.rawListeners=function(e){return v(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):w.call(e,t)},a.prototype.listenerCount=w,a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],303:[function(e,t,r){var n=e("safe-buffer").Buffer,i=e("md5.js");t.exports=function(e,t,r,o){if(n.isBuffer(e)||(e=n.from(e,"binary")),t&&(n.isBuffer(t)||(t=n.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=r/8,s=n.alloc(a),c=n.alloc(o||0),l=n.alloc(0);a>0||o>0;){var u=new i;u.update(l),u.update(e),t&&u.update(t),l=u.digest();var f=0;if(a>0){var d=s.length-a;f=Math.min(a,l.length),l.copy(s,d,0,f),a-=f}if(f<l.length&&o>0){var h=c.length-o,p=Math.min(o,l.length-f);l.copy(c,h,f,f+p),o-=p}}return l.fill(0),{key:s,iv:c}}},{"md5.js":337,"safe-buffer":381}],304:[function(e,t,r){arguments[4][138][0].apply(r,arguments)},{dup:138,inherits:334,"readable-stream":319,"safe-buffer":381}],305:[function(e,t,r){arguments[4][165][0].apply(r,arguments)},{dup:165}],306:[function(e,t,r){arguments[4][166][0].apply(r,arguments)},{"./_stream_readable":308,"./_stream_writable":310,_process:355,dup:166,inherits:334}],307:[function(e,t,r){arguments[4][167][0].apply(r,arguments)},{"./_stream_transform":309,dup:167,inherits:334}],308:[function(e,t,r){arguments[4][168][0].apply(r,arguments)},{"../errors":305,"./_stream_duplex":306,"./internal/streams/async_iterator":311,"./internal/streams/buffer_list":312,"./internal/streams/destroy":313,"./internal/streams/from":315,"./internal/streams/state":317,"./internal/streams/stream":318,_process:355,buffer:264,dup:168,events:302,inherits:334,"string_decoder/":392,util:219}],309:[function(e,t,r){arguments[4][169][0].apply(r,arguments)},{"../errors":305,"./_stream_duplex":306,dup:169,inherits:334}],310:[function(e,t,r){arguments[4][170][0].apply(r,arguments)},{"../errors":305,"./_stream_duplex":306,"./internal/streams/destroy":313,"./internal/streams/state":317,"./internal/streams/stream":318,_process:355,buffer:264,dup:170,inherits:334,"util-deprecate":394}],311:[function(e,t,r){arguments[4][171][0].apply(r,arguments)},{"./end-of-stream":314,_process:355,dup:171}],312:[function(e,t,r){arguments[4][172][0].apply(r,arguments)},{buffer:264,dup:172,util:219}],313:[function(e,t,r){arguments[4][173][0].apply(r,arguments)},{_process:355,dup:173}],314:[function(e,t,r){arguments[4][174][0].apply(r,arguments)},{"../../../errors":305,dup:174}],315:[function(e,t,r){arguments[4][175][0].apply(r,arguments)},{dup:175}],316:[function(e,t,r){arguments[4][176][0].apply(r,arguments)},{"../../../errors":305,"./end-of-stream":314,dup:176}],317:[function(e,t,r){arguments[4][177][0].apply(r,arguments)},{"../../../errors":305,dup:177}],318:[function(e,t,r){arguments[4][178][0].apply(r,arguments)},{dup:178,events:302}],319:[function(e,t,r){arguments[4][179][0].apply(r,arguments)},{"./lib/_stream_duplex.js":306,"./lib/_stream_passthrough.js":307,"./lib/_stream_readable.js":308,"./lib/_stream_transform.js":309,"./lib/_stream_writable.js":310,"./lib/internal/streams/end-of-stream.js":314,"./lib/internal/streams/pipeline.js":316,dup:179}],320:[function(e,t,r){arguments[4][139][0].apply(r,arguments)},{"./hash/common":321,"./hash/hmac":322,"./hash/ripemd":323,"./hash/sha":324,"./hash/utils":331,dup:139}],321:[function(e,t,r){arguments[4][140][0].apply(r,arguments)},{"./utils":331,dup:140,"minimalistic-assert":340}],322:[function(e,t,r){arguments[4][141][0].apply(r,arguments)},{"./utils":331,dup:141,"minimalistic-assert":340}],323:[function(e,t,r){arguments[4][142][0].apply(r,arguments)},{"./common":321,"./utils":331,dup:142}],324:[function(e,t,r){arguments[4][143][0].apply(r,arguments)},{"./sha/1":325,"./sha/224":326,"./sha/256":327,"./sha/384":328,"./sha/512":329,dup:143}],325:[function(e,t,r){arguments[4][144][0].apply(r,arguments)},{"../common":321,"../utils":331,"./common":330,dup:144}],326:[function(e,t,r){arguments[4][145][0].apply(r,arguments)},{"../utils":331,"./256":327,dup:145}],327:[function(e,t,r){arguments[4][146][0].apply(r,arguments)},{"../common":321,"../utils":331,"./common":330,dup:146,"minimalistic-assert":340}],328:[function(e,t,r){arguments[4][147][0].apply(r,arguments)},{"../utils":331,"./512":329,dup:147}],329:[function(e,t,r){arguments[4][148][0].apply(r,arguments)},{"../common":321,"../utils":331,dup:148,"minimalistic-assert":340}],330:[function(e,t,r){arguments[4][149][0].apply(r,arguments)},{"../utils":331,dup:149}],331:[function(e,t,r){arguments[4][150][0].apply(r,arguments)},{dup:150,inherits:334,"minimalistic-assert":340}],332:[function(e,t,r){arguments[4][151][0].apply(r,arguments)},{dup:151,"hash.js":320,"minimalistic-assert":340,"minimalistic-crypto-utils":341}],333:[function(e,t,r){r.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,l=c>>1,u=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+e[t+f],f+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+f],f+=d,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=l}return(h?-1:1)*a*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var a,s,c,l=8*o-i-1,u=(1<<l)-1,f=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=u?(s=0,a=u):a+f>=1?(s=(t*c-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[r+h]=255&a,h+=p,a/=256,l-=8);e[r+h-p]|=128*b}},{}],334:[function(e,t,r){arguments[4][152][0].apply(r,arguments)},{dup:152}],335:[function(e,t,r){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],336:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],337:[function(e,t,r){arguments[4][162][0].apply(r,arguments)},{dup:162,"hash-base":304,inherits:334,"safe-buffer":381}],338:[function(e,t,r){var n=e("bn.js"),i=e("brorand");function o(e){this.rand=e||new i.Rand}t.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),r=Math.ceil(t/8);do{var i=new n(this.rand.generate(r))}while(i.cmp(e)>=0);return i},o.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},o.prototype.test=function(e,t,r){var i=e.bitLength(),o=n.mont(e),a=new n(1).toRed(o);t||(t=Math.max(1,i/48|0));for(var s=e.subn(1),c=0;!s.testn(c);c++);for(var l=e.shrn(c),u=s.toRed(o);t>0;t--){var f=this._randrange(new n(2),s);r&&r(f);var d=f.toRed(o).redPow(l);if(0!==d.cmp(a)&&0!==d.cmp(u)){for(var h=1;h<c;h++){if(0===(d=d.redSqr()).cmp(a))return!1;if(0===d.cmp(u))break}if(h===c)return!1}}return!0},o.prototype.getDivisor=function(e,t){var r=e.bitLength(),i=n.mont(e),o=new n(1).toRed(i);t||(t=Math.max(1,r/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var c=e.shrn(s),l=a.toRed(i);t>0;t--){var u=this._randrange(new n(2),a),f=e.gcd(u);if(0!==f.cmpn(1))return f;var d=u.toRed(i).redPow(c);if(0!==d.cmp(o)&&0!==d.cmp(l)){for(var h=1;h<s;h++){if(0===(d=d.redSqr()).cmp(o))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(l))break}if(h===s)return(d=d.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},{"bn.js":339,brorand:218}],339:[function(e,t,r){arguments[4][6][0].apply(r,arguments)},{buffer:219,dup:6}],340:[function(e,t,r){arguments[4][163][0].apply(r,arguments)},{dup:163}],341:[function(e,t,r){arguments[4][164][0].apply(r,arguments)},{dup:164}],342:[function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var r,s,c=a(e),l=1;l<arguments.length;l++){for(var u in r=Object(arguments[l]))i.call(r,u)&&(c[u]=r[u]);if(n){s=n(r);for(var f=0;f<s.length;f++)o.call(r,s[f])&&(c[s[f]]=r[s[f]])}}return c}},{}],343:[function(e,t,r){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],344:[function(e,t,r){"use strict";var n=e("asn1.js");r.certificate=e("./certificate");var i=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));r.RSAPrivateKey=i;var o=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));r.RSAPublicKey=o;var a=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));r.PublicKey=a;var s=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),c=n.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));r.PrivateKey=c;var l=n.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));r.EncryptedPrivateKey=l;var u=n.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));r.DSAPrivateKey=u,r.DSAparam=n.define("DSAparam",(function(){this.int()}));var f=n.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())}));r.ECPrivateKey=f;var d=n.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));r.signature=n.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":345,"asn1.js":197}],345:[function(e,t,r){"use strict";var n=e("asn1.js"),i=n.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=n.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),s=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),c=n.define("RelativeDistinguishedName",(function(){this.setof(o)})),l=n.define("RDNSequence",(function(){this.seqof(c)})),u=n.define("Name",(function(){this.choice({rdnSequence:this.use(l)})})),f=n.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),d=n.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),h=n.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(u),this.key("validity").use(f),this.key("subject").use(u),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())})),p=n.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));t.exports=p},{"asn1.js":197}],346:[function(e,t,r){var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=e("evp_bytestokey"),s=e("browserify-aes"),c=e("safe-buffer").Buffer;t.exports=function(e,t){var r,l=e.toString(),u=l.match(n);if(u){var f="aes"+u[1],d=c.from(u[2],"hex"),h=c.from(u[3].replace(/[\r\n]/g,""),"base64"),p=a(t,d.slice(0,8),parseInt(u[1],10)).key,b=[],m=s.createDecipheriv(f,p,d);b.push(m.update(h)),b.push(m.final()),r=c.concat(b)}else{var g=l.match(o);r=c.from(g[2].replace(/[\r\n]/g,""),"base64")}return{tag:l.match(i)[1],data:r}}},{"browserify-aes":222,evp_bytestokey:303,"safe-buffer":381}],347:[function(e,t,r){var n=e("./asn1"),i=e("./aesid.json"),o=e("./fixProc"),a=e("browserify-aes"),s=e("pbkdf2"),c=e("safe-buffer").Buffer;function l(e){var t;"object"!=typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=c.from(e));var r,l,u=o(e,t),f=u.tag,d=u.data;switch(f){case"CERTIFICATE":l=n.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(l||(l=n.PublicKey.decode(d,"der")),r=l.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(l.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return l.subjectPrivateKey=l.subjectPublicKey,{type:"ec",data:l};case"1.2.840.10040.4.1":return l.algorithm.params.pub_key=n.DSAparam.decode(l.subjectPublicKey.data,"der"),{type:"dsa",data:l.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":d=function(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[e.algorithm.decrypt.cipher.algo.join(".")],l=e.algorithm.decrypt.cipher.iv,u=e.subjectPrivateKey,f=parseInt(o.split("-")[1],10)/8,d=s.pbkdf2Sync(t,r,n,f,"sha1"),h=a.createDecipheriv(o,d,l),p=[];return p.push(h.update(u)),p.push(h.final()),c.concat(p)}(d=n.EncryptedPrivateKey.decode(d,"der"),t);case"PRIVATE KEY":switch(r=(l=n.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(l.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:l.algorithm.curve,privateKey:n.ECPrivateKey.decode(l.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return l.algorithm.params.priv_key=n.DSAparam.decode(l.subjectPrivateKey,"der"),{type:"dsa",params:l.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=n.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+f)}}t.exports=l,l.signature=n.signature},{"./aesid.json":343,"./asn1":344,"./fixProc":346,"browserify-aes":222,pbkdf2:348,"safe-buffer":381}],348:[function(e,t,r){r.pbkdf2=e("./lib/async"),r.pbkdf2Sync=e("./lib/sync")},{"./lib/async":349,"./lib/sync":352}],349:[function(e,t,r){(function(r,n){var i,o=e("safe-buffer").Buffer,a=e("./precondition"),s=e("./default-encoding"),c=e("./sync"),l=e("./to-buffer"),u=n.crypto&&n.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},d=[];function h(e,t,r,n,i){return u.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return u.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},e,n<<3)})).then((function(e){return o.from(e)}))}t.exports=function(e,t,p,b,m,g){"function"==typeof m&&(g=m,m=void 0);var y=f[(m=m||"sha1").toLowerCase()];if(!y||"function"!=typeof n.Promise)return r.nextTick((function(){var r;try{r=c(e,t,p,b,m)}catch(n){return g(n)}g(null,r)}));if(a(p,b),e=l(e,s,"Password"),t=l(t,s,"Salt"),"function"!=typeof g)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){r.nextTick((function(){t(null,e)}))}),(function(e){r.nextTick((function(){t(e)}))}))}(function(e){if(n.process&&!n.process.browser)return Promise.resolve(!1);if(!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(void 0!==d[e])return d[e];var t=h(i=i||o.alloc(8),i,10,128,e).then((function(){return!0})).catch((function(){return!1}));return d[e]=t,t}(y).then((function(r){return r?h(e,t,p,b,y):c(e,t,p,b,m)})),g)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-encoding":350,"./precondition":351,"./sync":352,"./to-buffer":353,_process:355,"safe-buffer":381}],350:[function(e,t,r){(function(e){var r;r=e.browser?"utf-8":e.version?parseInt(e.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",t.exports=r}).call(this,e("_process"))},{_process:355}],351:[function(e,t,r){var n=Math.pow(2,30)-1;t.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>n||t!=t)throw new TypeError("Bad key length")}},{}],352:[function(e,t,r){var n=e("create-hash/md5"),i=e("ripemd160"),o=e("sha.js"),a=e("safe-buffer").Buffer,s=e("./precondition"),c=e("./default-encoding"),l=e("./to-buffer"),u=a.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(e,t,r){var s=function(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new i).update(e).digest()}:"md5"===e?n:function(t){return o(e).update(t).digest()}}(e),c="sha512"===e||"sha384"===e?128:64;t.length>c?t=s(t):t.length<c&&(t=a.concat([t,u],c));for(var l=a.allocUnsafe(c+f[e]),d=a.allocUnsafe(c+f[e]),h=0;h<c;h++)l[h]=54^t[h],d[h]=92^t[h];var p=a.allocUnsafe(c+r+4);l.copy(p,0,0,c),this.ipad1=p,this.ipad2=l,this.opad=d,this.alg=e,this.blocksize=c,this.hash=s,this.size=f[e]}d.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(e,t,r,n,i){s(r,n);var o=new d(i=i||"sha1",e=l(e,c,"Password"),(t=l(t,c,"Salt")).length),u=a.allocUnsafe(n),h=a.allocUnsafe(t.length+4);t.copy(h,0,0,t.length);for(var p=0,b=f[i],m=Math.ceil(n/b),g=1;g<=m;g++){h.writeUInt32BE(g,t.length);for(var y=o.run(h,o.ipad1),v=y,w=1;w<r;w++){v=o.run(v,o.ipad2);for(var _=0;_<b;_++)y[_]^=v[_]}y.copy(u,p),p+=b}return u}},{"./default-encoding":350,"./precondition":351,"./to-buffer":353,"create-hash/md5":270,ripemd160:380,"safe-buffer":381,"sha.js":384}],353:[function(e,t,r){var n=e("safe-buffer").Buffer;t.exports=function(e,t,r){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,t);if(ArrayBuffer.isView(e))return n.from(e.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":381}],354:[function(e,t,r){(function(e){"use strict";t.exports=void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?{nextTick:function(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,r)}));case 3:return e.nextTick((function(){t.call(null,r,n)}));case 4:return e.nextTick((function(){t.call(null,r,n,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick((function(){t.apply(null,o)}))}}}:e}).call(this,e("_process"))},{_process:355}],355:[function(e,t,r){var n,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var l,u=[],f=!1,d=-1;function h(){f&&l&&(f=!1,l.length?u=l.concat(u):d=-1,u.length&&p())}function p(){if(!f){var e=c(h);f=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,f=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function b(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new b(e,t)),1!==u.length||f||c(p)},b.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],356:[function(e,t,r){r.publicEncrypt=e("./publicEncrypt"),r.privateDecrypt=e("./privateDecrypt"),r.privateEncrypt=function(e,t){return r.publicEncrypt(e,t,!0)},r.publicDecrypt=function(e,t){return r.privateDecrypt(e,t,!0)}},{"./privateDecrypt":359,"./publicEncrypt":360}],357:[function(e,t,r){var n=e("create-hash"),i=e("safe-buffer").Buffer;function o(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}t.exports=function(e,t){for(var r,a=i.alloc(0),s=0;a.length<t;)r=o(s++),a=i.concat([a,n("sha1").update(e).update(r).digest()]);return a.slice(0,t)}},{"create-hash":269,"safe-buffer":381}],358:[function(e,t,r){arguments[4][6][0].apply(r,arguments)},{buffer:219,dup:6}],359:[function(e,t,r){var n=e("parse-asn1"),i=e("./mgf"),o=e("./xor"),a=e("bn.js"),s=e("browserify-rsa"),c=e("create-hash"),l=e("./withPublic"),u=e("safe-buffer").Buffer;t.exports=function(e,t,r){var f;f=e.padding?e.padding:r?1:4;var d,h=n(e),p=h.modulus.byteLength();if(t.length>p||new a(t).cmp(h.modulus)>=0)throw new Error("decryption error");d=r?l(new a(t),h):s(t,h);var b=u.alloc(p-d.length);if(d=u.concat([b,d],p),4===f)return function(e,t){var r=e.modulus.byteLength(),n=c("sha1").update(u.alloc(0)).digest(),a=n.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,a+1),l=t.slice(a+1),f=o(s,i(l,a)),d=o(l,i(f,r-a-1));if(function(e,t){e=u.from(e),t=u.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));for(var i=-1;++i<n;)r+=e[i]^t[i];return r}(n,d.slice(0,a)))throw new Error("decryption error");for(var h=a;0===d[h];)h++;if(1!==d[h++])throw new Error("decryption error");return d.slice(h)}(h,d);if(1===f)return function(e,t,r){for(var n=t.slice(0,2),i=2,o=0;0!==t[i++];)if(i>=t.length){o++;break}var a=t.slice(2,i-1);if(("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&o++,a.length<8&&o++,o)throw new Error("decryption error");return t.slice(i)}(0,d,r);if(3===f)return d;throw new Error("unknown padding")}},{"./mgf":357,"./withPublic":361,"./xor":362,"bn.js":358,"browserify-rsa":240,"create-hash":269,"parse-asn1":347,"safe-buffer":381}],360:[function(e,t,r){var n=e("parse-asn1"),i=e("randombytes"),o=e("create-hash"),a=e("./mgf"),s=e("./xor"),c=e("bn.js"),l=e("./withPublic"),u=e("browserify-rsa"),f=e("safe-buffer").Buffer;t.exports=function(e,t,r){var d;d=e.padding?e.padding:r?1:4;var h,p=n(e);if(4===d)h=function(e,t){var r=e.modulus.byteLength(),n=t.length,l=o("sha1").update(f.alloc(0)).digest(),u=l.length,d=2*u;if(n>r-d-2)throw new Error("message too long");var h=f.alloc(r-n-d-2),p=r-u-1,b=i(u),m=s(f.concat([l,h,f.alloc(1,1),t],p),a(b,p)),g=s(b,a(m,u));return new c(f.concat([f.alloc(1),g,m],r))}(p,t);else if(1===d)h=function(e,t,r){var n,o=t.length,a=e.modulus.byteLength();if(o>a-11)throw new Error("message too long");return n=r?f.alloc(a-o-3,255):function(e){for(var t,r=f.allocUnsafe(e),n=0,o=i(2*e),a=0;n<e;)a===o.length&&(o=i(2*e),a=0),(t=o[a++])&&(r[n++]=t);return r}(a-o-3),new c(f.concat([f.from([0,r?1:2]),n,f.alloc(1),t],a))}(p,t,r);else{if(3!==d)throw new Error("unknown padding");if((h=new c(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?u(h,p):l(h,p)}},{"./mgf":357,"./withPublic":361,"./xor":362,"bn.js":358,"browserify-rsa":240,"create-hash":269,"parse-asn1":347,randombytes:363,"safe-buffer":381}],361:[function(e,t,r){var n=e("bn.js"),i=e("safe-buffer").Buffer;t.exports=function(e,t){return i.from(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}},{"bn.js":358,"safe-buffer":381}],362:[function(e,t,r){t.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},{}],363:[function(e,t,r){(function(r,n){"use strict";var i=e("safe-buffer").Buffer,o=n.crypto||n.msCrypto;t.exports=o&&o.getRandomValues?function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var n=i.allocUnsafe(e);if(e>0)if(e>65536)for(var a=0;a<e;a+=65536)o.getRandomValues(n.slice(a,a+65536));else o.getRandomValues(n);return"function"==typeof t?r.nextTick((function(){t(null,n)})):n}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:355,"safe-buffer":381}],364:[function(e,t,r){(function(t,n){"use strict";function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=e("safe-buffer"),a=e("randombytes"),s=o.Buffer,c=o.kMaxLength,l=n.crypto||n.msCrypto,u=Math.pow(2,32)-1;function f(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>u||e<0)throw new TypeError("offset must be a uint32");if(e>c||e>t)throw new RangeError("offset out of range")}function d(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>u||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>c)throw new RangeError("buffer too small")}function h(e,r,n,i){if(t.browser){var o=new Uint8Array(e.buffer,r,n);return l.getRandomValues(o),i?void t.nextTick((function(){i(null,e)})):e}if(!i)return a(n).copy(e,r),e;a(n,(function(t,n){if(t)return i(t);n.copy(e,r),i(null,e)}))}l&&l.getRandomValues||!t.browser?(r.randomFill=function(e,t,r,i){if(!(s.isBuffer(e)||e instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)i=t,t=0,r=e.length;else if("function"==typeof r)i=r,r=e.length-t;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return f(t,e.length),d(r,t,e.length),h(e,t,r,i)},r.randomFillSync=function(e,t,r){if(void 0===t&&(t=0),!(s.isBuffer(e)||e instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return f(t,e.length),void 0===r&&(r=e.length-t),d(r,t,e.length),h(e,t,r)}):(r.randomFill=i,r.randomFillSync=i)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:355,randombytes:363,"safe-buffer":381}],365:[function(e,t,r){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":366}],366:[function(e,t,r){"use strict";var n=e("process-nextick-args"),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=f;var o=Object.create(e("core-util-is"));o.inherits=e("inherits");var a=e("./_stream_readable"),s=e("./_stream_writable");o.inherits(f,a);for(var c=i(s.prototype),l=0;l<c.length;l++){var u=c[l];f.prototype[u]||(f.prototype[u]=s.prototype[u])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},{"./_stream_readable":368,"./_stream_writable":370,"core-util-is":266,inherits:334,"process-nextick-args":354}],367:[function(e,t,r){"use strict";t.exports=o;var n=e("./_stream_transform"),i=Object.create(e("core-util-is"));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=e("inherits"),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":369,"core-util-is":266,inherits:334}],368:[function(e,t,r){(function(r,n){"use strict";var i=e("process-nextick-args");t.exports=v;var o,a=e("isarray");v.ReadableState=y,e("events");var s=function(e,t){return e.listeners(t).length},c=e("./internal/streams/stream"),l=e("safe-buffer").Buffer,u=n.Uint8Array||function(){},f=Object.create(e("core-util-is"));f.inherits=e("inherits");var d=e("util"),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,b=e("./internal/streams/BufferList"),m=e("./internal/streams/destroy");f.inherits(v,c);var g=["error","close","destroy","pause","resume"];function y(t,r){var n=r instanceof(o=o||e("./_stream_duplex"));this.objectMode=!!(t=t||{}).objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=e("string_decoder/").StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function v(t){if(o=o||e("./_stream_duplex"),!(this instanceof v))return new v(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function w(e,t,r,n,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,k(e)}}(e,a)):(i||(o=function(e,t){var r,n;return l.isBuffer(n=t)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):C(e,a)):_(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),C(e,t)}function M(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(S,e):S(e))}function S(e){h("emit readable"),e.emit("readable"),O(e)}function C(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(E,e,t))}function E(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function P(e){h("readable nexttick read 0"),e.read(0)}function x(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function A(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(i+=a===o.length?o:o.slice(0,e),0==(e-=a)){a===o.length?(++n,t.head=r.next?r.next:t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=l.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0==(e-=a)){a===o.length?(++i,t.head=n.next?n.next:t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function T(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function I(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=l.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},v.prototype.unshift=function(e){return w(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){return p||(p=e("string_decoder/").StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this},v.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):k(this),null;if(0===(e=M(e,t))&&t.ended)return 0===t.length&&T(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=M(r,t))),null===(n=e>0?A(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&T(this)),null!==n&&this.emit("data",n),n},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var c=t&&!1===t.end||e===r.stdout||e===r.stderr?y:l;function l(){h("onend"),e.end()}o.endEmitted?i.nextTick(c):n.once("end",c),e.on("unpipe",(function t(r,i){h("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",m),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",b),e.removeListener("unpipe",t),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",p),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,O(e))}}(n);e.on("drain",u);var f=!1,d=!1;function p(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==I(o.pipes,e))&&!f&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function b(t){h("onerror",t),y(),e.removeListener("error",b),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",g),y()}function g(){h("onfinish"),e.removeListener("close",m),y()}function y(){h("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener("error",r);e._events&&e._events.error?a(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on("error",r)}(e,0,b),e.once("close",m),e.once("finish",g),e.emit("pipe",n),o.flowing||(h("pipe resume"),n.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=I(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},v.prototype.addListener=v.prototype.on=function(e,t){var r=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&k(this):i.nextTick(P,this))}return r},v.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(x,e,t))}(this,e)),this},v.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=A}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":366,"./internal/streams/BufferList":371,"./internal/streams/destroy":372,"./internal/streams/stream":373,_process:355,"core-util-is":266,events:302,inherits:334,isarray:336,"process-nextick-args":354,"safe-buffer":374,"string_decoder/":375,util:219}],369:[function(e,t,r){"use strict";t.exports=a;var n=e("./_stream_duplex"),i=Object.create(e("core-util-is"));function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){c(e,t,r)})):c(this,null,null)}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=e("inherits"),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},{"./_stream_duplex":366,"core-util-is":266,inherits:334}],370:[function(e,t,r){(function(r,n,i){"use strict";var o=e("process-nextick-args");function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}t.exports=y;var s,c=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?i:o.nextTick;y.WritableState=g;var l=Object.create(e("core-util-is"));l.inherits=e("inherits");var u,f={deprecate:e("util-deprecate")},d=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,p=n.Uint8Array||function(){},b=e("./internal/streams/destroy");function m(){}function g(t,r){s=s||e("./_stream_duplex");var n=r instanceof s;this.objectMode=!!(t=t||{}).objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,l=t.writableHighWaterMark;this.highWaterMark=i||0===i?i:n&&(l||0===l)?l:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(o.nextTick(i,n),o.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),S(e,t))}(e,r,n,t,i);else{var a=M(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||_(e,r),n?c(w,e,r,a,i):w(e,r,a,i)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(t){if(s=s||e("./_stream_duplex"),!(u.call(y,this)||this instanceof s))return new y(t);this._writableState=new g(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),d.call(this)}function v(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),S(e,t)}function _(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=new Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=r;for(var o=0,s=!0;r;)n[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;n.allBuffers=s,v(e,t,!0,t.length,n,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk;if(v(e,t,!1,t.objectMode?1:c.length,c,r.encoding,r.callback),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function M(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var r=M(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(k,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}l.inherits(y,d),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:f.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===y&&e&&e._writableState instanceof g}})):u=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,r){var n,i=this._writableState,a=!1,s=!i.objectMode&&(h.isBuffer(n=e)||n instanceof p);return s&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=m),i.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),o.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(n,a),i=!1),i}(this,i,e,r))&&(i.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,s,n,i,o);return c}(this,i,s,e,t,r)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||_(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,S(e,t),r&&(t.finished?o.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=b.destroy,y.prototype._undestroy=b.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{"./_stream_duplex":366,"./internal/streams/destroy":372,"./internal/streams/stream":373,_process:355,"core-util-is":266,inherits:334,"process-nextick-args":354,"safe-buffer":374,timers:393,"util-deprecate":394}],371:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=e("util");t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t=n.allocUnsafe(e>>>0),r=this.head,i=0;r;)r.data.copy(t,i),i+=r.data.length,r=r.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":374,util:219}],372:[function(e,t,r){"use strict";var n=e("process-nextick-args");function i(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var r=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":354}],373:[function(e,t,r){arguments[4][178][0].apply(r,arguments)},{dup:178,events:302}],374:[function(e,t,r){var n=e("buffer"),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,r),r.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:264}],375:[function(e,t,r){arguments[4][194][0].apply(r,arguments)},{dup:194,"safe-buffer":374}],376:[function(e,t,r){t.exports=e("./readable").PassThrough},{"./readable":377}],377:[function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":366,"./lib/_stream_passthrough.js":367,"./lib/_stream_readable.js":368,"./lib/_stream_transform.js":369,"./lib/_stream_writable.js":370}],378:[function(e,t,r){t.exports=e("./readable").Transform},{"./readable":377}],379:[function(e,t,r){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":370}],380:[function(e,t,r){arguments[4][180][0].apply(r,arguments)},{buffer:264,dup:180,"hash-base":304,inherits:334}],381:[function(e,t,r){arguments[4][182][0].apply(r,arguments)},{buffer:264,dup:182}],382:[function(e,t,r){(function(r){"use strict";var n,i=e("buffer"),o=i.Buffer,a={};for(n in i)i.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(a[n]=i[n]);var s=a.Buffer={};for(n in o)o.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(s[n]=o[n]);if(a.Buffer.prototype=o.prototype,s.from&&s.from!==Uint8Array.from||(s.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,r)}),s.alloc||(s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=o(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!a.kStringMaxLength)try{a.kStringMaxLength=r.binding("buffer").kStringMaxLength}catch(c){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),t.exports=a}).call(this,e("_process"))},{_process:355,buffer:264}],383:[function(e,t,r){arguments[4][186][0].apply(r,arguments)},{dup:186,"safe-buffer":381}],384:[function(e,t,r){arguments[4][187][0].apply(r,arguments)},{"./sha":385,"./sha1":386,"./sha224":387,"./sha256":388,"./sha384":389,"./sha512":390,dup:187}],385:[function(e,t,r){arguments[4][188][0].apply(r,arguments)},{"./hash":383,dup:188,inherits:334,"safe-buffer":381}],386:[function(e,t,r){arguments[4][189][0].apply(r,arguments)},{"./hash":383,dup:189,inherits:334,"safe-buffer":381}],387:[function(e,t,r){arguments[4][190][0].apply(r,arguments)},{"./hash":383,"./sha256":388,dup:190,inherits:334,"safe-buffer":381}],388:[function(e,t,r){arguments[4][191][0].apply(r,arguments)},{"./hash":383,dup:191,inherits:334,"safe-buffer":381}],389:[function(e,t,r){arguments[4][192][0].apply(r,arguments)},{"./hash":383,"./sha512":390,dup:192,inherits:334,"safe-buffer":381}],390:[function(e,t,r){arguments[4][193][0].apply(r,arguments)},{"./hash":383,dup:193,inherits:334,"safe-buffer":381}],391:[function(e,t,r){t.exports=i;var n=e("events").EventEmitter;function i(){n.call(this)}e("inherits")(i,n),i.Readable=e("readable-stream/readable.js"),i.Writable=e("readable-stream/writable.js"),i.Duplex=e("readable-stream/duplex.js"),i.Transform=e("readable-stream/transform.js"),i.PassThrough=e("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",c));var a=!1;function s(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(u(),0===n.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",c),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("error",l),e.on("error",l),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e}},{events:302,inherits:334,"readable-stream/duplex.js":365,"readable-stream/passthrough.js":376,"readable-stream/readable.js":377,"readable-stream/transform.js":378,"readable-stream/writable.js":379}],392:[function(e,t,r){arguments[4][194][0].apply(r,arguments)},{dup:194,"safe-buffer":381}],393:[function(e,t,r){(function(t,n){var i=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},c=0;function l(e,t){this._id=e,this._clearFn=t}r.setTimeout=function(){return new l(o.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new l(o.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r.setImmediate="function"==typeof t?t:function(e){var t=c++,n=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,i((function(){s[t]&&(n?e.apply(null,n):e.call(null),r.clearImmediate(t))})),t},r.clearImmediate="function"==typeof n?n:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":355,timers:393}],394:[function(e,t,r){arguments[4][196][0].apply(r,arguments)},{dup:196}]},{},[1])(1)},IBIH:function(e){e.exports=JSON.parse('{"version":1603211052400,"items":[{"title":"fire wind","color":"#f55c1c","faces0":"fire","faces1":"fire","faces2":"fire","faces3":"wind","faces4":"wind","faces5":"wind"},{"title":"fire water","color":"#6d253f","faces0":"fire","faces1":"fire","faces2":"fire","faces3":"water","faces4":"water","faces5":"water"},{"title":"fire forest","color":"#239aa8","faces0":"fire","faces1":"fire","faces2":"fire","faces3":"forest","faces4":"forest","faces5":"forest"},{"title":"fire metal","color":"#2c2796","faces0":"fire","faces1":"fire","faces2":"fire","faces3":"metal","faces4":"metal","faces5":"metal"},{"title":"fire thunder","color":"#ccfbb3","faces0":"fire","faces1":"fire","faces2":"fire","faces3":"thunder","faces4":"thunder","faces5":"thunder"},{"title":"fire aether","color":"#16fdb1","faces0":"fire","faces1":"fire","faces2":"fire","faces3":"aether","faces4":"aether","faces5":"aether"},{"title":"fire light","color":"#8f0e0c","faces0":"fire","faces1":"fire","faces2":"fire","faces3":"light","faces4":"light","faces5":"light"},{"title":"fire dark","color":"#708279","faces0":"fire","faces1":"fire","faces2":"fire","faces3":"dark","faces4":"dark","faces5":"dark"},{"title":"wind water","color":"#1b4a2e","faces0":"wind","faces1":"wind","faces2":"wind","faces3":"water","faces4":"water","faces5":"water"},{"title":"wind forest","color":"#0297e1","faces0":"wind","faces1":"wind","faces2":"wind","faces3":"forest","faces4":"forest","faces5":"forest"},{"title":"wind metal","color":"#170946","faces0":"wind","faces1":"wind","faces2":"wind","faces3":"metal","faces4":"metal","faces5":"metal"},{"title":"wind thunder","color":"#fe690f","faces0":"wind","faces1":"wind","faces2":"wind","faces3":"thunder","faces4":"thunder","faces5":"thunder"},{"title":"wind aether","color":"#05a6d1","faces0":"wind","faces1":"wind","faces2":"wind","faces3":"aether","faces4":"aether","faces5":"aether"},{"title":"wind light","color":"#ce66af","faces0":"wind","faces1":"wind","faces2":"wind","faces3":"light","faces4":"light","faces5":"light"},{"title":"wind dark","color":"#4ce7b7","faces0":"wind","faces1":"wind","faces2":"wind","faces3":"dark","faces4":"dark","faces5":"dark"},{"title":"water forest","color":"#3c62fb","faces0":"water","faces1":"water","faces2":"water","faces3":"forest","faces4":"forest","faces5":"forest"},{"title":"water metal","color":"#007c19","faces0":"water","faces1":"water","faces2":"water","faces3":"metal","faces4":"metal","faces5":"metal"},{"title":"water thunder","color":"#7f92a7","faces0":"water","faces1":"water","faces2":"water","faces3":"thunder","faces4":"thunder","faces5":"thunder"},{"title":"water aether","color":"#de54fc","faces0":"water","faces1":"water","faces2":"water","faces3":"aether","faces4":"aether","faces5":"aether"},{"title":"water light","color":"#ca2169","faces0":"water","faces1":"water","faces2":"water","faces3":"light","faces4":"light","faces5":"light"},{"title":"water dark","color":"#6ab70e","faces0":"water","faces1":"water","faces2":"water","faces3":"dark","faces4":"dark","faces5":"dark"},{"title":"forest metal","color":"#cb4025","faces0":"forest","faces1":"forest","faces2":"forest","faces3":"metal","faces4":"metal","faces5":"metal"},{"title":"forest thunder","color":"#ab9abe","faces0":"forest","faces1":"forest","faces2":"forest","faces3":"thunder","faces4":"thunder","faces5":"thunder"},{"title":"forest aether","color":"#e00fbd","faces0":"forest","faces1":"forest","faces2":"forest","faces3":"aether","faces4":"aether","faces5":"aether"},{"title":"forest light","color":"#28c359","faces0":"forest","faces1":"forest","faces2":"forest","faces3":"light","faces4":"light","faces5":"light"},{"title":"forest dark","color":"#52c2b5","faces0":"forest","faces1":"forest","faces2":"forest","faces3":"dark","faces4":"dark","faces5":"dark"},{"title":"metal thunder","color":"#fd796a","faces0":"metal","faces1":"metal","faces2":"metal","faces3":"thunder","faces4":"thunder","faces5":"thunder"},{"title":"metal aether","color":"#295414","faces0":"metal","faces1":"metal","faces2":"metal","faces3":"aether","faces4":"aether","faces5":"aether"},{"title":"metal light","color":"#ad1c78","faces0":"metal","faces1":"metal","faces2":"metal","faces3":"light","faces4":"light","faces5":"light"},{"title":"metal dark","color":"#732d8e","faces0":"metal","faces1":"metal","faces2":"metal","faces3":"dark","faces4":"dark","faces5":"dark"},{"title":"thunder aether","color":"#0913da","faces0":"thunder","faces1":"thunder","faces2":"thunder","faces3":"aether","faces4":"aether","faces5":"aether"},{"title":"thunder light","color":"#b23f6b","faces0":"thunder","faces1":"thunder","faces2":"thunder","faces3":"light","faces4":"light","faces5":"light"},{"title":"thunder dark","color":"#099593","faces0":"thunder","faces1":"thunder","faces2":"thunder","faces3":"dark","faces4":"dark","faces5":"dark"},{"title":"aether light","color":"#2c4fe7","faces0":"aether","faces1":"aether","faces2":"aether","faces3":"light","faces4":"light","faces5":"light"},{"title":"aether dark","color":"#61b534","faces0":"aether","faces1":"aether","faces2":"aether","faces3":"dark","faces4":"dark","faces5":"dark"},{"title":"light dark","color":"#b0dfea","faces0":"light","faces1":"light","faces2":"light","faces3":"dark","faces4":"dark","faces5":"dark"}]}')},LV5x:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=o(r("P6U5"));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.seed(e,r),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"next",value:function(){return this._rng()}},{key:"seed",value:function(e){(0,i.default)(e,i.default.function),this._rng=e}},{key:"clone",value:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return new(Function.prototype.bind.apply(t,[null].concat([this._rng],r)))}},{key:"name",get:function(){return"function"}}]),t}(o(r("d6kd")).default);t.default=a},OZg7:function(e){e.exports=JSON.parse('{"default-arena":{"width":17,"height":11,"tiles":{"10:0":"red-player","0:16":"blue-player"}}}')},P6U5:function(e,t,r){"use strict";const n=r("Aa5B"),i={number:r("qYQ4"),string:r("Q7vy"),object:r("PfUW")},o=({validators:e=[],predicates:t=i,type:r=null}={})=>{const a=new Proxy((function(){}),{get:(i,s)=>{if(s===n.validate)return(t,n="argument")=>{if(!r)return new Error("missing required type specifier");for(let i=0;i<e.length;++i){const o=e[i];if(!o.fn(t))throw 0===i?new Error(`Expected ${n} \`${t}\` to be of type \`${r}\`, but received type \`${typeof t}\``):new Error(`Expected ${r} \`${n}\` \`${t}\` failed predicate \`${o.key}\``)}};const c=t[s];if(c)return"function"==typeof c?(e.push({key:s,fn:c}),a):o({type:s,validators:[{key:s,fn:c.validator}],predicates:c.predicates});{const r=t[n.func]&&t[n.func][s];return r?new Proxy((function(){}),{get:()=>{throw new Error(`invalid use of functional predicate "${s}"`)},apply:(t,n,i)=>(e.push({key:s,fn:r(...i)}),a)}):a}},apply:(e,t,r)=>{if(2!==r.length&&3!==r.length)throw new Error('invalid number of arguments to "ow"');r[1][n.validate](r[0],r[2])}});return a};e.exports=o()},PDX0:function(e,t){(function(t){e.exports=t}).call(this,{})},PfUW:function(e,t,r){"use strict";const{func:n}=r("Aa5B");e.exports={predicates:{plain:e=>{if("object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},empty:e=>0===Object.keys(e).length,nonEmpty:e=>Object.keys(e).length>0,[n]:{is:e=>e,instanceOf:e=>t=>t instanceof e}},validator:e=>"object"==typeof e}},Q7vy:function(e,t,r){"use strict";const{func:n}=r("Aa5B");e.exports={predicates:{empty:e=>""===e,nonEmpty:e=>""!==e,[n]:{is:e=>e,eq:e=>t=>t===e,length:e=>t=>t.length===e,minLength:e=>t=>t.length>=e,maxLength:e=>t=>t.length<=e,matches:e=>t=>e.test(t),startsWith:e=>t=>t.startsWith(e),endsWith:e=>t=>t.endsWith(e)}},validator:e=>"string"==typeof e}},QsUa:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=r("P6U5"))&&n.__esModule?n:{default:n};t.default=function(e,t,r){return void 0===r&&(r=void 0===t?1:t,t=0),(0,i.default)(t,i.default.number),(0,i.default)(r,i.default.number),function(){return e.next()*(r-t)+t}}},UoD4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=e.normal.apply(e,r);return function(){return Math.exp(i())}}},XFvq:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=r("P6U5"))&&n.__esModule?n:{default:n};t.default=function(e,t,r){return void 0===r&&(r=void 0===t?1:t,t=0),(0,i.default)(t,i.default.number.integer),(0,i.default)(r,i.default.number.integer),function(){return e.next()*(r-t+1)+t|0}}},XhEF:function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id="XhEF"},XyIg:function(e){e.exports=JSON.parse('{"version":1603211052395,"items":[{"title":"Tortoad Jeremy","battlerName":"Sea Tortoad","attribute":"water","cost":1,"cooldown":2,"mov":3,"rng":1,"btl":2,"vit":5,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Frog","clan_1":"Tortoise","clan_2":"","lore":"???"},{"title":"Shelled Death Claw","battlerName":"Sea Beach Shell Claw B","attribute":"water","cost":2,"cooldown":2,"mov":3,"rng":1,"btl":4,"vit":8,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Beast","clan_1":"Crab","clan_2":"","lore":"???"},{"title":"Dark Sea Star","battlerName":"Sea Beach Dark Star","attribute":"water","cost":3,"cooldown":3,"mov":3,"rng":2,"btl":5,"vit":10,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Sea Monster","clan_1":"","clan_2":"","lore":"???"},{"title":"Ice Lion","battlerName":"Ice Lion","attribute":"water","cost":4,"cooldown":3,"mov":4,"rng":1,"btl":8,"vit":12,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Iceborn","clan_1":"Beast","clan_2":"","lore":"???"},{"title":"Sea Queen Arliette","battlerName":"Sea Mermaid Warrior Arliette","attribute":"water","cost":5,"cooldown":4,"mov":5,"rng":1,"btl":16,"vit":17,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Mermaid","clan_1":"Warrior","clan_2":"","lore":"???"},{"title":"Froggicorn","battlerName":"Toxic Frog C2","attribute":"forest","cost":1,"cooldown":2,"mov":3,"rng":1,"btl":2,"vit":5,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Frog","clan_1":"Beast","clan_2":"","lore":"???"},{"title":"Furious Panda","battlerName":"Forest Panda","attribute":"forest","cost":2,"cooldown":2,"mov":3,"rng":1,"btl":4,"vit":8,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Beast","clan_1":"","clan_2":"","lore":"???"},{"title":"Deer Of Dusk","battlerName":"Forest Deer","attribute":"forest","cost":3,"cooldown":3,"mov":6,"rng":1,"btl":5,"vit":11,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Beast","clan_1":"","clan_2":"","lore":"???"},{"title":"Elvic Swordsmaster","battlerName":"Tribal Elves Rapier","attribute":"forest","cost":4,"cooldown":3,"mov":4,"rng":3,"btl":7,"vit":12,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Elf","clan_1":"Swordsmaster","clan_2":"","lore":"???"},{"title":"Winged Green Arrow","battlerName":"Elemental Titan Ventoss","attribute":"forest","cost":5,"cooldown":4,"mov":4,"rng":5,"btl":10,"vit":17,"rarity":1,"offset":0,"ability_0":"Fly","ability_1":"","clan_0":"Spirit","clan_1":"Archer","clan_2":"Winged","lore":"???"},{"title":"Fire Wisp","battlerName":"Fire Wisp","attribute":"fire","cost":1,"cooldown":2,"mov":3,"rng":1,"btl":2,"vit":5,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Spirit","clan_1":"","clan_2":"","lore":"???"},{"title":"Fire Snake","battlerName":"Fire Snake","attribute":"fire","cost":2,"cooldown":2,"mov":4,"rng":1,"btl":3,"vit":8,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Snake","clan_1":"","clan_2":"","lore":"???"},{"title":"Flame Bull","battlerName":"Fire Bull","attribute":"fire","cost":3,"cooldown":3,"mov":4,"rng":1,"btl":6,"vit":11,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Beast","clan_1":"","clan_2":"","lore":"???"},{"title":"Flame Knight","battlerName":"Flame Knight","attribute":"fire","cost":4,"cooldown":3,"mov":5,"rng":2,"btl":7,"vit":12,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Warrior","clan_1":"Elemental","clan_2":"","lore":"???"},{"title":"Flamemaster Ifrit","battlerName":"Summon Ifrit","attribute":"fire","cost":5,"cooldown":4,"mov":6,"rng":1,"btl":13,"vit":15,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Demon","clan_1":"","clan_2":"","lore":"???"},{"title":"Winged Bunny","battlerName":"Wind Bunny","attribute":"wind","cost":1,"cooldown":2,"mov":3,"rng":1,"btl":3,"vit":5,"rarity":1,"offset":0,"ability_0":"Fly","ability_1":"","clan_0":"Beast","clan_1":"Winged","clan_2":"","lore":"???"},{"title":"Storm Gargoyle","battlerName":"Megapack III Void Gargoyle","attribute":"wind","cost":2,"cooldown":2,"mov":4,"rng":1,"btl":4,"vit":8,"rarity":1,"offset":0,"ability_0":"Fly","ability_1":"","clan_0":"Gargoyle","clan_1":"Winged","clan_2":"","lore":"???"},{"title":"Winged Lion","battlerName":"Wind Lion","attribute":"wind","cost":3,"cooldown":3,"mov":5,"rng":1,"btl":6,"vit":11,"rarity":1,"offset":0,"ability_0":"Fly","ability_1":"","clan_0":"Lion","clan_1":"Winged","clan_2":"","lore":"???"},{"title":"Storm Golem","battlerName":"Wind Feathered Golem","attribute":"wind","cost":4,"cooldown":3,"mov":5,"rng":1,"btl":8,"vit":14,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Elemental","clan_1":"","clan_2":"","lore":"???"},{"title":"Crystal Chicken","battlerName":"Crystal Golem","attribute":"wind","cost":5,"cooldown":4,"mov":6,"rng":2,"btl":12,"vit":16,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Elemental","clan_1":"","clan_2":"","lore":"???"},{"title":"Cyber Tank","battlerName":"Machines Cannon","attribute":"metal","cost":1,"cooldown":2,"mov":1,"rng":3,"btl":5,"vit":5,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Cyber","clan_1":"","clan_2":"","lore":"???"},{"title":"Cyber Hawk","battlerName":"Cyber Hawk","attribute":"metal","cost":2,"cooldown":2,"mov":3,"rng":1,"btl":4,"vit":10,"rarity":1,"offset":0,"ability_0":"Fly","ability_1":"","clan_0":"Cyber","clan_1":"Winged","clan_2":"","lore":"???"},{"title":"Metalmorphed Hound","battlerName":"Boss Hellhound Garm","attribute":"metal","cost":3,"cooldown":3,"mov":4,"rng":1,"btl":6,"vit":14,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Cyber","clan_1":"Beast","clan_2":"","lore":"???"},{"title":"Cybermancer","battlerName":"Cybermancer","attribute":"metal","cost":4,"cooldown":3,"mov":4,"rng":1,"btl":9,"vit":16,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Cyber","clan_1":"Mage","clan_2":"","lore":"???"},{"title":"Witch Hunter Armaggel","battlerName":"Witch Hunters Leader","attribute":"metal","cost":5,"cooldown":4,"mov":4,"rng":2,"btl":18,"vit":20,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Paladin","clan_1":"","clan_2":"","lore":"???"},{"title":"Thunder Cobra","battlerName":"Egypt Cobra","attribute":"thunder","cost":1,"cooldown":2,"mov":4,"rng":1,"btl":2,"vit":6,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Snake","clan_1":"","clan_2":"","lore":"???"},{"title":"Clockwork Spider","battlerName":"Clockwork Spider","attribute":"thunder","cost":2,"cooldown":2,"mov":4,"rng":2,"btl":3,"vit":6,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Cyber","clan_1":"Arachnid","clan_2":"","lore":"???"},{"title":"Stormpion","battlerName":"Zodiac Creatures Scorpion","attribute":"thunder","cost":3,"cooldown":3,"mov":4,"rng":1,"btl":5,"vit":12,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Arachnid","clan_1":"","clan_2":"","lore":"???"},{"title":"Stormcaster Freeya","battlerName":"Witch Hunters Healer","attribute":"thunder","cost":4,"cooldown":3,"mov":5,"rng":2,"btl":9,"vit":14,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Mage","clan_1":"","clan_2":"","lore":"???"},{"title":"Thunder Emperor","battlerName":"Boss Dragon Emperor","attribute":"thunder","cost":5,"cooldown":4,"mov":6,"rng":2,"btl":13,"vit":15,"rarity":1,"offset":0,"ability_0":"Fly","ability_1":"","clan_0":"Dragon","clan_1":"Winged","clan_2":"","lore":"???"},{"title":"Frog of Dawn","battlerName":"Toxic Frog B","attribute":"light","cost":1,"cooldown":2,"mov":3,"rng":1,"btl":2,"vit":5,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Frog","clan_1":"","clan_2":"","lore":"???"},{"title":"Light Disgrace","battlerName":"Light Summoned Angel","attribute":"light","cost":2,"cooldown":2,"mov":6,"rng":1,"btl":3,"vit":6,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Homunculus","clan_1":"","clan_2":"","lore":"???"},{"title":"Elvic Paladin Lancer","battlerName":"Elf_Knight_Spear","attribute":"light","cost":3,"cooldown":3,"mov":5,"rng":1,"btl":6,"vit":11,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Elf","clan_1":"Paladin","clan_2":"","lore":"???"},{"title":"Celestial Sniper","battlerName":"Knight Blunderbuss Elite","attribute":"light","cost":4,"cooldown":3,"mov":4,"rng":4,"btl":6,"vit":8,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Gunsmaster","clan_1":"","clan_2":"","lore":"???"},{"title":"Celestial Dragon","battlerName":"Light Dragon","attribute":"light","cost":5,"cooldown":4,"mov":5,"rng":1,"btl":13,"vit":18,"rarity":1,"offset":0,"ability_0":"Fly","ability_1":"","clan_0":"Dragon","clan_1":"Winged","clan_2":"","lore":"???"},{"title":"Goblin Archer","battlerName":"Goblin Archer","attribute":"dark","cost":1,"cooldown":2,"mov":2,"rng":3,"btl":2,"vit":5,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Goblin","clan_1":"Archer","clan_2":"","lore":"???"},{"title":"Shadow Chaser","battlerName":"Darkness Seeker","attribute":"dark","cost":2,"cooldown":2,"mov":4,"rng":2,"btl":4,"vit":8,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Homunculus","clan_1":"","clan_2":"","lore":"???"},{"title":"Skeleton Dragon","battlerName":"Skeleton Dragon","attribute":"dark","cost":3,"cooldown":3,"mov":5,"rng":2,"btl":6,"vit":10,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Dragon","clan_1":"Skeleton","clan_2":"","lore":"???"},{"title":"Abomination Hound","battlerName":"Eldritch Abomination Hound","attribute":"dark","cost":4,"cooldown":3,"mov":7,"rng":1,"btl":7,"vit":12,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Homunculus","clan_1":"Beast","clan_2":"","lore":"???"},{"title":"Bear Of Doom","battlerName":"Boss Bonemask Shadow Creature","attribute":"dark","cost":5,"cooldown":4,"mov":7,"rng":1,"btl":10,"vit":17,"rarity":1,"offset":0,"ability_0":"Fly","ability_1":"","clan_0":"Homunculus","clan_1":"Beast","clan_2":"","lore":"???"},{"title":"Minitaur Galgeon","battlerName":"Minotaur Beef","attribute":"aether","cost":1,"cooldown":2,"mov":3,"rng":1,"btl":2,"vit":5,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Homunculus","clan_1":"","clan_2":"","lore":"???"},{"title":"Gazer Skull","battlerName":"Gazers Skull","attribute":"aether","cost":2,"cooldown":2,"mov":4,"rng":1,"btl":4,"vit":8,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Skeleton","clan_1":"","clan_2":"","lore":"???"},{"title":"Alchemist Dante","battlerName":"Legendary Knights Summoner Dante A","attribute":"aether","cost":3,"cooldown":3,"mov":5,"rng":1,"btl":6,"vit":11,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Alchemist","clan_1":"","clan_2":"","lore":"???"},{"title":"Aetherial Werewolf","battlerName":"Blood Manipulation Feral","attribute":"aether","cost":4,"cooldown":3,"mov":6,"rng":1,"btl":12,"vit":14,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Homunculus","clan_1":"Beast","clan_2":"","lore":"???"},{"title":"Aetherial Warlord Jeffroy","battlerName":"Megapack III Fallen Kings Arcane King Jeffroy","attribute":"aether","cost":5,"cooldown":4,"mov":4,"rng":2,"btl":11,"vit":20,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Alchemist","clan_1":"","clan_2":"","lore":"???"},{"title":"Glacier Acolyte","battlerName":"Ice Glacier Spawn","attribute":"water","cost":1,"cooldown":2,"mov":2,"rng":1,"btl":2,"vit":4,"rarity":1,"offset":0,"ability_0":"Freeze Touch","ability_1":"","clan_0":"Iceborn","clan_1":"","clan_2":"","lore":""},{"title":"Pond Caster Ashmira","battlerName":"Zodiac Aquarius","attribute":"water","cost":3,"cooldown":3,"mov":4,"rng":1,"btl":4,"vit":8,"rarity":1,"offset":0,"ability_0":"Healing Hands","ability_1":"Recover","clan_0":"Cleric","clan_1":"","clan_2":"","lore":""},{"title":"Forest Healing Spirit","battlerName":"Summon Carbuncle","attribute":"forest","cost":1,"cooldown":2,"mov":3,"rng":1,"btl":2,"vit":5,"rarity":1,"offset":0,"ability_0":"Healing Hands","ability_1":"Recover","clan_0":"Spirit","clan_1":"Cleric","clan_2":"","lore":""},{"title":"Elvic Archer","battlerName":"Elf_Archer","attribute":"forest","cost":3,"cooldown":3,"mov":3,"rng":4,"btl":3,"vit":8,"rarity":1,"offset":0,"ability_0":"Justice Arrow","ability_1":"","clan_0":"Elf","clan_1":"Archer","clan_2":"","lore":""},{"title":"Healing Potion","battlerName":"glass05red","attribute":"neutral","cost":5,"cooldown":7,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Heal","ability_1":"","clan_0":"Illusion","clan_1":"Potion","clan_2":"","lore":"Magical tonic that heals completely a fellow battler"},{"title":"Mighty Dark Hammer","battlerName":"dark-hammer","attribute":"neutral","cost":5,"cooldown":5,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Reinforce","ability_1":"Dark Rush","clan_0":"Hex","clan_1":"Hammer","clan_2":"","lore":""},{"title":"Rose Sword","battlerName":"rose-sword","attribute":"neutral","cost":5,"cooldown":5,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Reinforce","ability_1":"Forest Rush","clan_0":"Hex","clan_1":"Sword","clan_2":"","lore":""},{"title":"Frozen Bow","battlerName":"Ice-bow","attribute":"neutral","cost":7,"cooldown":5,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Master Archer","ability_1":"Frozen Arrow","clan_0":"Hex","clan_1":"Bow","clan_2":"","lore":""},{"title":"Flaming Blade","battlerName":"Flaming-blade","attribute":"neutral","cost":5,"cooldown":5,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Reinforce","ability_1":"Combustion Rush","clan_0":"Hex","clan_1":"Sword","clan_2":"","lore":""},{"title":"Rainbow Sword","battlerName":"Rainbow-sword","attribute":"neutral","cost":5,"cooldown":5,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Reinforce","ability_1":"Tornado Rush","clan_0":"Hex","clan_1":"Sword","clan_2":"","lore":""},{"title":"Lightning Gauntlet","battlerName":"Lightning-gauntlet","attribute":"neutral","cost":7,"cooldown":5,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Storm Caster","ability_1":"Thunder Fist","clan_0":"Hex","clan_1":"Gauntlet","clan_2":"","lore":""},{"title":"Heavy Sword","battlerName":"Heavy-sword","attribute":"neutral","cost":5,"cooldown":5,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Reinforce","ability_1":"Steel Rush","clan_0":"Hex","clan_1":"Sword","clan_2":"","lore":""},{"title":"Sceptre Of Life","battlerName":"Scepter-of-life","attribute":"neutral","cost":7,"cooldown":5,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Judging Light","ability_1":"Celestial Shock","clan_0":"Hex","clan_1":"Sceptre","clan_2":"","lore":""},{"title":"Doomed Blade","battlerName":"Doomed-blade","attribute":"neutral","cost":5,"cooldown":5,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Reinforce","ability_1":"Aetherial Rush","clan_0":"Hex","clan_1":"Sword","clan_2":"","lore":""},{"title":"Elemental Crystal of Light","battlerName":"Light-minter","attribute":"neutral","cost":2,"cooldown":1,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Gather Light","ability_1":"","clan_0":"Illusion","clan_1":"Crystal","clan_2":"","lore":""},{"title":"Elemental Crystal of Fire","battlerName":"Fire-minter","attribute":"neutral","cost":2,"cooldown":1,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Gather Fire","ability_1":"","clan_0":"Illusion","clan_1":"Crystal","clan_2":"","lore":""},{"title":"Elemental Crystal of Forest","battlerName":"Forest-minter","attribute":"neutral","cost":2,"cooldown":1,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Gather Forest","ability_1":"","clan_0":"Illusion","clan_1":"Crystal","clan_2":"","lore":""},{"title":"Elemental Crystal of Thunder","battlerName":"Thunder-minter","attribute":"neutral","cost":2,"cooldown":1,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Gather Thunder","ability_1":"","clan_0":"Illusion","clan_1":"Crystal","clan_2":"","lore":""},{"title":"Elemental Crystal of Dark","battlerName":"Dark-minter","attribute":"neutral","cost":2,"cooldown":1,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Gather Dark","ability_1":"","clan_0":"Illusion","clan_1":"Crystal","clan_2":"","lore":""},{"title":"Elemental Crystal of Water","battlerName":"Water-minter","attribute":"neutral","cost":2,"cooldown":1,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Gather Water","ability_1":"","clan_0":"Illusion","clan_1":"Crystal","clan_2":"","lore":""},{"title":"Elemental Crystal of Metal","battlerName":"Metal-minter","attribute":"neutral","cost":2,"cooldown":1,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Gather Metal","ability_1":"","clan_0":"Illusion","clan_1":"Crystal","clan_2":"","lore":""},{"title":"Elemental Crystal of Aether","battlerName":"Aether-minter","attribute":"neutral","cost":2,"cooldown":1,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Gather Aether","ability_1":"","clan_0":"Illusion","clan_1":"Crystal","clan_2":"","lore":""},{"title":"Elemental Crystal of Wind","battlerName":"Wind-minter","attribute":"neutral","cost":2,"cooldown":1,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Gather Wind","ability_1":"","clan_0":"Illusion","clan_1":"Crystal","clan_2":"","lore":""},{"title":"Sceptre Of Venom","battlerName":"Ceptre-of-venom","attribute":"neutral","cost":3,"cooldown":5,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Poison","ability_1":"","clan_0":"Hex","clan_1":"Sceptre","clan_2":"","lore":""},{"title":"Light Caster Innova","battlerName":"Goddess Innova","attribute":"light","cost":3,"cooldown":5,"mov":3,"rng":1,"btl":3,"vit":7,"rarity":1,"offset":0,"ability_0":"Emanate Light","ability_1":"","clan_0":"Caster","clan_1":"","clan_2":"","lore":""},{"title":"Fire Caster Aries","battlerName":"Megapack III Zodiac Aries","attribute":"fire","cost":3,"cooldown":5,"mov":3,"rng":1,"btl":3,"vit":7,"rarity":1,"offset":0,"ability_0":"Emanate Flames","ability_1":"","clan_0":"Caster","clan_1":"","clan_2":"","lore":""},{"title":"Forest Caster Filia","battlerName":"Elemental Gemstone Wind","attribute":"forest","cost":3,"cooldown":5,"mov":3,"rng":1,"btl":3,"vit":7,"rarity":1,"offset":0,"ability_0":"Emanate Greenwood","ability_1":"","clan_0":"Caster","clan_1":"","clan_2":"","lore":""},{"title":"Thunder Caster Slimo","battlerName":"Slime Thunderiii","attribute":"thunder","cost":3,"cooldown":5,"mov":3,"rng":1,"btl":3,"vit":7,"rarity":1,"offset":0,"ability_0":"Emanate Lightning","ability_1":"","clan_0":"Caster","clan_1":"","clan_2":"","lore":""},{"title":"Dark Caster Dagger","battlerName":"Halloween Dagger skeleton","attribute":"dark","cost":3,"cooldown":5,"mov":3,"rng":1,"btl":3,"vit":7,"rarity":1,"offset":0,"ability_0":"Emanate Shadows","ability_1":"","clan_0":"Caster","clan_1":"","clan_2":"","lore":""},{"title":"Water Caster Sleemo","battlerName":"Slime Wateriii","attribute":"water","cost":3,"cooldown":5,"mov":3,"rng":1,"btl":3,"vit":7,"rarity":1,"offset":0,"ability_0":"Emanate Ponds","ability_1":"","clan_0":"Caster","clan_1":"","clan_2":"","lore":""},{"title":"Metal Caster Slymow","battlerName":"Cyber Slime","attribute":"metal","cost":3,"cooldown":5,"mov":3,"rng":1,"btl":3,"vit":7,"rarity":1,"offset":0,"ability_0":"Emanate Copper","ability_1":"","clan_0":"Caster","clan_1":"","clan_2":"","lore":""},{"title":"Aether Caster Libreryo","battlerName":"Library Book Golem","attribute":"aether","cost":3,"cooldown":5,"mov":3,"rng":1,"btl":3,"vit":7,"rarity":1,"offset":0,"ability_0":"Emanate Aether","ability_1":"","clan_0":"Caster","clan_1":"","clan_2":"","lore":""},{"title":"Wind Caster Tempestia","battlerName":"Elemental Wind Spirit Tempestia","attribute":"wind","cost":3,"cooldown":5,"mov":3,"rng":1,"btl":3,"vit":7,"rarity":1,"offset":0,"ability_0":"Emanate Storms","ability_1":"","clan_0":"Caster","clan_1":"","clan_2":"","lore":""},{"title":"Ghastmallow","battlerName":"Darkness Slime GhastMallow","attribute":"fire","cost":1,"cooldown":3,"mov":4,"rng":1,"btl":3,"vit":6,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Marshmallow","clan_1":"Elemental","clan_2":"","lore":""},{"title":"Feral Kitsune","battlerName":"Boss Feral Kitsune","attribute":"fire","cost":3,"cooldown":2,"mov":4,"rng":1,"btl":6,"vit":11,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Fox","clan_1":"Beast","clan_2":"","lore":""},{"title":"Paper Airplane Mimic","battlerName":"Mimic Paper Plane","attribute":"wind","cost":1,"cooldown":3,"mov":3,"rng":2,"btl":4,"vit":5,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Mimic","clan_1":"Winged","clan_2":"","lore":""},{"title":"Wind Goddess Airi","battlerName":"Elemental Goddess Wind Airi","attribute":"wind","cost":3,"cooldown":3,"mov":4,"rng":1,"btl":5,"vit":9,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Elemental","clan_1":"Winged","clan_2":"","lore":""},{"title":"Sword Mimic","battlerName":"Mimic Sword","attribute":"metal","cost":1,"cooldown":2,"mov":2,"rng":1,"btl":6,"vit":6,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Mimic","clan_1":"","clan_2":"","lore":""},{"title":"Shield Mimic","battlerName":"Mimic Shield","attribute":"metal","cost":3,"cooldown":4,"mov":3,"rng":1,"btl":3,"vit":13,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Mimic","clan_1":"","clan_2":"","lore":""},{"title":"Clockwork Slime","battlerName":"Clockwork Slime","attribute":"thunder","cost":1,"cooldown":2,"mov":3,"rng":1,"btl":4,"vit":4,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Cyber","clan_1":"Slime","clan_2":"","lore":""},{"title":"Shock Puppet","battlerName":"Ghost Puppet Pailo","attribute":"thunder","cost":3,"cooldown":2,"mov":6,"rng":1,"btl":7,"vit":10,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Cyber","clan_1":"Elemental","clan_2":"","lore":""},{"title":"Celestial Knight","battlerName":"Knight Spear Elite","attribute":"light","cost":1,"cooldown":2,"mov":4,"rng":1,"btl":3,"vit":6,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Elf","clan_1":"Paladin","clan_2":"","lore":""},{"title":"Celestial Wolf","battlerName":"Light Wolf","attribute":"light","cost":3,"cooldown":3,"mov":5,"rng":1,"btl":6,"vit":9,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Beast","clan_1":"","clan_2":"","lore":""},{"title":"Mimic Book","battlerName":"Mimic Book","attribute":"dark","cost":1,"cooldown":2,"mov":3,"rng":1,"btl":5,"vit":7,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Mimic","clan_1":"","clan_2":"","lore":""},{"title":"Book Master","battlerName":"Library Book Master","attribute":"dark","cost":3,"cooldown":3,"mov":5,"rng":2,"btl":7,"vit":8,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Librarian","clan_1":"","clan_2":"","lore":""},{"title":"Atherial Elf Dreyel","battlerName":"Megapack III Fallen Kings King Of Elves Dreyel","attribute":"aether","cost":1,"cooldown":2,"mov":3,"rng":1,"btl":3,"vit":6,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Elf","clan_1":"","clan_2":"","lore":""},{"title":"Aetherial Sarcophagus","battlerName":"Mimic Sarcophagus","attribute":"aether","cost":3,"cooldown":4,"mov":1,"rng":1,"btl":4,"vit":10,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Mimic","clan_1":"","clan_2":"","lore":""},{"title":"Seaweed Cannon","battlerName":"Sea Seaweed Cannon","attribute":"water","cost":1,"cooldown":2,"mov":2,"rng":3,"btl":4,"vit":5,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Sea Monster","clan_1":"","clan_2":"","lore":""},{"title":"Ice Bull","battlerName":"Ice Bull","attribute":"water","cost":2,"cooldown":2,"mov":3,"rng":1,"btl":5,"vit":7,"rarity":1,"offset":0,"ability_0":"Freeze Touch","ability_1":"","clan_0":"Iceborn","clan_1":"Beast","clan_2":"","lore":""},{"title":"Kindred Glacier","battlerName":"Ice Kindred Glacier","attribute":"water","cost":3,"cooldown":3,"mov":3,"rng":2,"btl":4,"vit":12,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Iceborn","clan_1":"Elemental","clan_2":"","lore":""},{"title":"Sea Octopus","battlerName":"Sea Octopus","attribute":"water","cost":4,"cooldown":3,"mov":4,"rng":2,"btl":7,"vit":13,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Sea Monster","clan_1":"","clan_2":"","lore":""},{"title":"Grand Titan Demeres","battlerName":"Titan Ice Demeres","attribute":"water","cost":5,"cooldown":4,"mov":5,"rng":2,"btl":14,"vit":15,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Titan","clan_1":"Elemental","clan_2":"","lore":"One of the 7 Grand Titans"},{"title":"Goblin Mage","battlerName":"Goblin Mage","attribute":"forest","cost":1,"cooldown":2,"mov":3,"rng":2,"btl":3,"vit":6,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Goblin","clan_1":"Mage","clan_2":"","lore":""},{"title":"Hornet Warrior","battlerName":"MEgapack II Hornet Warrior","attribute":"forest","cost":2,"cooldown":2,"mov":4,"rng":1,"btl":3,"vit":7,"rarity":1,"offset":0,"ability_0":"Fly","ability_1":"","clan_0":"Hornet","clan_1":"Warrior","clan_2":"","lore":""},{"title":"Infection Tree","battlerName":"Toxic Root B","attribute":"forest","cost":3,"cooldown":2,"mov":4,"rng":1,"btl":6,"vit":10,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Toxic","clan_1":"Tree","clan_2":"","lore":""},{"title":"Mimic Bow","battlerName":"Mimic Bow","attribute":"forest","cost":4,"cooldown":3,"mov":5,"rng":4,"btl":6,"vit":8,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Mimic","clan_1":"","clan_2":"","lore":""},{"title":"Toucan Panther","battlerName":"Megapack II Toucan Panther","attribute":"forest","cost":5,"cooldown":4,"mov":4,"rng":5,"btl":10,"vit":17,"rarity":1,"offset":0,"ability_0":"Fly","ability_1":"","clan_0":"Winged","clan_1":"Beast","clan_2":"","lore":""},{"title":"Flame Oculus","battlerName":"Darkness Oculus","attribute":"fire","cost":1,"cooldown":2,"mov":4,"rng":1,"btl":4,"vit":6,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Warrior","clan_1":"Elemental","clan_2":"","lore":""},{"title":"Fire Mummy","battlerName":"Egypt Mummy C","attribute":"fire","cost":2,"cooldown":2,"mov":2,"rng":1,"btl":5,"vit":8,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Undead","clan_1":"Elemental","clan_2":"","lore":""},{"title":"Volcano Vulture","battlerName":"Fire Vulture","attribute":"fire","cost":3,"cooldown":3,"mov":4,"rng":1,"btl":8,"vit":11,"rarity":1,"offset":0,"ability_0":"Fly","ability_1":"","clan_0":"Winged","clan_1":"Elemental","clan_2":"","lore":""},{"title":"Searing Jiangshi","battlerName":"Undead Jiangshi","attribute":"fire","cost":4,"cooldown":4,"mov":6,"rng":3,"btl":8,"vit":13,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Alchemist","clan_1":"Spirit","clan_2":"","lore":""},{"title":"Grand Titan Ignis","battlerName":"Elemental Titan Ignis","attribute":"fire","cost":5,"cooldown":4,"mov":6,"rng":1,"btl":13,"vit":15,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Titan","clan_1":"Elemental","clan_2":"","lore":"One of the 7 Grand Titans"},{"title":"Melee Pelican","battlerName":"Sea Beach Pelican","attribute":"wind","cost":1,"cooldown":3,"mov":4,"rng":1,"btl":4,"vit":6,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Sea Monster","clan_1":"Winged","clan_2":"","lore":""},{"title":"Razortail Eagle","battlerName":"Megapack II Mountain Razortail Eagle","attribute":"wind","cost":2,"cooldown":2,"mov":4,"rng":1,"btl":5,"vit":7,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Winged","clan_1":"Beast","clan_2":"","lore":""},{"title":"Void Saber","battlerName":"Boss Void Gargoyle Sabre","attribute":"wind","cost":3,"cooldown":3,"mov":5,"rng":2,"btl":6,"vit":11,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Gargoyle","clan_1":"","clan_2":"","lore":""},{"title":"Parrot King","battlerName":"Boss Parrot King","attribute":"wind","cost":4,"cooldown":3,"mov":5,"rng":2,"btl":7,"vit":13,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Winged","clan_1":"Beast","clan_2":"","lore":""},{"title":"Grand Titan Ventross","battlerName":"Titan Wind Ventoss","attribute":"wind","cost":5,"cooldown":4,"mov":5,"rng":4,"btl":9,"vit":15,"rarity":1,"offset":0,"ability_0":"Fly","ability_1":"","clan_0":"Titan","clan_1":"Winged","clan_2":"","lore":"One of the 7 Grand Titans"},{"title":"Long Blade Fallen","battlerName":"Fallen Winged Sword","attribute":"metal","cost":1,"cooldown":2,"mov":2,"rng":1,"btl":5,"vit":4,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Warrior","clan_1":"Cyber","clan_2":"","lore":""},{"title":"Dual Blade Fallen","battlerName":"Darkness Blade Colossus","attribute":"metal","cost":2,"cooldown":2,"mov":3,"rng":1,"btl":6,"vit":9,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Warrior","clan_1":"Cyber","clan_2":"","lore":""},{"title":"Crocodile Paladin","battlerName":"Crocodile Warriors Paladin","attribute":"metal","cost":3,"cooldown":3,"mov":4,"rng":1,"btl":7,"vit":11,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Sea Monster","clan_1":"Cyber","clan_2":"","lore":""},{"title":"Long Lance Fallen","battlerName":"Megapack II Black Lance Knight","attribute":"metal","cost":4,"cooldown":3,"mov":5,"rng":3,"btl":9,"vit":13,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Warrior","clan_1":"Cyber","clan_2":"","lore":""},{"title":"Mimic Titan Aspar","battlerName":"Mimic Armor","attribute":"metal","cost":5,"cooldown":4,"mov":6,"rng":2,"btl":18,"vit":17,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Mimic","clan_1":"Cyber","clan_2":"","lore":""},{"title":"Clockwork Bird","battlerName":"Clockwork Aerial","attribute":"thunder","cost":1,"cooldown":2,"mov":3,"rng":1,"btl":3,"vit":5,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Winged","clan_1":"","clan_2":"","lore":""},{"title":"Clockwork Iron Maiden","battlerName":"Clockwork Iron Maiden","attribute":"thunder","cost":2,"cooldown":4,"mov":1,"rng":1,"btl":3,"vit":9,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Mimic","clan_1":"","clan_2":"","lore":""},{"title":"Clockwork Dragon","battlerName":"Clockwork Dragon","attribute":"thunder","cost":3,"cooldown":2,"mov":5,"rng":2,"btl":4,"vit":10,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Dragon","clan_1":"Cyber","clan_2":"","lore":""},{"title":"Clockwork Juggernaut","battlerName":"Clockwork Dragon Juggernaut","attribute":"thunder","cost":4,"cooldown":4,"mov":2,"rng":2,"btl":9,"vit":12,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Dragon","clan_1":"","clan_2":"","lore":""},{"title":"Grand Titan Dynamo","battlerName":"Titans Thunder Dynamo","attribute":"thunder","cost":5,"cooldown":4,"mov":4,"rng":2,"btl":14,"vit":15,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Titan","clan_1":"Elemental","clan_2":"","lore":"One of the 7 Grand Titans"},{"title":"Hieracosphinx","battlerName":"Egypt Hieracosphinx","attribute":"light","cost":1,"cooldown":2,"mov":3,"rng":1,"btl":4,"vit":5,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Beast","clan_1":"","clan_2":"","lore":""},{"title":"Mummy of Light","battlerName":"Egypt Mummy A","attribute":"light","cost":2,"cooldown":2,"mov":3,"rng":1,"btl":6,"vit":8,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Undead","clan_1":"Elemental","clan_2":"","lore":""},{"title":"Mirror Mirror","battlerName":"Mirror Mimic","attribute":"light","cost":3,"cooldown":3,"mov":4,"rng":1,"btl":7,"vit":10,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Mimic","clan_1":"","clan_2":"","lore":""},{"title":"Ancient Priestess","battlerName":"Boss Ancient Priestess","attribute":"light","cost":4,"cooldown":4,"mov":5,"rng":1,"btl":9,"vit":12,"rarity":1,"offset":0,"ability_0":"Healing Hands","ability_1":"","clan_0":"Undead","clan_1":"","clan_2":"","lore":""},{"title":"Grand Titan Terran","battlerName":"Elemental Titan Terran","attribute":"light","cost":5,"cooldown":4,"mov":6,"rng":2,"btl":14,"vit":18,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Titan","clan_1":"Elemental","clan_2":"","lore":"One of the 7 Grand Titans"},{"title":"Enchanted Novel Swarm","battlerName":"Library Book Swarm B","attribute":"dark","cost":1,"cooldown":2,"mov":2,"rng":1,"btl":2,"vit":5,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Mimic","clan_1":"","clan_2":"","lore":""},{"title":"Skeleton Knight Debons","battlerName":"Skeleton Knight Debons","attribute":"dark","cost":2,"cooldown":2,"mov":4,"rng":1,"btl":4,"vit":8,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Skeleton","clan_1":"Warrior","clan_2":"","lore":""},{"title":"Pumpkin Chariot","battlerName":"Halloween Pumpkin Chariot","attribute":"dark","cost":3,"cooldown":3,"mov":5,"rng":1,"btl":6,"vit":10,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Undead","clan_1":"","clan_2":"","lore":""},{"title":"Gentleman Jack","battlerName":"Halloween Pumpkin Gentleman","attribute":"dark","cost":4,"cooldown":4,"mov":5,"rng":1,"btl":8,"vit":13,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Undead","clan_1":"Elemental","clan_2":"","lore":""},{"title":"Grand Titan Yoggoth","battlerName":"Boss Eldritch God Shaccad\'Yoggoth","attribute":"dark","cost":5,"cooldown":4,"mov":5,"rng":2,"btl":12,"vit":16,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Titan","clan_1":"Elemental","clan_2":"","lore":"One of the 7 Grand Titans"},{"title":"Dragons Scarlet Wyrm","battlerName":"Dragons Scarlet Wyrm","attribute":"aether","cost":1,"cooldown":2,"mov":3,"rng":1,"btl":3,"vit":5,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Dragon","clan_1":"","clan_2":"","lore":""},{"title":"Aetherial Blood Clot","battlerName":"Blood Manipulation Slime","attribute":"aether","cost":2,"cooldown":3,"mov":3,"rng":1,"btl":6,"vit":8,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Homunculus","clan_1":"","clan_2":"","lore":""},{"title":"Aetherial Blood Golem","battlerName":"Eldritch Slime Spawn B","attribute":"aether","cost":3,"cooldown":3,"mov":4,"rng":1,"btl":7,"vit":11,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Slime","clan_1":"","clan_2":"","lore":""},{"title":"Aetherial Soul Spider","battlerName":"Special Spiders Ghost Spider","attribute":"aether","cost":4,"cooldown":3,"mov":5,"rng":1,"btl":12,"vit":15,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Arachnid","clan_1":"Skeleton","clan_2":"","lore":""},{"title":"Aetherial Titan","battlerName":"Eldritch God ShacadYoggoth","attribute":"aether","cost":5,"cooldown":5,"mov":6,"rng":2,"btl":14,"vit":20,"rarity":1,"offset":0,"ability_0":"","ability_1":"","clan_0":"Titan","clan_1":"","clan_2":"","lore":"One of the 7 Grand Titans"},{"title":"Wood Sword","battlerName":"Wood-sword","attribute":"neutral","cost":2,"cooldown":0,"mov":0,"rng":0,"btl":0,"vit":0,"rarity":1,"offset":0,"ability_0":"Reinforce","ability_1":"","clan_0":"Hex","clan_1":"Sword","clan_2":"","lore":""}]}')},YSVl:function(e,t,r){var n=r("EhIR"),i=r("uDiL"),o=r("pJ6O"),a=r("yuCN"),s=r("euyF"),c=r("ie1u"),l=r("pJ3+");l.alea=n,l.xor128=i,l.xorwow=o,l.xorshift7=a,l.xor4096=s,l.tychei=c,e.exports=l},YbKh:function(e,t,r){"use strict";e.exports=r("eP2h").default},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},cNXl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=r("P6U5"))&&n.__esModule?n:{default:n};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return(0,i.default)(t,i.default.number.positive.integer),(0,i.default)(r,i.default.number.gte(0).lte(1)),function(){for(var n=0,i=0;n++<t;)i+=e.next()<r;return i}}},ciGz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=r("P6U5"))&&n.__esModule?n:{default:n};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return(0,i.default)(t,i.default.number.gte(0).lt(1)),function(){return e.next()+t|0}}},d6kd:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"next",value:function(){throw new Error("RNG.next must be overridden")}},{key:"seed",value:function(e,t){throw new Error("RNG.seed must be overridden")}},{key:"clone",value:function(e,t){throw new Error("RNG.clone must be overridden")}},{key:"_seed",value:function(e,t){if(e===(0|e))return e;for(var r=""+e,n=0,i=0;i<r.length;++i)n^=0|r.charCodeAt(i);return n}},{key:"name",get:function(){throw new Error("RNG.name must be overridden")}}]),e}();t.default=i},eP2h:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RNGFactory=t.RNG=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=w(r("P6U5")),o=w(r("d6kd")),a=w(r("6qyq")),s=w(r("QsUa")),c=w(r("XFvq")),l=w(r("ow5J")),u=w(r("5+oW")),f=w(r("UoD4")),d=w(r("ciGz")),h=w(r("cNXl")),p=w(r("F+Oh")),b=w(r("gjL3")),m=w(r("B9EA")),g=w(r("i8jc")),y=w(r("nSKq")),v=w(r("lryC"));function w(e){return e&&e.__esModule?e:{default:e}}t.RNG=o.default,t.RNGFactory=a.default;var _=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(0,i.default)(t,i.default.object.instanceOf(o.default)),this._cache={},this.use(t)}return n(e,[{key:"clone",value:function(){return new e(arguments.length?a.default.apply(void 0,arguments):this.rng.clone())}},{key:"use",value:function(){this._rng=a.default.apply(void 0,arguments)}},{key:"patch",value:function(){if(this._patch)throw new Error("Math.random already patched");this._patch=Math.random,Math.random=this.uniform()}},{key:"unpatch",value:function(){this._patch&&(Math.random=this._patch,delete this._patch)}},{key:"next",value:function(){return this._rng.next()}},{key:"float",value:function(e,t){return this.uniform(e,t)()}},{key:"int",value:function(e,t){return this.uniformInt(e,t)()}},{key:"integer",value:function(e,t){return this.uniformInt(e,t)()}},{key:"bool",value:function(){return this.uniformBoolean()()}},{key:"boolean",value:function(){return this.uniformBoolean()()}},{key:"uniform",value:function(e,t){return this._memoize("uniform",s.default,e,t)}},{key:"uniformInt",value:function(e,t){return this._memoize("uniformInt",c.default,e,t)}},{key:"uniformBoolean",value:function(){return this._memoize("uniformBoolean",l.default)}},{key:"normal",value:function(e,t){return(0,u.default)(this,e,t)}},{key:"logNormal",value:function(e,t){return(0,f.default)(this,e,t)}},{key:"bernoulli",value:function(e){return(0,d.default)(this,e)}},{key:"binomial",value:function(e,t){return(0,h.default)(this,e,t)}},{key:"geometric",value:function(e){return(0,p.default)(this,e)}},{key:"poisson",value:function(e){return(0,b.default)(this,e)}},{key:"exponential",value:function(e){return(0,m.default)(this,e)}},{key:"irwinHall",value:function(e){return(0,g.default)(this,e)}},{key:"bates",value:function(e){return(0,y.default)(this,e)}},{key:"pareto",value:function(e){return(0,v.default)(this,e)}},{key:"_memoize",value:function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var o=""+n.join(";"),a=this._cache[e];return void 0!==a&&a.key===o||(a={key:o,distribution:t.apply(void 0,[this].concat(n))},this._cache[e]=a),a.distribution}},{key:"rng",get:function(){return this._rng}}]),e}();t.default=new _},euyF:function(e,t,r){(function(e){var n;!function(e,i,o){function a(e){var t=this;t.next=function(){var e,r,n=t.w,i=t.X,o=t.i;return t.w=n=n+1640531527|0,r=i[o+34&127],e=i[o=o+1&127],r^=r<<13,e^=e<<17,r=i[o]=(r^=r>>>15)^(e^=e>>>12),t.i=o,r+(n^n>>>16)|0},function(e,t){var r,n,i,o,a,s=[],c=128;for(t===(0|t)?(n=t,t=null):(t+="\0",n=0,c=Math.max(c,t.length)),i=0,o=-32;o<c;++o)t&&(n^=t.charCodeAt((o+32)%t.length)),0===o&&(a=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,o>=0&&(i=0==(r=s[127&o]^=n+(a=a+1640531527|0))?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,o=512;o>0;--o)n=s[i+34&127],r=s[i=i+1&127],n^=n<<13,r^=r<<17,s[i]=(n^=n>>>15)^(r^=r>>>12);e.w=a,e.X=s,e.i=i}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function c(e,t){null==e&&(e=+new Date);var r=new a(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&(n.X&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=c:r("B9Yq")&&r("PDX0")?void 0===(n=(function(){return c}).call(t,r,t,i))||(i.exports=n):this.xor4096=c}(0,e,r("B9Yq"))}).call(this,r("YuTi")(e))},gjL3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=r("P6U5"))&&n.__esModule?n:{default:n},o=[0,0,.6931471805599453,1.791759469228055,3.1780538303479458,4.787491742782046,6.579251212010101,8.525161361065415,10.60460290274525,12.801827480081469],a=function(e){return o[e]};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if((0,i.default)(t,i.default.number.positive),t<10){var r=Math.exp(-t);return function(){for(var n=r,i=0,o=e.next();o>n;)o-=n,n=t*n/++i;return i}}var n=Math.sqrt(t),o=.931+2.53*n,s=.02483*o-.059,c=1.1239+1.1328/(o-3.4),l=.9277-3.6224/(o-2);return function(){for(;;){var r=void 0,i=e.next();if(i<=.86*l)return r=i/l-.43,Math.floor((2*s/(.5-Math.abs(r))+o)*r+t+.445);i>=l?r=e.next()-.5:(r=((r=i/l-.93)<0?-.5:.5)-r,i=e.next()*l);var u=.5-Math.abs(r);if(!(u<.013&&i>u)){var f=0|Math.floor((2*s/u+o)*r+t+.445);if(i=i*c/(s/(u*u)+o),f>=10){var d=(f+.5)*Math.log(t/f)-t-.9189385332046727+f-(1/12-(1/360-1/(1260*f*f))/(f*f))/f;if(Math.log(i*n)<=d)return f}else if(f>=0&&Math.log(i)<=f*Math.log(t)-t-a(f))return f}}}}},i8jc:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=r("P6U5"))&&n.__esModule?n:{default:n};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,i.default)(t,i.default.number.integer.gte(0)),function(){for(var r=0,n=0;n<t;++n)r+=e.next();return r}}},ie1u:function(e,t,r){(function(e){var n;!function(e,i,o){function a(e){var t=this,r="";t.next=function(){var e=t.b,r=t.c,n=t.d,i=t.a;return e=e<<25^e>>>7^r,r=r-n|0,n=n<<24^n>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^r,t.c=r=r-n|0,t.d=n<<16^r>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):r+=e;for(var n=0;n<r.length+20;n++)t.b^=0|r.charCodeAt(n),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function c(e,t){var r=new a(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=c:r("B9Yq")&&r("PDX0")?void 0===(n=(function(){return c}).call(t,r,t,i))||(i.exports=n):this.tychei=c}(0,e,r("B9Yq"))}).call(this,r("YuTi")(e))},lryC:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=r("P6U5"))&&n.__esModule?n:{default:n};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,i.default)(t,i.default.number.gte(0));var r=1/t;return function(){return 1/Math.pow(1-e.next(),r)}}},nSKq:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=r("P6U5"))&&n.__esModule?n:{default:n};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,i.default)(t,i.default.number.integer.positive);var r=e.irwinHall(t);return function(){return r()/t}}},oLy0:function(e,t,r){parcelRequire=function(t,n,i,o){var a,s="function"==typeof parcelRequire&&parcelRequire;function c(e,i){if(!n[e]){if(!t[e]){var o="function"==typeof parcelRequire&&parcelRequire;if(!i&&o)return o(e,!0);if(s)return s(e,!0);if("string"==typeof e)return r("XhEF")(e);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}u.resolve=function(r){return t[e][1][r]||r},u.cache={};var l=n[e]=new c.Module(e);t[e][0].call(l.exports,u,l,l.exports,this)}return n[e].exports;function u(e){return c(u.resolve(e))}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=t,c.cache=n,c.parent=s,c.register=function(e,r){t[e]=[function(e,t){t.exports=r},{}]};for(var l=0;l<i.length;l++)try{c(i[l])}catch(t){a||(a=t)}if(i.length){var u=c(i[i.length-1]);e.exports=u}if(parcelRequire=c,a)throw a;return c}({EgBh:[function(e,t,r){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch(n){return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch(n){return!0}}(),t.exports.binaryFeatures=n;var i=t.exports.BlobBuilder;function o(){this._pieces=[],this._parts=[]}"undefined"!=typeof window&&(i=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),o.prototype.append=function(e){"number"==typeof e?this._pieces.push(e):(this.flush(),this._parts.push(e))},o.prototype.flush=function(){if(this._pieces.length>0){var e=new Uint8Array(this._pieces);n.useArrayBufferView||(e=e.buffer),this._parts.push(e),this._pieces=[]}},o.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var e=new i,t=0,r=this._parts.length;t<r;t++)e.append(this._parts[t]);return e.getBlob()}return new Blob(this._parts)},t.exports.BufferBuilder=o},{}],kdPp:[function(e,t,r){var n=e("./bufferbuilder").BufferBuilder,i=e("./bufferbuilder").binaryFeatures;function o(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function a(){this.bufferBuilder=new n}function s(e){var t=e.charCodeAt(0);return t<=2047?"00":t<=65535?"000":t<=2097151?"0000":t<=67108863?"00000":"000000"}t.exports={unpack:function(e){return new o(e).unpack()},pack:function(e){var t=new a;return t.pack(e),t.getBuffer()}},o.prototype.unpack=function(){var e,t=this.unpack_uint8();if(t<128)return t;if((224^t)<32)return(224^t)-32;if((e=160^t)<=15)return this.unpack_raw(e);if((e=176^t)<=15)return this.unpack_string(e);if((e=144^t)<=15)return this.unpack_array(e);if((e=128^t)<=15)return this.unpack_map(e);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:case 213:case 214:case 215:return;case 216:return e=this.unpack_uint16(),this.unpack_string(e);case 217:return e=this.unpack_uint32(),this.unpack_string(e);case 218:return e=this.unpack_uint16(),this.unpack_raw(e);case 219:return e=this.unpack_uint32(),this.unpack_raw(e);case 220:return e=this.unpack_uint16(),this.unpack_array(e);case 221:return e=this.unpack_uint32(),this.unpack_array(e);case 222:return e=this.unpack_uint16(),this.unpack_map(e);case 223:return e=this.unpack_uint32(),this.unpack_map(e)}},o.prototype.unpack_uint8=function(){var e=255&this.dataView[this.index];return this.index++,e},o.prototype.unpack_uint16=function(){var e=this.read(2),t=256*(255&e[0])+(255&e[1]);return this.index+=2,t},o.prototype.unpack_uint32=function(){var e=this.read(4),t=256*(256*(256*e[0]+e[1])+e[2])+e[3];return this.index+=4,t},o.prototype.unpack_uint64=function(){var e=this.read(8),t=256*(256*(256*(256*(256*(256*(256*e[0]+e[1])+e[2])+e[3])+e[4])+e[5])+e[6])+e[7];return this.index+=8,t},o.prototype.unpack_int8=function(){var e=this.unpack_uint8();return e<128?e:e-256},o.prototype.unpack_int16=function(){var e=this.unpack_uint16();return e<32768?e:e-65536},o.prototype.unpack_int32=function(){var e=this.unpack_uint32();return e<Math.pow(2,31)?e:e-Math.pow(2,32)},o.prototype.unpack_int64=function(){var e=this.unpack_uint64();return e<Math.pow(2,63)?e:e-Math.pow(2,64)},o.prototype.unpack_raw=function(e){if(this.length<this.index+e)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+e+" "+this.length);var t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t},o.prototype.unpack_string=function(e){for(var t,r,n=this.read(e),i=0,o="";i<e;)(t=n[i])<128?(o+=String.fromCharCode(t),i++):(192^t)<32?(r=(192^t)<<6|63&n[i+1],o+=String.fromCharCode(r),i+=2):(r=(15&t)<<12|(63&n[i+1])<<6|63&n[i+2],o+=String.fromCharCode(r),i+=3);return this.index+=e,o},o.prototype.unpack_array=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=this.unpack();return t},o.prototype.unpack_map=function(e){for(var t={},r=0;r<e;r++){var n=this.unpack(),i=this.unpack();t[n]=i}return t},o.prototype.unpack_float=function(){var e=this.unpack_uint32();return(0==e>>31?1:-1)*(8388607&e|8388608)*Math.pow(2,(e>>23&255)-127-23)},o.prototype.unpack_double=function(){var e=this.unpack_uint32(),t=this.unpack_uint32(),r=(e>>20&2047)-1023;return(0==e>>31?1:-1)*((1048575&e|1048576)*Math.pow(2,r-20)+t*Math.pow(2,r-52))},o.prototype.read=function(e){var t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")},a.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},a.prototype.pack=function(e){var t=typeof e;if("string"===t)this.pack_string(e);else if("number"===t)Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if("boolean"===t)!0===e?this.bufferBuilder.append(195):!1===e&&this.bufferBuilder.append(194);else if("undefined"===t)this.bufferBuilder.append(192);else{if("object"!==t)throw new Error('Type "'+t+'" not yet supported');if(null===e)this.bufferBuilder.append(192);else{var r=e.constructor;if(r==Array)this.pack_array(e);else if(r==Blob||r==File||e instanceof Blob||e instanceof File)this.pack_bin(e);else if(r==ArrayBuffer)this.pack_bin(i.useArrayBufferView?new Uint8Array(e):e);else if("BYTES_PER_ELEMENT"in e)this.pack_bin(i.useArrayBufferView?new Uint8Array(e.buffer):e.buffer);else if(r==Object||r.toString().startsWith("class"))this.pack_object(e);else if(r==Date)this.pack_string(e.toString());else{if("function"!=typeof e.toBinaryPack)throw new Error('Type "'+r.toString()+'" not yet supported');this.bufferBuilder.append(e.toBinaryPack())}}}this.bufferBuilder.flush()},a.prototype.pack_bin=function(e){var t=e.length||e.byteLength||e.size;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this.bufferBuilder.append(218),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(t)}this.bufferBuilder.append(e)},a.prototype.pack_string=function(e){var t=function(e){return e.length>600?new Blob([e]).size:e.replace(/[^\u0000-\u007F]/g,s).length}(e);if(t<=15)this.pack_uint8(176+t);else if(t<=65535)this.bufferBuilder.append(216),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(t)}this.bufferBuilder.append(e)},a.prototype.pack_array=function(e){var t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this.bufferBuilder.append(220),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(t)}for(var r=0;r<t;r++)this.pack(e[r])},a.prototype.pack_integer=function(e){if(e>=-32&&e<=127)this.bufferBuilder.append(255&e);else if(e>=0&&e<=255)this.bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this.bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this.bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this.bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this.bufferBuilder.append(210),this.pack_int32(e);else if(e>=-0x8000000000000000&&e<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(e);else{if(!(e>=0&&e<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(e)}},a.prototype.pack_double=function(e){var t=0;e<0&&(t=1,e=-e);var r=Math.floor(Math.log(e)/Math.LN2),n=e/Math.pow(2,r)-1,i=Math.floor(n*Math.pow(2,52)),o=Math.pow(2,32),a=t<<31|r+1023<<20|i/o&1048575,s=i%o;this.bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(s)},a.prototype.pack_object=function(e){var t=Object.keys(e).length;if(t<=15)this.pack_uint8(128+t);else if(t<=65535)this.bufferBuilder.append(222),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(t)}for(var r in e)e.hasOwnProperty(r)&&(this.pack(r),this.pack(e[r]))},a.prototype.pack_uint8=function(e){this.bufferBuilder.append(e)},a.prototype.pack_uint16=function(e){this.bufferBuilder.append(e>>8),this.bufferBuilder.append(255&e)},a.prototype.pack_uint32=function(e){var t=4294967295&e;this.bufferBuilder.append((4278190080&t)>>>24),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t)},a.prototype.pack_uint64=function(e){var t=e/Math.pow(2,32),r=e%Math.pow(2,32);this.bufferBuilder.append((4278190080&t)>>>24),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t),this.bufferBuilder.append((4278190080&r)>>>24),this.bufferBuilder.append((16711680&r)>>>16),this.bufferBuilder.append((65280&r)>>>8),this.bufferBuilder.append(255&r)},a.prototype.pack_int8=function(e){this.bufferBuilder.append(255&e)},a.prototype.pack_int16=function(e){this.bufferBuilder.append((65280&e)>>8),this.bufferBuilder.append(255&e)},a.prototype.pack_int32=function(e){this.bufferBuilder.append(e>>>24&255),this.bufferBuilder.append((16711680&e)>>>16),this.bufferBuilder.append((65280&e)>>>8),this.bufferBuilder.append(255&e)},a.prototype.pack_int64=function(e){var t=Math.floor(e/Math.pow(2,32)),r=e%Math.pow(2,32);this.bufferBuilder.append((4278190080&t)>>>24),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t),this.bufferBuilder.append((4278190080&r)>>>24),this.bufferBuilder.append((16711680&r)>>>16),this.bufferBuilder.append((65280&r)>>>8),this.bufferBuilder.append(255&r)}},{"./bufferbuilder":"EgBh"}],iSxC:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.extractVersion=a,r.wrapPeerConnectionEvent=function(e,t,r){if(e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return i.apply(this,arguments);var o=function(e){var t=r(e);t&&n(t)};return this._eventMap=this._eventMap||{},this._eventMap[n]=o,i.apply(this,[e,o])};var o=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[r])return o.apply(this,arguments);var n=this._eventMap[r];return delete this._eventMap[r],o.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}},r.disableLog=function(e){return"boolean"!=typeof e?new Error("Argument type: "+n(e)+". Please use a boolean."):(i=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},r.disableWarnings=function(e){return"boolean"!=typeof e?new Error("Argument type: "+n(e)+". Please use a boolean."):(o=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},r.log=function(){if("object"===("undefined"==typeof window?"undefined":n(window))){if(i)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},r.deprecated=function(e,t){o&&console.warn(e+" is deprecated, please use "+t+" instead.")},r.detectBrowser=function(e){var{navigator:t}=e,r={browser:null,version:null};if(void 0===e||!e.navigator)return r.browser="Not a browser.",r;if(t.mozGetUserMedia)r.browser="firefox",r.version=a(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)r.browser="chrome",r.version=a(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))r.browser="edge",r.version=a(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return r.browser="Not a supported browser.",r;r.browser="safari",r.version=a(t.userAgent,/AppleWebKit\/(\d+)\./,1),r.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return r},r.compactObject=function e(t){return s(t)?Object.keys(t).reduce((function(r,n){var i=s(t[n]),o=i?e(t[n]):t[n],a=i&&!Object.keys(o).length;return void 0===o||a?r:Object.assign(r,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},n,o))}),{}):t},r.walkStats=c,r.filterStats=function(e,t,r){var n=r?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var o=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((function(t){e.forEach((function(r){r.type===n&&r.trackId===t.id&&c(e,r,i)}))})),i};var i=!0,o=!0;function a(e,t,r){var n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function s(e){return"[object Object]"===Object.prototype.toString.call(e)}function c(e,t,r){t&&!r.has(t.id)&&(r.set(t.id,t),Object.keys(t).forEach((function(n){n.endsWith("Id")?c(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach((function(t){c(e,e.get(t),r)}))})))}},{}],s6SN:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetUserMedia=function(e){var t=e&&e.navigator;if(t.mediaDevices){var r=n.detectBrowser(e),a=function(e){if("object"!==i(e)||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var n="object"===i(e[r])?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];var a={};"number"==typeof n.ideal?(a[o("min",r)]=n.ideal,t.optional.push(a),(a={})[o("max",r)]=n.ideal,t.optional.push(a)):(a[o("",r)]=n.ideal,t.optional.push(a))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",r)]=n.exact):["min","max"].forEach((function(e){void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,r)]=n[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},s=function(e,n){if(r.version>=61)return n(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===i(e.audio)){var s=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};s((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),s(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=a(e.audio)}if(e&&"object"===i(e.video)){var c=e.video.facingMode;c=c&&("object"===i(c)?c:{ideal:c});var l,u=r.version<66;if(c&&("user"===c.exact||"environment"===c.exact||"user"===c.ideal||"environment"===c.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||u)&&(delete e.video.facingMode,"environment"===c.exact||"environment"===c.ideal?l=["back","rear"]:"user"!==c.exact&&"user"!==c.ideal||(l=["front"]),l))return t.mediaDevices.enumerateDevices().then((function(t){var r=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return l.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!r&&t.length&&l.includes("back")&&(r=t[t.length-1]),r&&(e.video.deviceId=c.exact?{exact:r.deviceId}:{ideal:r.deviceId}),e.video=a(e.video),o("chrome: "+JSON.stringify(e)),n(e)}));e.video=a(e.video)}return o("chrome: "+JSON.stringify(e)),n(e)},c=function(e){return r.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=(function(e,r,n){s(e,(function(e){t.webkitGetUserMedia(e,r,(function(e){n&&n(c(e))}))}))}).bind(t),t.mediaDevices.getUserMedia){var l=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return s(e,(function(e){return l(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(c(e))}))}))}}}};var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(e("../utils.js"));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n.log},{"../utils.js":"iSxC"}],VHa8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then((function(t){var n=r.video&&r.video.width,i=r.video&&r.video.height;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:r.video&&r.video.frameRate||3}},n&&(r.video.mandatory.maxWidth=n),i&&(r.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(r)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}},{}],uI5X:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimMediaStream=function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},r.shimOnTrack=function(e){if("object"!==s(e)||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)n.wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var r=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(n){var i;i=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===n.track.id})):{track:n.track};var o=new Event("track");o.track=n.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],r.dispatchEvent(o)})),t.stream.getTracks().forEach((function(n){var i;i=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===n.id})):{track:n};var o=new Event("track");o.track=n,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],r.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}},r.shimGetSendersWithDtmf=function(e){if("object"===s(e)&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===t.kind?e.createDTMFSender(t):null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){var i=r.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((function(e){r._senders.push(t(r,e))}))};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach((function(e){var r=t._senders.find((function(t){return t.track===e}));r&&t._senders.splice(t._senders.indexOf(r),1)}))}}else if("object"===s(e)&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}},r.shimGetStats=function(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,[r,n,i]=arguments;if(arguments.length>0&&"function"==typeof r)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof r))return t.apply(this,[]);var o=function(e){var t={};return e.result().forEach((function(e){var r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){r[t]=e.stat(t)})),t[r.id]=r})),t},a=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};return arguments.length>=2?t.apply(this,[function(e){n(a(o(e)))},r]):new Promise((function(r,n){t.apply(e,[function(e){r(a(o(e)))},n])})).then(n,i)}}},r.shimSenderReceiverGetStats=function(e){if("object"===s(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return n.filterStats(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=i.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),n.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return n.filterStats(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,r,n,i=arguments[0];return this.getSenders().forEach((function(e){e.track===i&&(t?n=!0:t=e)})),this.getReceivers().forEach((function(e){return e.track===i&&(r?n=!0:r=e),e.track===i})),n||t&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return o.apply(this,arguments)}}}},r.shimAddTrackRemoveTrackWithNative=c,r.shimAddTrackRemoveTrack=function(e){if(e.RTCPeerConnection){var t=n.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return c(e);var r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=r.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var r=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(r.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}i.apply(this,[t])};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){var n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var o=this._streams[r.id];if(o)o.addTrack(t),Promise.resolve().then((function(){n.dispatchEvent(new Event("negotiationneeded"))}));else{var a=new e.MediaStream([t]);this._streams[r.id]=a,this._reverseStreams[a.id]=r,this.addStream(a)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t],n=a({},t,(function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[function(r){var n=u(e,r);t[0].apply(null,[n])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):r.apply(this,arguments).then((function(t){return u(e,t)}))}));e.RTCPeerConnection.prototype[t]=n[t]}));var s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=(e=this,r=(t=arguments[0]).sdp,Object.keys(e._reverseStreams||[]).forEach((function(t){var n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:r})),s.apply(this,arguments)):s.apply(this,arguments);var e,t,r};var l=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=l.get.apply(this);return""===e.type?e:u(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach((function(n){r._streams[n].getTracks().find((function(t){return e.track===t}))&&(t=r._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function u(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var n=e._reverseStreams[t];r=r.replace(new RegExp(e._streams[n.id].id,"g"),n.id)})),new RTCSessionDescription({type:t.type,sdp:r})}},r.shimPeerConnection=function(e){var t=n.detectBrowser(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection){t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t],n=a({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=n[t]}));var r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.version<78&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}},r.fixNegotiationNeeded=function(e){n.wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){if("stable"===e.target.signalingState)return e}))},Object.defineProperty(r,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}}),Object.defineProperty(r,"shimGetDisplayMedia",{enumerable:!0,get:function(){return o.shimGetDisplayMedia}});var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(e("../utils.js")),i=e("./getusermedia"),o=e("./getdisplaymedia");function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var n=this.getSenders();r.apply(this,arguments);var i=this.getSenders().filter((function(e){return-1===n.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(r){var n=t._shimmedLocalStreams[r].indexOf(e);-1!==n&&t._shimmedLocalStreams[r].splice(n,1),1===t._shimmedLocalStreams[r].length&&delete t._shimmedLocalStreams[r]})),i.apply(this,arguments)}}},{"../utils.js":"iSxC","./getusermedia":"s6SN","./getdisplaymedia":"VHa8"}],NZ1C:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.filterIceServers=function(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&n.deprecated("RTCIceServer.url","RTCIceServer.urls");var i="string"==typeof t;return i&&(t=[t]),t=t.filter((function(e){if(0===e.indexOf("stun:"))return!1;var t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!r?(r=!0,!0):t&&!r})),delete e.url,e.urls=i?t[0]:t,!!t.length}}))};var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(e("../utils"))},{"../utils":"iSxC"}],YHvh:[function(e,t,r){"use strict";var n={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};n.localCName=n.generateIdentifier(),n.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},n.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},n.getDescription=function(e){var t=n.splitSections(e);return t&&t[0]},n.getMediaSections=function(e){var t=n.splitSections(e);return t.shift(),t},n.matchPrefix=function(e,t){return n.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},n.parseCandidate=function(e){for(var t,r={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},n=8;n<t.length;n+=2)switch(t[n]){case"raddr":r.relatedAddress=t[n+1];break;case"rport":r.relatedPort=parseInt(t[n+1],10);break;case"tcptype":r.tcpType=t[n+1];break;case"ufrag":r.ufrag=t[n+1],r.usernameFragment=t[n+1];break;default:r[t[n]]=t[n+1]}return r},n.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},n.parseIceOptions=function(e){return e.substr(14).split(" ")},n.parseRtpMap=function(e){var t=e.substr(9).split(" "),r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},n.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},n.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},n.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},n.parseFmtp=function(e){for(var t,r={},n=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<n.length;i++)r[(t=n[i].trim().split("="))[0].trim()]=t[1];return r},n.writeFmtp=function(e){var t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var n=[];Object.keys(e.parameters).forEach((function(t){n.push(e.parameters[t]?t+"="+e.parameters[t]:t)})),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},n.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},n.writeRtcpFb=function(e){var t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},n.parseSsrcMedia=function(e){var t=e.indexOf(" "),r={ssrc:parseInt(e.substr(7,t-7),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substr(t+1,n-t-1),r.value=e.substr(n+1)):r.attribute=e.substr(t+1),r},n.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},n.getMid=function(e){var t=n.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},n.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},n.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:n.matchPrefix(e+t,"a=fingerprint:").map(n.parseFingerprint)}},n.writeDtlsParameters=function(e,t){var r="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),r},n.getIceParameters=function(e,t){var r=n.splitLines(e);return{usernameFragment:(r=r.concat(n.splitLines(t))).filter((function(e){return 0===e.indexOf("a=ice-ufrag:")}))[0].substr(12),password:r.filter((function(e){return 0===e.indexOf("a=ice-pwd:")}))[0].substr(10)}},n.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},n.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=n.splitLines(e)[0].split(" "),i=3;i<r.length;i++){var o=r[i],a=n.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=n.parseRtpMap(a),c=n.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?n.parseFmtp(c[0]):{},s.rtcpFeedback=n.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(n.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return n.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(n.parseExtmap(e))})),t},n.writeRtpDescription=function(e,t){var r="";r+="m="+e+" ",r+=t.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){r+=n.writeRtpMap(e),r+=n.writeFmtp(e),r+=n.writeRtcpFb(e)}));var i=0;return t.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),r+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){r+=n.writeExtmap(e)})),r},n.parseRtpEncodingParameters=function(e){var t,r=[],i=n.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=n.matchPrefix(e,"a=ssrc:").map((function(e){return n.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,l=n.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));l.length>0&&l[0].length>1&&l[0][0]===c&&(t=l[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var n={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(n.rtx={ssrc:t}),r.push(n),o&&((n=JSON.parse(JSON.stringify(n))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},r.push(n))}})),0===r.length&&c&&r.push({ssrc:c});var u=n.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=u}))),r},n.parseRtcpParameters=function(e){var t={},r=n.matchPrefix(e,"a=ssrc:").map((function(e){return n.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(t.cname=r.value,t.ssrc=r.ssrc);var i=n.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=n.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},n.parseMsid=function(e){var t,r=n.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(t=r[0].substr(7).split(" "))[0],track:t[1]};var i=n.matchPrefix(e,"a=ssrc:").map((function(e){return n.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},n.parseSctpDescription=function(e){var t,r=n.parseMLine(e),i=n.matchPrefix(e,"a=max-message-size:");i.length>0&&(t=parseInt(i[0].substr(19),10)),isNaN(t)&&(t=65536);var o=n.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:r.fmt,maxMessageSize:t};if(n.matchPrefix(e,"a=sctpmap:").length>0){var a=n.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:t}}},n.writeSctpDescription=function(e,t){var r=[];return r="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&r.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),r.join("")},n.generateSessionId=function(){return Math.random().toString().substr(2,21)},n.writeSessionBoilerplate=function(e,t,r){var i=void 0!==t?t:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||n.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},n.writeMediaSection=function(e,t,r,i){var o=n.writeRtpDescription(e.kind,t);if(o+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",o+=e.direction?"a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?"a=sendrecv\r\n":e.rtpSender?"a=sendonly\r\n":e.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),o},n.getDirection=function(e,t){for(var r=n.splitLines(e),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return t?n.getDirection(t):"sendrecv"},n.getKind=function(e){return n.splitLines(e)[0].split(" ")[0].substr(2)},n.isRejected=function(e){return"0"===e.split(" ",2)[1]},n.parseMLine=function(e){var t=n.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},n.parseOLine=function(e){var t=n.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},n.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=n.splitLines(e),r=0;r<t.length;r++)if(t[r].length<2||"="!==t[r].charAt(1))return!1;return!0},"object"==typeof t&&(t.exports=n)},{}],NJ2u:[function(e,t,r){"use strict";var n=e("sdp");function i(e,t,r,i,o){var a=n.writeRtpDescription(e.kind,t);if(a+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":o||"active"),a+="a=mid:"+e.mid+"\r\n",a+=e.rtpSender&&e.rtpReceiver?"a=sendrecv\r\n":e.rtpSender?"a=sendonly\r\n":e.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var c="msid:"+(i?i.id:"-")+" "+s+"\r\n";a+="a="+c,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+c,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+c,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),a}function o(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},n=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].payloadType===e||t[r].preferredPayloadType===e)return t[r]},i=function(e,t,r,i){var o=n(e.parameters.apt,r),a=n(t.parameters.apt,i);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach((function(n){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(n.name.toLowerCase()===a.name.toLowerCase()&&n.clockRate===a.clockRate){if("rtx"===n.name.toLowerCase()&&n.parameters&&a.parameters.apt&&!i(n,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(n.numChannels,a.numChannels),r.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<n.rtcpFeedback.length;t++)if(n.rtcpFeedback[t].type===e.type&&n.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var n=0;n<t.headerExtensions.length;n++){var i=t.headerExtensions[n];if(e.uri===i.uri){r.headerExtensions.push(i);break}}})),r}function a(e,t,r){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(r)}function s(e,t){var r=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return r||e.addRemoteCandidate(t),!r}function c(e,t){var r=new Error(t);return r.name=e,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],r}t.exports=function(e,t){function r(t,r){r.addTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function l(t,r,n,i){var o=new Event("track");o.track=r,o.receiver=n,o.transceiver={receiver:n},o.streams=i,e.setTimeout((function(){t._dispatchEvent("track",o)}))}var u=function(r){var i=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){i[e]=o[e].bind(o)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",r=JSON.parse(JSON.stringify(r||{})),this.usingBundle="max-bundle"===r.bundlePolicy,"negotiate"===r.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(r.rtcpMuxPolicy||(r.rtcpMuxPolicy="require"),r.iceTransportPolicy){case"all":case"relay":break;default:r.iceTransportPolicy="all"}switch(r.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:r.bundlePolicy="balanced"}if(r.iceServers=function(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var n=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof n;return i&&(n=[n]),n=n.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||r?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(r=!0,!0)})),delete e.url,e.urls=i?n[0]:n,!!n.length}}))}(r.iceServers||[],t),this._iceGatherers=[],r.iceCandidatePoolSize)for(var a=r.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:r.iceServers,gatherPolicy:r.iceTransportPolicy}));else r.iceCandidatePoolSize=0;this._config=r,this.transceivers=[],this._sdpSessionId=n.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(u.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(u.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),u.prototype.onicecandidate=null,u.prototype.onaddstream=null,u.prototype.ontrack=null,u.prototype.onremovestream=null,u.prototype.onsignalingstatechange=null,u.prototype.oniceconnectionstatechange=null,u.prototype.onconnectionstatechange=null,u.prototype.onicegatheringstatechange=null,u.prototype.onnegotiationneeded=null,u.prototype.ondatachannel=null,u.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},u.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},u.prototype.getConfiguration=function(){return this._config},u.prototype.getLocalStreams=function(){return this.localStreams},u.prototype.getRemoteStreams=function(){return this.remoteStreams},u.prototype._createTransceiver=function(e,t){var r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var n=this._createIceAndDtlsTransports();r.iceTransport=n.iceTransport,r.dtlsTransport=n.dtlsTransport}return t||this.transceivers.push(r),r},u.prototype.addTrack=function(t,r){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var n;if(this.transceivers.find((function(e){return e.track===t})))throw c("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(n=this.transceivers[i]);return n||(n=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(r)&&this.localStreams.push(r),n.track=t,n.stream=r,n.rtpSender=new e.RTCRtpSender(t,n.dtlsTransport),n.rtpSender},u.prototype.addStream=function(e){var r=this;if(t>=15025)e.getTracks().forEach((function(t){r.addTrack(t,e)}));else{var n=e.clone();e.getTracks().forEach((function(e,t){var r=n.getTracks()[t];e.addEventListener("enabled",(function(e){r.enabled=e.enabled}))})),n.getTracks().forEach((function(e){r.addTrack(e,n)}))}},u.prototype.removeTrack=function(t){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var r=this.transceivers.find((function(e){return e.rtpSender===t}));if(!r)throw c("InvalidAccessError","Sender was not created by this connection.");var n=r.stream;r.rtpSender.stop(),r.rtpSender=null,r.track=null,r.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(n)&&this.localStreams.indexOf(n)>-1&&this.localStreams.splice(this.localStreams.indexOf(n),1),this._maybeFireNegotiationNeeded()},u.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var r=t.getSenders().find((function(t){return t.track===e}));r&&t.removeTrack(r)}))},u.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},u.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},u.prototype._createIceGatherer=function(t,r){var n=this;if(r&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var r=!e.candidate||0===Object.keys(e.candidate).length;i.state=r?"completed":"gathering",null!==n.transceivers[t].bufferedCandidateEvents&&n.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},u.prototype._gather=function(t,r){var i=this,o=this.transceivers[r].iceGatherer;if(!o.onlocalcandidate){var a=this.transceivers[r].bufferedCandidateEvents;this.transceivers[r].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[r].bufferCandidates),o.onlocalcandidate=function(e){if(!(i.usingBundle&&r>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:r};var s=e.candidate,c=!s||0===Object.keys(s).length;if(c)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),s.component=1,s.ufrag=o.getLocalParameters().usernameFragment;var l=n.writeCandidate(s);a.candidate=Object.assign(a.candidate,n.parseCandidate(l)),a.candidate.candidate=l,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var u=n.getMediaSections(i._localDescription.sdp);u[a.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",i._localDescription.sdp=n.getDescription(i._localDescription.sdp)+u.join("");var f=i.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),c||i._dispatchEvent("icecandidate",a),f&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout((function(){a.forEach((function(e){o.onlocalcandidate(e)}))}),0)}},u.prototype._createIceAndDtlsTransports=function(){var t=this,r=new e.RTCIceTransport(null);r.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var n=new e.RTCDtlsTransport(r);return n.ondtlsstatechange=function(){t._updateConnectionState()},n.onerror=function(){Object.defineProperty(n,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:r,dtlsTransport:n}},u.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var r=this.transceivers[e].iceTransport;r&&(delete r.onicestatechange,delete this.transceivers[e].iceTransport);var n=this.transceivers[e].dtlsTransport;n&&(delete n.ondtlsstatechange,delete n.onerror,delete this.transceivers[e].dtlsTransport)},u.prototype._transceive=function(e,r,i){var a=o(e.localCapabilities,e.remoteCapabilities);r&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:n.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),i&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),a.encodings=e.recvEncodingParameters.length?e.recvEncodingParameters:[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},u.prototype.setLocalDescription=function(e){var t,r,i=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(c("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,i.signalingState)||i._isClosed)return Promise.reject(c("InvalidStateError","Can not set local "+e.type+" in state "+i.signalingState));if("offer"===e.type)t=n.splitSections(e.sdp),r=t.shift(),t.forEach((function(e,t){var r=n.parseRtpParameters(e);i.transceivers[t].localCapabilities=r})),i.transceivers.forEach((function(e,t){i._gather(e.mid,t)}));else if("answer"===e.type){t=n.splitSections(i._remoteDescription.sdp),r=t.shift();var s=n.matchPrefix(r,"a=ice-lite").length>0;t.forEach((function(e,t){var a=i.transceivers[t],c=a.iceGatherer,l=a.iceTransport,u=a.dtlsTransport,f=a.localCapabilities,d=a.remoteCapabilities;if(!(n.isRejected(e)&&0===n.matchPrefix(e,"a=bundle-only").length||a.rejected)){var h=n.getIceParameters(e,r),p=n.getDtlsParameters(e,r);s&&(p.role="server"),i.usingBundle&&0!==t||(i._gather(a.mid,t),"new"===l.state&&l.start(c,h,s?"controlling":"controlled"),"new"===u.state&&u.start(p));var b=o(f,d);i._transceive(a,b.codecs.length>0,!1)}}))}return i._localDescription={type:e.type,sdp:e.sdp},i._updateSignalingState("offer"===e.type?"have-local-offer":"stable"),Promise.resolve()},u.prototype.setRemoteDescription=function(i){var u=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(c("TypeError",'Unsupported type "'+i.type+'"'));if(!a("setRemoteDescription",i.type,u.signalingState)||u._isClosed)return Promise.reject(c("InvalidStateError","Can not set remote "+i.type+" in state "+u.signalingState));var f={};u.remoteStreams.forEach((function(e){f[e.id]=e}));var d=[],h=n.splitSections(i.sdp),p=h.shift(),b=n.matchPrefix(p,"a=ice-lite").length>0,m=n.matchPrefix(p,"a=group:BUNDLE ").length>0;u.usingBundle=m;var g=n.matchPrefix(p,"a=ice-options:")[0];return u.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,h.forEach((function(a,c){var l=n.splitLines(a),h=n.getKind(a),g=n.isRejected(a)&&0===n.matchPrefix(a,"a=bundle-only").length,y=l[0].substr(2).split(" ")[2],v=n.getDirection(a,p),w=n.parseMsid(a),_=n.getMid(a)||n.generateIdentifier();if(g||"application"===h&&("DTLS/SCTP"===y||"UDP/DTLS/SCTP"===y))u.transceivers[c]={mid:_,kind:h,protocol:y,rejected:!0};else{var M,k,S,C,E,P,x,O,A;!g&&u.transceivers[c]&&u.transceivers[c].rejected&&(u.transceivers[c]=u._createTransceiver(h,!0));var T,R,I=n.parseRtpParameters(a);g||(T=n.getIceParameters(a,p),(R=n.getDtlsParameters(a,p)).role="client"),x=n.parseRtpEncodingParameters(a);var N=n.parseRtcpParameters(a),B=n.matchPrefix(a,"a=end-of-candidates",p).length>0,D=n.matchPrefix(a,"a=candidate:").map((function(e){return n.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===i.type||"answer"===i.type)&&!g&&m&&c>0&&u.transceivers[c]&&(u._disposeIceAndDtlsTransports(c),u.transceivers[c].iceGatherer=u.transceivers[0].iceGatherer,u.transceivers[c].iceTransport=u.transceivers[0].iceTransport,u.transceivers[c].dtlsTransport=u.transceivers[0].dtlsTransport,u.transceivers[c].rtpSender&&u.transceivers[c].rtpSender.setTransport(u.transceivers[0].dtlsTransport),u.transceivers[c].rtpReceiver&&u.transceivers[c].rtpReceiver.setTransport(u.transceivers[0].dtlsTransport)),"offer"!==i.type||g)"answer"!==i.type||g||(k=(M=u.transceivers[c]).iceGatherer,S=M.iceTransport,C=M.dtlsTransport,E=M.rtpReceiver,P=M.sendEncodingParameters,O=M.localCapabilities,u.transceivers[c].recvEncodingParameters=x,u.transceivers[c].remoteCapabilities=I,u.transceivers[c].rtcpParameters=N,D.length&&"new"===S.state&&(!b&&!B||m&&0!==c?D.forEach((function(e){s(M.iceTransport,e)})):S.setRemoteCandidates(D)),m&&0!==c||("new"===S.state&&S.start(k,T,"controlling"),"new"===C.state&&C.start(R)),!o(M.localCapabilities,M.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&M.sendEncodingParameters[0].rtx&&delete M.sendEncodingParameters[0].rtx,u._transceive(M,"sendrecv"===v||"recvonly"===v,"sendrecv"===v||"sendonly"===v),!E||"sendrecv"!==v&&"sendonly"!==v?delete M.rtpReceiver:(A=E.track,w?(f[w.stream]||(f[w.stream]=new e.MediaStream),r(A,f[w.stream]),d.push([A,E,f[w.stream]])):(f.default||(f.default=new e.MediaStream),r(A,f.default),d.push([A,E,f.default]))));else{(M=u.transceivers[c]||u._createTransceiver(h)).mid=_,M.iceGatherer||(M.iceGatherer=u._createIceGatherer(c,m)),D.length&&"new"===M.iceTransport.state&&(!B||m&&0!==c?D.forEach((function(e){s(M.iceTransport,e)})):M.iceTransport.setRemoteCandidates(D)),O=e.RTCRtpReceiver.getCapabilities(h),t<15019&&(O.codecs=O.codecs.filter((function(e){return"rtx"!==e.name}))),P=M.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var j,L=!1;"sendrecv"===v||"sendonly"===v?(L=!M.rtpReceiver,E=M.rtpReceiver||new e.RTCRtpReceiver(M.dtlsTransport,h),L&&(A=E.track,w&&"-"===w.stream||(w?(f[w.stream]||(f[w.stream]=new e.MediaStream,Object.defineProperty(f[w.stream],"id",{get:function(){return w.stream}})),Object.defineProperty(A,"id",{get:function(){return w.track}}),j=f[w.stream]):(f.default||(f.default=new e.MediaStream),j=f.default)),j&&(r(A,j),M.associatedRemoteMediaStreams.push(j)),d.push([A,E,j]))):M.rtpReceiver&&M.rtpReceiver.track&&(M.associatedRemoteMediaStreams.forEach((function(t){var r,n,i=t.getTracks().find((function(e){return e.id===M.rtpReceiver.track.id}));i&&((n=t).removeTrack(r=i),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:r})))})),M.associatedRemoteMediaStreams=[]),M.localCapabilities=O,M.remoteCapabilities=I,M.rtpReceiver=E,M.rtcpParameters=N,M.sendEncodingParameters=P,M.recvEncodingParameters=x,u._transceive(u.transceivers[c],!1,L)}}})),void 0===u._dtlsRole&&(u._dtlsRole="offer"===i.type?"active":"passive"),u._remoteDescription={type:i.type,sdp:i.sdp},u._updateSignalingState("offer"===i.type?"have-remote-offer":"stable"),Object.keys(f).forEach((function(t){var r=f[t];if(r.getTracks().length){if(-1===u.remoteStreams.indexOf(r)){u.remoteStreams.push(r);var n=new Event("addstream");n.stream=r,e.setTimeout((function(){u._dispatchEvent("addstream",n)}))}d.forEach((function(e){r.id===e[2].id&&l(u,e[0],e[1],[r])}))}})),d.forEach((function(e){e[2]||l(u,e[0],e[1],[])})),e.setTimeout((function(){u&&u.transceivers&&u.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},u.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},u.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},u.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},u.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var r=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",r)}},u.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var r=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",r)}},u.prototype.createOffer=function(){var r=this;if(r._isClosed)return Promise.reject(c("InvalidStateError","Can not call createOffer after close"));var o=r.transceivers.filter((function(e){return"audio"===e.kind})).length,a=r.transceivers.filter((function(e){return"video"===e.kind})).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(o=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(a=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(r.transceivers.forEach((function(e){"audio"===e.kind?--o<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)}));o>0||a>0;)o>0&&(r._createTransceiver("audio"),o--),a>0&&(r._createTransceiver("video"),a--);var l=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.transceivers.forEach((function(i,o){var a=i.track,s=i.kind,c=i.mid||n.generateIdentifier();i.mid=c,i.iceGatherer||(i.iceGatherer=r._createIceGatherer(o,r.usingBundle));var l=e.RTCRtpSender.getCapabilities(s);t<15019&&(l.codecs=l.codecs.filter((function(e){return"rtx"!==e.name}))),l.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),l.headerExtensions.forEach((function(e){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var u=i.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];a&&t>=15019&&"video"===s&&!u[0].rtx&&(u[0].rtx={ssrc:u[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,s)),i.localCapabilities=l,i.sendEncodingParameters=u})),"max-compat"!==r._config.bundlePolicy&&(l+="a=group:BUNDLE "+r.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),l+="a=ice-options:trickle\r\n",r.transceivers.forEach((function(e,t){l+=i(e,e.localCapabilities,"offer",e.stream,r._dtlsRole),l+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===r.iceGatheringState||0!==t&&r.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,l+="a="+n.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(l+="a=end-of-candidates\r\n"))}));var u=new e.RTCSessionDescription({type:"offer",sdp:l});return Promise.resolve(u)},u.prototype.createAnswer=function(){var r=this;if(r._isClosed)return Promise.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==r.signalingState&&"have-local-pranswer"!==r.signalingState)return Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+r.signalingState));var a=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.usingBundle&&(a+="a=group:BUNDLE "+r.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n";var s=n.getMediaSections(r._remoteDescription.sdp).length;r.transceivers.forEach((function(e,n){if(!(n+1>s)){if(e.rejected)return"application"===e.kind?a+="DTLS/SCTP"===e.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?a+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(a+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(a+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var c;e.stream&&("audio"===e.kind?c=e.stream.getAudioTracks()[0]:"video"===e.kind&&(c=e.stream.getVideoTracks()[0]),c&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var l=o(e.localCapabilities,e.remoteCapabilities);!l.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,a+=i(e,l,"answer",e.stream,r._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(a+="a=rtcp-rsize\r\n")}}));var l=new e.RTCSessionDescription({type:"answer",sdp:a});return Promise.resolve(l)},u.prototype.addIceCandidate=function(e){var t,r=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(i,o){if(!r._remoteDescription)return o(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var l=0;l<r.transceivers.length;l++)if(r.transceivers[l].mid===e.sdpMid){a=l;break}var u=r.transceivers[a];if(!u)return o(c("OperationError","Can not add ICE candidate"));if(u.rejected)return i();var f=Object.keys(e.candidate).length>0?n.parseCandidate(e.candidate):{};if("tcp"===f.protocol&&(0===f.port||9===f.port))return i();if(f.component&&1!==f.component)return i();if((0===a||a>0&&u.iceTransport!==r.transceivers[0].iceTransport)&&!s(u.iceTransport,f))return o(c("OperationError","Can not add ICE candidate"));var d=e.candidate.trim();0===d.indexOf("a=")&&(d=d.substr(2)),(t=n.getMediaSections(r._remoteDescription.sdp))[a]+="a="+(f.type?d:"end-of-candidates")+"\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+t.join("")}else for(var h=0;h<r.transceivers.length&&(r.transceivers[h].rejected||(r.transceivers[h].iceTransport.addRemoteCandidate({}),(t=n.getMediaSections(r._remoteDescription.sdp))[h]+="a=end-of-candidates\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+t.join(""),!r.usingBundle));h++);i()}))},u.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var r=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?r=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(r=e.rtpReceiver)})),!r)throw c("InvalidAccessError","Invalid selector.");return r.getStats()}var n=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&n.push(e[t].getStats())}))})),Promise.all(n).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var r=e[t];if(r&&r.prototype&&r.prototype.getStats){var n=r.prototype.getStats;r.prototype.getStats=function(){return n.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(r){e[r].type=function(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}(e[r]),t.set(r,e[r])})),t}))}}}));var f=["createOffer","createAnswer"];return f.forEach((function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(f=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),u}},{sdp:"YHvh"}],YdKx:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetUserMedia=function(e){var t=e&&e.navigator,r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return r(e).catch((function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}},{}],P3bV:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=function(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}},{}],XRic:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimPeerConnection=function(e){var t=n.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var r=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){r.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var a=(0,o.default)(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=(0,i.filterIceServers)(e.iceServers,t.version),n.log("ICE servers after filtering:",e.iceServers)),new a(e)},e.RTCPeerConnection.prototype=a.prototype},r.shimReplaceTrack=function(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)},Object.defineProperty(r,"shimGetUserMedia",{enumerable:!0,get:function(){return a.shimGetUserMedia}}),Object.defineProperty(r,"shimGetDisplayMedia",{enumerable:!0,get:function(){return s.shimGetDisplayMedia}});var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(e("../utils")),i=e("./filtericeservers"),o=function(e){return e&&e.__esModule?e:{default:e}}(e("rtcpeerconnection-shim")),a=e("./getusermedia"),s=e("./getdisplaymedia")},{"../utils":"iSxC","./filtericeservers":"NZ1C","rtcpeerconnection-shim":"NJ2u","./getusermedia":"YdKx","./getdisplaymedia":"P3bV"}],GzSv:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetUserMedia=function(e){var t=n.detectBrowser(e),r=e&&e.navigator,o=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,i){n.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,i)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){var a=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},s=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(e){return"object"===i(e)&&"object"===i(e.audio)&&(e=JSON.parse(JSON.stringify(e)),a(e.audio,"autoGainControl","mozAutoGainControl"),a(e.audio,"noiseSuppression","mozNoiseSuppression")),s(e)},o&&o.prototype.getSettings){var c=o.prototype.getSettings;o.prototype.getSettings=function(){var e=c.apply(this,arguments);return a(e,"mozAutoGainControl","autoGainControl"),a(e,"mozNoiseSuppression","noiseSuppression"),e}}if(o&&o.prototype.applyConstraints){var l=o.prototype.applyConstraints;o.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===i(e)&&(e=JSON.parse(JSON.stringify(e)),a(e,"autoGainControl","mozAutoGainControl"),a(e,"noiseSuppression","mozNoiseSuppression")),l.apply(this,[e])}}}};var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(e("../utils"));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},{"../utils":"iSxC"}],UuGU:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){var n=new DOMException("getDisplayMedia without video constraints is undefined");return n.name="NotFoundError",n.code=8,Promise.reject(n)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}},{}],Fzdr:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimOnTrack=function(e){"object"===a(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},r.shimPeerConnection=function(e){var t=n.detectBrowser(e);if("object"===a(e)&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){if(!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t],n=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=n[t]})),t.version<68){var r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}var i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var[e,r,n]=arguments;return o.apply(this,[e||null]).then((function(e){if(t.version<53&&!r)try{e.forEach((function(e){e.type=i[e.type]||e.type}))}catch(n){if("TypeError"!==n.name)throw n;e.forEach((function(t,r){e.set(r,Object.assign({},t,{type:i[t.type]||t.type}))}))}return e})).then(r,n)}}},r.shimSenderGetStats=function(e){if("object"===a(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},r.shimReceiverGetStats=function(e){if("object"===a(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r}),n.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},r.shimRemoveStream=function(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;n.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(r){r.track&&e.getTracks().includes(r.track)&&t.removeTrack(r)}))})},r.shimRTCDataChannel=function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)},r.shimAddTransceiver=function(e){if("object"===a(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],r=e&&"sendEncodings"in e;r&&e.sendEncodings.forEach((function(e){if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var n=t.apply(this,arguments);if(r){var{sender:i}=n,o=i.getParameters();"encodings"in o||(o.encodings=e.sendEncodings,this.setParametersPromises.push(i.setParameters(o).catch((function(){}))))}return n})}},r.shimCreateOffer=function(e){if("object"===a(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,r=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(r,e)})).finally((function(){r.setParametersPromises=[]})):t.apply(this,arguments)}}},r.shimCreateAnswer=function(e){if("object"===a(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,r=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(r,e)})).finally((function(){r.setParametersPromises=[]})):t.apply(this,arguments)}}},Object.defineProperty(r,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}}),Object.defineProperty(r,"shimGetDisplayMedia",{enumerable:!0,get:function(){return o.shimGetDisplayMedia}});var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(e("../utils")),i=e("./getusermedia"),o=e("./getdisplaymedia");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},{"../utils":"iSxC","./getusermedia":"GzSv","./getdisplaymedia":"UuGU"}],t1lL:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimLocalStreamsAPI=function(e){if("object"===i(e)&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(n){return t.call(r,n,e)})),e.getVideoTracks().forEach((function(n){return t.call(r,n,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){var r=arguments[1];return r&&(this._localStreams?this._localStreams.includes(r)||this._localStreams.push(r):this._localStreams=[r]),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(e);if(-1!==r){this._localStreams.splice(r,1);var n=e.getTracks();this.getSenders().forEach((function(e){n.includes(e.track)&&t.removeTrack(e)}))}})}},r.shimRemoteStreamsAPI=function(e){if("object"===i(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var r=new Event("addstream");r.stream=e,t.dispatchEvent(r)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}}))}),t.apply(e,arguments)}}},r.shimCallbacksAPI=function(e){if("object"===i(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,o=t.setLocalDescription,a=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i};var c=function(e,t,r){var n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=c,t.setRemoteDescription=c=function(e,t,r){var n=a.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=c=function(e,t,r){var n=s.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n}}},r.shimGetUserMedia=function(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var r=t.mediaDevices,n=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=function(e){return n(o(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}).bind(t))},r.shimConstraints=o,r.shimRTCIceServerUrls=function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){for(var i=[],o=0;o<e.iceServers.length;o++){var a=e.iceServers[o];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(n.deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,i.push(a)):i.push(e.iceServers[o])}e.iceServers=i}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},r.shimTrackEventTransceiver=function(e){"object"===i(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},r.shimCreateOfferLegacy=function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveAudio||r||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var n=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video")}return t.apply(this,arguments)}};var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(e("../utils"));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return e&&void 0!==e.video?Object.assign({},e,{video:n.compactObject(e.video)}):e}},{"../utils":"iSxC"}],GOQK:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimRTCIceCandidate=function(e){if(e.RTCIceCandidate&&(!e.RTCIceCandidate||!("foundation"in e.RTCIceCandidate.prototype))){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===function(e){return("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(e)&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var r=new t(e),i=n.default.parseCandidate(e.candidate),o=Object.assign(r,i);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,i.wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}},r.shimMaxMessageSize=function(e){if(e.RTCPeerConnection){var t=i.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){var{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp)return!1;var t=n.default.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=n.default.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){var i,o=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var r=parseInt(t[1],10);return r!=r?-1:r}(arguments[0]),a=(l=o,u=65536,"firefox"===t.browser&&(u=t.version<57?-1===l?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),u),s=function(e,r){var i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);var o=n.default.matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?i=parseInt(o[0].substr(19),10):"firefox"===t.browser&&-1!==r&&(i=2147483637),i}(arguments[0],o);i=0===a&&0===s?Number.POSITIVE_INFINITY:0===a||0===s?Math.max(a,s):Math.min(a,s);var c={};Object.defineProperty(c,"maxMessageSize",{get:function(){return i}}),this._sctp=c}var l,u;return r.apply(this,arguments)}}},r.shimSendThrowTypeError=function(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return r(e,this),e},i.wrapPeerConnectionEvent(e,"datachannel",(function(e){return r(e.channel,e.target),e}))}function r(e,t){var r=e.send;e.send=function(){var n=arguments[0],i=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}},r.shimConnectionState=function(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}}))}},r.removeAllowExtmapMixed=function(e){if(e.RTCPeerConnection){var t=i.detectBrowser(e);if(!("chrome"===t.browser&&t.version>=71)){var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n")),r.apply(this,arguments)}}}};var n=function(e){return e&&e.__esModule?e:{default:e}}(e("sdp")),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(e("./utils"))},{sdp:"YHvh","./utils":"iSxC"}],KtlG:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.adapterFactory=function(){var{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},r=n.log,l=n.detectBrowser(e),u={browserDetails:l,commonShim:c,extractVersion:n.extractVersion,disableLog:n.disableLog,disableWarnings:n.disableWarnings};switch(l.browser){case"chrome":if(!i||!i.shimPeerConnection||!t.shimChrome)return r("Chrome shim is not included in this adapter release."),u;r("adapter.js shimming chrome."),u.browserShim=i,i.shimGetUserMedia(e),i.shimMediaStream(e),i.shimPeerConnection(e),i.shimOnTrack(e),i.shimAddTrackRemoveTrack(e),i.shimGetSendersWithDtmf(e),i.shimGetStats(e),i.shimSenderReceiverGetStats(e),i.fixNegotiationNeeded(e),c.shimRTCIceCandidate(e),c.shimConnectionState(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e),c.removeAllowExtmapMixed(e);break;case"firefox":if(!a||!a.shimPeerConnection||!t.shimFirefox)return r("Firefox shim is not included in this adapter release."),u;r("adapter.js shimming firefox."),u.browserShim=a,a.shimGetUserMedia(e),a.shimPeerConnection(e),a.shimOnTrack(e),a.shimRemoveStream(e),a.shimSenderGetStats(e),a.shimReceiverGetStats(e),a.shimRTCDataChannel(e),a.shimAddTransceiver(e),a.shimCreateOffer(e),a.shimCreateAnswer(e),c.shimRTCIceCandidate(e),c.shimConnectionState(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e);break;case"edge":if(!o||!o.shimPeerConnection||!t.shimEdge)return r("MS edge shim is not included in this adapter release."),u;r("adapter.js shimming edge."),u.browserShim=o,o.shimGetUserMedia(e),o.shimGetDisplayMedia(e),o.shimPeerConnection(e),o.shimReplaceTrack(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e);break;case"safari":if(!s||!t.shimSafari)return r("Safari shim is not included in this adapter release."),u;r("adapter.js shimming safari."),u.browserShim=s,s.shimRTCIceServerUrls(e),s.shimCreateOfferLegacy(e),s.shimCallbacksAPI(e),s.shimLocalStreamsAPI(e),s.shimRemoteStreamsAPI(e),s.shimTrackEventTransceiver(e),s.shimGetUserMedia(e),c.shimRTCIceCandidate(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e),c.removeAllowExtmapMixed(e);break;default:r("Unsupported browser!")}return u};var n=u(e("./utils")),i=u(e("./chrome/chrome_shim")),o=u(e("./edge/edge_shim")),a=u(e("./firefox/firefox_shim")),s=u(e("./safari/safari_shim")),c=u(e("./common_shim"));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}},{"./utils":"iSxC","./chrome/chrome_shim":"uI5X","./edge/edge_shim":"XRic","./firefox/firefox_shim":"Fzdr","./safari/safari_shim":"t1lL","./common_shim":"GOQK"}],tI1X:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(0,e("./adapter_factory.js").adapterFactory)({window});r.default=n},{"./adapter_factory.js":"KtlG"}],sXtV:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var i=n(e("webrtc-adapter"));r.webRTCAdapter=i.default},{"webrtc-adapter":"tI1X"}],I31f:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./adapter");r.Supports=new(function(){function e(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return e.prototype.isWebRTCSupported=function(){return"undefined"!=typeof RTCPeerConnection},e.prototype.isBrowserSupported=function(){var e=this.getBrowser(),t=this.getVersion();return!!this.supportedBrowsers.includes(e)&&("chrome"===e?t>=this.minChromeVersion:"firefox"===e?t>=this.minFirefoxVersion:"safari"===e&&!this.isIOS&&t>=this.minSafariVersion)},e.prototype.getBrowser=function(){return n.webRTCAdapter.browserDetails.browser},e.prototype.getVersion=function(){return n.webRTCAdapter.browserDetails.version||0},e.prototype.isUnifiedPlanSupported=function(){var e,t=this.getBrowser(),r=n.webRTCAdapter.browserDetails.version||0;if("chrome"===t&&r<72)return!1;if("firefox"===t&&r>=59)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var i=!1;try{(e=new RTCPeerConnection).addTransceiver("audio"),i=!0}catch(o){}finally{e&&e.close()}return i},e.prototype.toString=function(){return"Supports: \n    browser:"+this.getBrowser()+" \n    version:"+this.getVersion()+" \n    isIOS:"+this.isIOS+" \n    isWebRTCSupported:"+this.isWebRTCSupported()+" \n    isBrowserSupported:"+this.isBrowserSupported()+" \n    isUnifiedPlanSupported:"+this.isUnifiedPlanSupported()},e}())},{"./adapter":"sXtV"}],BHXf:[function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(r,"__esModule",{value:!0});var i=n(e("peerjs-js-binarypack")),o=e("./supports"),a={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};r.util=new(function(){function e(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=a,this.browser=o.Supports.getBrowser(),this.browserVersion=o.Supports.getVersion(),this.supports=function(){var e,t={browser:o.Supports.isBrowserSupported(),webRTC:o.Supports.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;try{e=new RTCPeerConnection(a),t.audioVideo=!0;var r=void 0;try{r=e.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!o.Supports.isIOS}catch(n){}}catch(n){}finally{r&&r.close()}}catch(n){}finally{e&&e.close()}return t}(),this.pack=i.pack,this.unpack=i.unpack,this._dataCount=1}return e.prototype.noop=function(){},e.prototype.validateId=function(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)},e.prototype.chunk=function(e){for(var t=[],n=e.size,i=Math.ceil(n/r.util.chunkedMTU),o=0,a=0;a<n;){var s=Math.min(n,a+r.util.chunkedMTU),c=e.slice(a,s);t.push({__peerData:this._dataCount,n:o,data:c,total:i}),a=s,o++}return this._dataCount++,t},e.prototype.blobToArrayBuffer=function(e,t){var r=new FileReader;return r.onload=function(e){e.target&&t(e.target.result)},r.readAsArrayBuffer(e),r},e.prototype.binaryStringToArrayBuffer=function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=255&e.charCodeAt(r);return t.buffer},e.prototype.randomToken=function(){return Math.random().toString(36).substr(2)},e.prototype.isSecure=function(){return"https:"===location.protocol},e}())},{"peerjs-js-binarypack":"kdPp","./supports":"I31f"}],JJlS:[function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,n,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new a(r,n||e,o),c=i?i+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function c(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),l.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},l.prototype.listeners=function(e){var t=this._events[i?i+e:e];if(!t)return[];if(t.fn)return[t.fn];for(var r=0,n=t.length,o=new Array(n);r<n;r++)o[r]=t[r].fn;return o},l.prototype.listenerCount=function(e){var t=this._events[i?i+e:e];return t?t.fn?1:t.length:0},l.prototype.emit=function(e,t,r,n,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],f=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),f){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,n),!0;case 5:return u.fn.call(u.context,t,r,n,o),!0;case 6:return u.fn.call(u.context,t,r,n,o,a),!0}for(l=1,c=new Array(f-1);l<f;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var d,h=u.length;for(l=0;l<h;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),f){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,n);break;default:if(!c)for(d=1,c=new Array(f-1);d<f;d++)c[d-1]=arguments[d];u[l].fn.apply(u[l].context,c)}}return!0},l.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},l.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},l.prototype.removeListener=function(e,t,r,n){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return c(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||n&&!a.once||r&&a.context!==r||c(this,o);else{for(var s=0,l=[],u=a.length;s<u;s++)(a[s].fn!==t||n&&!a[s].once||r&&a[s].context!==r)&&l.push(a[s]);l.length?this._events[o]=1===l.length?l[0]:l:c(this,o)}return this},l.prototype.removeAllListeners=function(e){var t;return e?this._events[t=i?i+e:e]&&c(this,t):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,void 0!==t&&(t.exports=l)},{}],WOs9:[function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(r,"__esModule",{value:!0});var o,a="PeerJS: ";!function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"}(o=r.LogLevel||(r.LogLevel={}));var s=function(){function e(){this._logLevel=o.Disabled}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){this._logLevel=e},enumerable:!0,configurable:!0}),e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logLevel>=o.All&&this._print.apply(this,i([o.All],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logLevel>=o.Warnings&&this._print.apply(this,i([o.Warnings],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logLevel>=o.Errors&&this._print.apply(this,i([o.Errors],e))},e.prototype.setLogFunction=function(e){this._print=e},e.prototype._print=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=i([a],t);for(var s in n)n[s]instanceof Error&&(n[s]="("+n[s].name+") "+n[s].message);e>=o.All?console.log.apply(console,i(n)):e>=o.Warnings?console.warn.apply(console,i(["WARNING"],n)):e>=o.Errors&&console.error.apply(console,i(["ERROR"],n))},e}();r.default=new s},{}],ZRYf:[function(e,t,r){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),(n=r.ConnectionEventType||(r.ConnectionEventType={})).Open="open",n.Stream="stream",n.Data="data",n.Close="close",n.Error="error",n.IceStateChanged="iceStateChanged",function(e){e.Data="data",e.Media="media"}(r.ConnectionType||(r.ConnectionType={})),function(e){e.Open="open",e.Close="close",e.Connection="connection",e.Call="call",e.Disconnected="disconnected",e.Error="error"}(r.PeerEventType||(r.PeerEventType={})),function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"}(r.PeerErrorType||(r.PeerErrorType={})),function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json"}(r.SerializationType||(r.SerializationType={})),function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"}(r.SocketEventType||(r.SocketEventType={})),function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"}(r.ServerMessageType||(r.ServerMessageType={}))},{}],wJlv:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(u){i={error:u}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var c=e("eventemitter3"),l=s(e("./logger")),u=e("./enums"),f=function(e){function t(t,r,n,i,o,a){void 0===a&&(a=5e3);var s=e.call(this)||this;return s.pingInterval=a,s._disconnected=!0,s._messagesQueue=[],s._baseUrl=(t?"wss://":"ws://")+r+":"+n+i+"peerjs?key="+o,s}return n(t,e),t.prototype.start=function(e,t){var r=this;this._id=e,!this._socket&&this._disconnected&&(this._socket=new WebSocket(this._baseUrl+"&id="+e+"&token="+t),this._disconnected=!1,this._socket.onmessage=function(e){var t;try{t=JSON.parse(e.data),l.default.log("Server message received:",t)}catch(a){return void l.default.log("Invalid server message",e.data)}r.emit(u.SocketEventType.Message,t)},this._socket.onclose=function(e){r._disconnected||(l.default.log("Socket closed.",e),r._cleanup(),r._disconnected=!0,r.emit(u.SocketEventType.Disconnected))},this._socket.onopen=function(){r._disconnected||(r._sendQueuedMessages(),l.default.log("Socket open"),r._scheduleHeartbeat())})},t.prototype._scheduleHeartbeat=function(){var e=this;this._wsPingTimer=setTimeout((function(){e._sendHeartbeat()}),this.pingInterval)},t.prototype._sendHeartbeat=function(){if(this._wsOpen()){var e=JSON.stringify({type:u.ServerMessageType.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}else l.default.log("Cannot send heartbeat, because socket closed")},t.prototype._wsOpen=function(){return!!this._socket&&1===this._socket.readyState},t.prototype._sendQueuedMessages=function(){var e,t,r=o(this._messagesQueue);this._messagesQueue=[];try{for(var n=a(r),i=n.next();!i.done;i=n.next())this.send(i.value)}catch(f){e={error:f}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.send=function(e){if(!this._disconnected)if(this._id)if(e.type){if(this._wsOpen()){var t=JSON.stringify(e);this._socket.send(t)}}else this.emit(u.SocketEventType.Error,"Invalid message");else this._messagesQueue.push(e)},t.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},t.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},t}(c.EventEmitter);r.Socket=f},{eventemitter3:"JJlS","./logger":"WOs9","./enums":"ZRYf"}],HCdX:[function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var s=e("./util"),c=a(e("./logger")),l=e("./enums"),u=function(){function e(e){this.connection=e}return e.prototype.startConnection=function(e){var t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type===l.ConnectionType.Media&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type===l.ConnectionType.Data){var r=this.connection,n=t.createDataChannel(r.label,{ordered:!!e.reliable});r.initialize(n)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)},e.prototype._startPeerConnection=function(){c.default.log("Creating RTCPeerConnection.");var e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e},e.prototype._setupListeners=function(e){var t=this,r=this.connection.peer,n=this.connection.connectionId,i=this.connection.type,o=this.connection.provider;c.default.log("Listening for ICE candidates."),e.onicecandidate=function(e){e.candidate&&e.candidate.candidate&&(c.default.log("Received ICE candidates for "+r+":",e.candidate),o.socket.send({type:l.ServerMessageType.Candidate,payload:{candidate:e.candidate,type:i,connectionId:n},dst:r}))},e.oniceconnectionstatechange=function(){switch(e.iceConnectionState){case"failed":c.default.log("iceConnectionState is failed, closing connections to "+r),t.connection.emit(l.ConnectionEventType.Error,new Error("Negotiation of connection to "+r+" failed.")),t.connection.close();break;case"closed":c.default.log("iceConnectionState is closed, closing connections to "+r),t.connection.emit(l.ConnectionEventType.Error,new Error("Connection to "+r+" closed.")),t.connection.close();break;case"disconnected":c.default.log("iceConnectionState changed to disconnected on the connection with "+r);break;case"completed":e.onicecandidate=s.util.noop}t.connection.emit(l.ConnectionEventType.IceStateChanged,e.iceConnectionState)},c.default.log("Listening for data channel"),e.ondatachannel=function(e){c.default.log("Received data channel");var t=e.channel;o.getConnection(r,n).initialize(t)},c.default.log("Listening for remote stream"),e.ontrack=function(e){c.default.log("Received remote stream");var i=e.streams[0],a=o.getConnection(r,n);a.type===l.ConnectionType.Media&&t._addStreamToMediaConnection(i,a)}},e.prototype.cleanup=function(){c.default.log("Cleaning up PeerConnection to "+this.connection.peer);var e=this.connection.peerConnection;if(e){this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=function(){};var t=!1;if(this.connection.type===l.ConnectionType.Data){var r=this.connection.dataChannel;r&&(t=!!r.readyState&&"closed"!==r.readyState)}("closed"!==e.signalingState||t)&&e.close()}},e.prototype._makeOffer=function(){return i(this,void 0,Promise,(function(){var e,t,r,i,a,u,f;return o(this,(function(o){switch(o.label){case 0:e=this.connection.peerConnection,t=this.connection.provider,o.label=1;case 1:return o.trys.push([1,7,,8]),[4,e.createOffer(this.connection.options.constraints)];case 2:r=o.sent(),c.default.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,e.setLocalDescription(r)];case 4:return o.sent(),c.default.log("Set localDescription:",r,"for:"+this.connection.peer),i={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:s.util.browser},this.connection.type===l.ConnectionType.Data&&(a=this.connection,i=n(n({},i),{label:a.label,reliable:a.reliable,serialization:a.serialization})),t.socket.send({type:l.ServerMessageType.Offer,payload:i,dst:this.connection.peer}),[3,6];case 5:return"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=(u=o.sent())&&(t.emitError(l.PeerErrorType.WebRTC,u),c.default.log("Failed to setLocalDescription, ",u)),[3,6];case 6:return[3,8];case 7:return f=o.sent(),t.emitError(l.PeerErrorType.WebRTC,f),c.default.log("Failed to createOffer, ",f),[3,8];case 8:return[2]}}))}))},e.prototype._makeAnswer=function(){return i(this,void 0,Promise,(function(){var e,t,r,n,i;return o(this,(function(o){switch(o.label){case 0:e=this.connection.peerConnection,t=this.connection.provider,o.label=1;case 1:return o.trys.push([1,7,,8]),[4,e.createAnswer()];case 2:r=o.sent(),c.default.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,e.setLocalDescription(r)];case 4:return o.sent(),c.default.log("Set localDescription:",r,"for:"+this.connection.peer),t.socket.send({type:l.ServerMessageType.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,browser:s.util.browser},dst:this.connection.peer}),[3,6];case 5:return n=o.sent(),t.emitError(l.PeerErrorType.WebRTC,n),c.default.log("Failed to setLocalDescription, ",n),[3,6];case 6:return[3,8];case 7:return i=o.sent(),t.emitError(l.PeerErrorType.WebRTC,i),c.default.log("Failed to create answer, ",i),[3,8];case 8:return[2]}}))}))},e.prototype.handleSDP=function(e,t){return i(this,void 0,Promise,(function(){var r,n,i,a;return o(this,(function(o){switch(o.label){case 0:t=new RTCSessionDescription(t),r=this.connection.peerConnection,n=this.connection.provider,c.default.log("Setting remote description",t),i=this,o.label=1;case 1:return o.trys.push([1,5,,6]),[4,r.setRemoteDescription(t)];case 2:return o.sent(),c.default.log("Set remoteDescription:"+e+" for:"+this.connection.peer),"OFFER"!==e?[3,4]:[4,i._makeAnswer()];case 3:o.sent(),o.label=4;case 4:return[3,6];case 5:return a=o.sent(),n.emitError(l.PeerErrorType.WebRTC,a),c.default.log("Failed to setRemoteDescription, ",a),[3,6];case 6:return[2]}}))}))},e.prototype.handleCandidate=function(e){return i(this,void 0,Promise,(function(){var t,r,n,i,a,s;return o(this,(function(o){switch(o.label){case 0:c.default.log("handleCandidate:",e),t=e.candidate,r=e.sdpMLineIndex,n=e.sdpMid,i=this.connection.peerConnection,a=this.connection.provider,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,i.addIceCandidate(new RTCIceCandidate({sdpMid:n,sdpMLineIndex:r,candidate:t}))];case 2:return o.sent(),c.default.log("Added ICE candidate for:"+this.connection.peer),[3,4];case 3:return s=o.sent(),a.emitError(l.PeerErrorType.WebRTC,s),c.default.log("Failed to handleCandidate, ",s),[3,4];case 4:return[2]}}))}))},e.prototype._addTracksToConnection=function(e,t){if(c.default.log("add tracks from stream "+e.id+" to peer connection"),!t.addTrack)return c.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach((function(r){t.addTrack(r,e)}))},e.prototype._addStreamToMediaConnection=function(e,t){c.default.log("add stream "+e.id+" to media connection "+t.connectionId),t.addStream(e)},e}();r.Negotiator=u},{"./util":"BHXf","./logger":"WOs9","./enums":"ZRYf"}],tQFK:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){function t(t,r,n){var i=e.call(this)||this;return i.peer=t,i.provider=r,i.options=n,i._open=!1,i.metadata=n.metadata,i}return n(t,e),Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!0,configurable:!0}),t}(e("eventemitter3").EventEmitter);r.BaseConnection=i},{eventemitter3:"JJlS"}],dbHP:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var s=e("./util"),c=a(e("./logger")),l=e("./negotiator"),u=e("./enums"),f=function(e){function t(r,n,i){var o=e.call(this,r,n,i)||this;return o._localStream=o.options._stream,o.connectionId=o.options.connectionId||t.ID_PREFIX+s.util.randomToken(),o._negotiator=new l.Negotiator(o),o._localStream&&o._negotiator.startConnection({_stream:o._localStream,originator:!0}),o}return n(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return u.ConnectionType.Media},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localStream",{get:function(){return this._localStream},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!0,configurable:!0}),t.prototype.addStream=function(t){c.default.log("Receiving stream",t),this._remoteStream=t,e.prototype.emit.call(this,u.ConnectionEventType.Stream,t)},t.prototype.handleMessage=function(e){var t=e.type,r=e.payload;switch(e.type){case u.ServerMessageType.Answer:this._negotiator.handleSDP(t,r.sdp),this._open=!0;break;case u.ServerMessageType.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:c.default.warn("Unrecognized message type:"+t+" from peer:"+this.peer)}},t.prototype.answer=function(e,t){var r,n;if(void 0===t&&(t={}),this._localStream)c.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(i(i({},this.options._payload),{_stream:e}));var a=this.provider._getMessages(this.connectionId);try{for(var s=o(a),l=s.next();!l.done;l=s.next())this.handleMessage(l.value)}catch(u){r={error:u}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}this._open=!0}},t.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,e.prototype.emit.call(this,u.ConnectionEventType.Close))},t.ID_PREFIX="mc_",t}(e("./baseconnection").BaseConnection);r.MediaConnection=f},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK"}],GGp6:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var o=e("eventemitter3"),a=i(e("./logger")),s=function(e){function t(){var t=e.call(this)||this;return t.fileReader=new FileReader,t._queue=[],t._processing=!1,t.fileReader.onload=function(e){t._processing=!1,e.target&&t.emit("done",e.target.result),t.doNextTask()},t.fileReader.onerror=function(e){a.default.error("EncodingQueue error:",e),t._processing=!1,t.destroy(),t.emit("error",e)},t}return n(t,e),Object.defineProperty(t.prototype,"queue",{get:function(){return this._queue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!0,configurable:!0}),t.prototype.enque=function(e){this.queue.push(e),this.processing||this.doNextTask()},t.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},t.prototype.doNextTask=function(){0!==this.size&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},t}(o.EventEmitter);r.EncodingQueue=s},{eventemitter3:"JJlS","./logger":"WOs9"}],GBTQ:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var a=e("./util"),s=o(e("./logger")),c=e("./negotiator"),l=e("./enums"),u=e("./baseconnection"),f=e("./encodingQueue"),d=function(e){function t(r,n,i){var o=e.call(this,r,n,i)||this;return o.stringify=JSON.stringify,o.parse=JSON.parse,o._buffer=[],o._bufferSize=0,o._buffering=!1,o._chunkedData={},o._encodingQueue=new f.EncodingQueue,o.connectionId=o.options.connectionId||t.ID_PREFIX+a.util.randomToken(),o.label=o.options.label||o.connectionId,o.serialization=o.options.serialization||l.SerializationType.Binary,o.reliable=!!o.options.reliable,o._encodingQueue.on("done",(function(e){o._bufferedSend(e)})),o._encodingQueue.on("error",(function(){s.default.error("DC#"+o.connectionId+": Error occured in encoding from blob to arraybuffer, close DC"),o.close()})),o._negotiator=new c.Negotiator(o),o._negotiator.startConnection(o.options._payload||{originator:!0}),o}return n(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return l.ConnectionType.Data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!0,configurable:!0}),t.prototype.initialize=function(e){this._dc=e,this._configureDataChannel()},t.prototype._configureDataChannel=function(){var e=this;a.util.supports.binaryBlob&&!a.util.supports.reliable||(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){s.default.log("DC#"+e.connectionId+" dc connection success"),e._open=!0,e.emit(l.ConnectionEventType.Open)},this.dataChannel.onmessage=function(t){s.default.log("DC#"+e.connectionId+" dc onmessage:",t.data),e._handleDataMessage(t)},this.dataChannel.onclose=function(){s.default.log("DC#"+e.connectionId+" dc closed for:",e.peer),e.close()}},t.prototype._handleDataMessage=function(t){var r=this,n=t.data,i=n.constructor,o=n;if(this.serialization===l.SerializationType.Binary||this.serialization===l.SerializationType.BinaryUTF8){if(i===Blob)return void a.util.blobToArrayBuffer(n,(function(e){var t=a.util.unpack(e);r.emit(l.ConnectionEventType.Data,t)}));if(i===ArrayBuffer)o=a.util.unpack(n);else if(i===String){var s=a.util.binaryStringToArrayBuffer(n);o=a.util.unpack(s)}}else this.serialization===l.SerializationType.JSON&&(o=this.parse(n));o.__peerData?this._handleChunk(o):e.prototype.emit.call(this,l.ConnectionEventType.Data,o)},t.prototype._handleChunk=function(e){var t=e.__peerData,r=this._chunkedData[t]||{data:[],count:0,total:e.total};if(r.data[e.n]=e.data,r.count++,this._chunkedData[t]=r,r.total===r.count){delete this._chunkedData[t];var n=new Blob(r.data);this._handleDataMessage({data:n})}},t.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,e.prototype.emit.call(this,l.ConnectionEventType.Close))},t.prototype.send=function(t,r){if(this.open)if(this.serialization===l.SerializationType.JSON)this._bufferedSend(this.stringify(t));else if(this.serialization===l.SerializationType.Binary||this.serialization===l.SerializationType.BinaryUTF8){var n=a.util.pack(t);if(!r&&n.size>a.util.chunkedMTU)return void this._sendChunks(n);a.util.supports.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(t);else e.prototype.emit.call(this,l.ConnectionEventType.Error,new Error("Connection is not open. You should listen for the `open` event before sending messages."))},t.prototype._bufferedSend=function(e){!this._buffering&&this._trySend(e)||(this._buffer.push(e),this._bufferSize=this._buffer.length)},t.prototype._trySend=function(r){var n=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>t.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout((function(){n._buffering=!1,n._tryBuffer()}),50),!1;try{this.dataChannel.send(r)}catch(e){return s.default.error("DC#:"+this.connectionId+" Error when sending:",e),this._buffering=!0,this.close(),!1}return!0},t.prototype._tryBuffer=function(){this.open&&0!==this._buffer.length&&this._trySend(this._buffer[0])&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())},t.prototype._sendChunks=function(e){var t,r,n=a.util.chunk(e);s.default.log("DC#"+this.connectionId+" Try to send "+n.length+" chunks...");try{for(var o=i(n),c=o.next();!c.done;c=o.next())this.send(c.value,!0)}catch(l){t={error:l}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},t.prototype.handleMessage=function(e){var t=e.payload;switch(e.type){case l.ServerMessageType.Answer:this._negotiator.handleSDP(e.type,t.sdp);break;case l.ServerMessageType.Candidate:this._negotiator.handleCandidate(t.candidate);break;default:s.default.warn("Unrecognized message type:",e.type,"from peer:",this.peer)}},t.ID_PREFIX="dc_",t.MAX_BUFFERED_AMOUNT=8388608,t}(u.BaseConnection);r.DataConnection=d},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK","./encodingQueue":"GGp6"}],in7L:[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var a=e("./util"),s=o(e("./logger")),c=function(){function e(e){this._options=e}return e.prototype._buildUrl=function(e){return(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e+"?ts="+(new Date).getTime()+Math.random()},e.prototype.retrieveId=function(){return n(this,void 0,Promise,(function(){var e,t,r,n;return i(this,(function(i){switch(i.label){case 0:e=this._buildUrl("id"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fetch(e)];case 2:if(200!==(t=i.sent()).status)throw new Error("Error. Status:"+t.status);return[2,t.text()];case 3:throw r=i.sent(),s.default.error("Error retrieving ID",r),n="","/"===this._options.path&&this._options.host!==a.util.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n);case 4:return[2]}}))}))},e.prototype.listAllPeers=function(){return n(this,void 0,Promise,(function(){var e,t,r;return i(this,(function(n){switch(n.label){case 0:e=this._buildUrl("peers"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,fetch(e)];case 2:if(200!==(t=n.sent()).status){if(401===t.status)throw new Error("It doesn't look like you have permission to list peers IDs. "+(this._options.host===a.util.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature."));throw new Error("Error. Status:"+t.status)}return[2,t.json()];case 3:throw r=n.sent(),s.default.error("Error retrieving list peers",r),new Error("Could not get list peers from the server."+r);case 4:return[2]}}))}))},e}();r.API=c},{"./util":"BHXf","./logger":"WOs9"}],Hxpd:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(u){i={error:u}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var c=e("eventemitter3"),l=e("./util"),u=s(e("./logger")),f=e("./socket"),d=e("./mediaconnection"),h=e("./dataconnection"),p=e("./enums"),b=e("./api"),m=function(e){function t(r,n){var o,a=e.call(this)||this;return a._id=null,a._lastServerId=null,a._destroyed=!1,a._disconnected=!1,a._open=!1,a._connections=new Map,a._lostMessages=new Map,r&&r.constructor==Object?n=r:r&&(o=r.toString()),n=i({debug:0,host:l.util.CLOUD_HOST,port:l.util.CLOUD_PORT,path:"/",key:t.DEFAULT_KEY,token:l.util.randomToken(),config:l.util.defaultConfig},n),a._options=n,"/"===a._options.host&&(a._options.host=window.location.hostname),a._options.path&&("/"!==a._options.path[0]&&(a._options.path="/"+a._options.path),"/"!==a._options.path[a._options.path.length-1]&&(a._options.path+="/")),void 0===a._options.secure&&a._options.host!==l.util.CLOUD_HOST?a._options.secure=l.util.isSecure():a._options.host==l.util.CLOUD_HOST&&(a._options.secure=!0),a._options.logFunction&&u.default.setLogFunction(a._options.logFunction),u.default.logLevel=a._options.debug||0,a._api=new b.API(n),a._socket=a._createServerConnection(),l.util.supports.audioVideo||l.util.supports.data?o&&!l.util.validateId(o)?(a._delayedAbort(p.PeerErrorType.InvalidID,'ID "'+o+'" is invalid'),a):(o?a._initialize(o):a._api.retrieveId().then((function(e){return a._initialize(e)})).catch((function(e){return a._abort(p.PeerErrorType.ServerError,e)})),a):(a._delayedAbort(p.PeerErrorType.BrowserIncompatible,"The current browser does not support WebRTC"),a)}return n(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"socket",{get:function(){return this._socket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connections",{get:function(){var e,t,r=Object.create(null);try{for(var n=o(this._connections),i=n.next();!i.done;i=n.next()){var s=a(i.value,2);r[s[0]]=s[1]}}catch(h){e={error:h}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!0,configurable:!0}),t.prototype._createServerConnection=function(){var e=this,t=new f.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(p.SocketEventType.Message,(function(t){e._handleMessage(t)})),t.on(p.SocketEventType.Error,(function(t){e._abort(p.PeerErrorType.SocketError,t)})),t.on(p.SocketEventType.Disconnected,(function(){e.disconnected||(e.emitError(p.PeerErrorType.Network,"Lost connection to server."),e.disconnect())})),t.on(p.SocketEventType.Close,(function(){e.disconnected||e._abort(p.PeerErrorType.SocketClosed,"Underlying socket is already closed.")})),t},t.prototype._initialize=function(e){this._id=e,this.socket.start(e,this._options.token)},t.prototype._handleMessage=function(e){var t,r,n=e.type,i=e.payload,a=e.src;switch(n){case p.ServerMessageType.Open:this._lastServerId=this.id,this._open=!0,this.emit(p.PeerEventType.Open,this.id);break;case p.ServerMessageType.Error:this._abort(p.PeerErrorType.ServerError,i.msg);break;case p.ServerMessageType.IdTaken:this._abort(p.PeerErrorType.UnavailableID,'ID "'+this.id+'" is taken');break;case p.ServerMessageType.InvalidKey:this._abort(p.PeerErrorType.InvalidKey,'API KEY "'+this._options.key+'" is invalid');break;case p.ServerMessageType.Leave:u.default.log("Received leave message from "+a),this._cleanupPeer(a),this._connections.delete(a);break;case p.ServerMessageType.Expire:this.emitError(p.PeerErrorType.PeerUnavailable,"Could not connect to peer "+a);break;case p.ServerMessageType.Offer:var s=i.connectionId;if((b=this.getConnection(a,s))&&(b.close(),u.default.warn("Offer received for existing Connection ID:"+s)),i.type===p.ConnectionType.Media)b=new d.MediaConnection(a,this,{connectionId:s,_payload:i,metadata:i.metadata}),this._addConnection(a,b),this.emit(p.PeerEventType.Call,b);else{if(i.type!==p.ConnectionType.Data)return void u.default.warn("Received malformed connection type:"+i.type);b=new h.DataConnection(a,this,{connectionId:s,_payload:i,metadata:i.metadata,label:i.label,serialization:i.serialization,reliable:i.reliable}),this._addConnection(a,b),this.emit(p.PeerEventType.Connection,b)}var c=this._getMessages(s);try{for(var l=o(c),f=l.next();!f.done;f=l.next())b.handleMessage(f.value)}catch(m){t={error:m}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}break;default:if(!i)return void u.default.warn("You received a malformed message from "+a+" of type "+n);var b;(b=this.getConnection(a,s=i.connectionId))&&b.peerConnection?b.handleMessage(e):s?this._storeMessage(s,e):u.default.warn("You received an unrecognized message:",e)}},t.prototype._storeMessage=function(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)},t.prototype._getMessages=function(e){var t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]},t.prototype.connect=function(e,t){if(void 0===t&&(t={}),this.disconnected)return u.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(p.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var r=new h.DataConnection(e,this,t);return this._addConnection(e,r),r},t.prototype.call=function(e,t,r){if(void 0===r&&(r={}),this.disconnected)return u.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(p.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(t){r._stream=t;var n=new d.MediaConnection(e,this,r);return this._addConnection(e,n),n}u.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},t.prototype._addConnection=function(e,t){u.default.log("add connection "+t.type+":"+t.connectionId+" to peerId:"+e),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)},t.prototype._removeConnection=function(e){var t=this._connections.get(e.peer);if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}this._lostMessages.delete(e.connectionId)},t.prototype.getConnection=function(e,t){var r,n,i=this._connections.get(e);if(!i)return null;try{for(var a=o(i),s=a.next();!s.done;s=a.next()){var c=s.value;if(c.connectionId===t)return c}}catch(d){r={error:d}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return null},t.prototype._delayedAbort=function(e,t){var r=this;setTimeout((function(){r._abort(e,t)}),0)},t.prototype._abort=function(e,t){u.default.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()},t.prototype.emitError=function(e,t){var r;u.default.error("Error:",t),(r="string"==typeof t?new Error(t):t).type=e,this.emit(p.PeerEventType.Error,r)},t.prototype.destroy=function(){this.destroyed||(u.default.log("Destroy peer with ID:"+this.id),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit(p.PeerEventType.Close))},t.prototype._cleanup=function(){var e,t;try{for(var r=o(this._connections.keys()),n=r.next();!n.done;n=r.next()){var i=n.value;this._cleanupPeer(i),this._connections.delete(i)}}catch(l){e={error:l}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.socket.removeAllListeners()},t.prototype._cleanupPeer=function(e){var t,r,n=this._connections.get(e);if(n)try{for(var i=o(n),a=i.next();!a.done;a=i.next())a.value.close()}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},t.prototype.disconnect=function(){if(!this.disconnected){var e=this.id;u.default.log("Disconnect peer with ID:"+e),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit(p.PeerEventType.Disconnected,e)}},t.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)u.default.log("Attempting reconnection to server with ID "+this._lastServerId),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer "+this.id+" cannot reconnect because it is not disconnected from the server!");u.default.error("In a hurry? We're still trying to make the initial connection!")}},t.prototype.listAllPeers=function(e){var t=this;void 0===e&&(e=function(e){}),this._api.listAllPeers().then((function(t){return e(t)})).catch((function(e){return t._abort(p.PeerErrorType.ServerError,e)}))},t.DEFAULT_KEY="peerjs",t}(c.EventEmitter);r.Peer=m},{eventemitter3:"JJlS","./util":"BHXf","./logger":"WOs9","./socket":"wJlv","./mediaconnection":"dbHP","./dataconnection":"GBTQ","./enums":"ZRYf","./api":"in7L"}],iTK6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./util"),i=e("./peer");r.peerjs={Peer:i.Peer,util:n.util},r.default=i.Peer,window.peerjs=r.peerjs,window.Peer=i.Peer},{"./util":"BHXf","./peer":"Hxpd"}]},{},["iTK6"])},ow5J:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){return e.next()>=.5}}},"pJ3+":function(e,t,r){var n;!function(i,o,a){var s,c=a.pow(256,6),l=a.pow(2,52),u=2*l;function f(e,t,r){var n=[],f=p(function e(t,r){var n,i=[],o=typeof t;if(r&&"object"==o)for(n in t)try{i.push(e(t[n],r-1))}catch(a){}return i.length?i:"string"==o?t:t+"\0"}((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(o)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(256):(e=new Uint8Array(256),(i.crypto||i.msCrypto).getRandomValues(e)),b(e)}catch(n){var t=i.navigator,r=t&&t.plugins;return[+new Date,i,r,i.screen,b(o)]}}():e,3),n),m=new d(n),g=function(){for(var e=m.g(6),t=c,r=0;e<l;)e=256*(e+r),t*=256,r=m.g(1);for(;e>=u;)e/=2,t/=2,r>>>=1;return(e+r)/t};return g.int32=function(){return 0|m.g(4)},g.quick=function(){return m.g(4)/4294967296},g.double=g,p(b(m.S),o),(t.pass||r||function(e,t,r,n){return n&&(n.S&&h(n,m),e.state=function(){return h(m,{})}),r?(a.random=e,t):e})(g,f,"global"in t?t.global:this==a,t.state)}function d(e){var t,r=e.length,n=this,i=0,o=n.i=n.j=0,a=n.S=[];for(r||(e=[r++]);i<256;)a[i]=i++;for(i=0;i<256;i++)a[i]=a[o=255&o+e[i%r]+(t=a[i])],a[o]=t;(n.g=function(e){for(var t,r=0,i=n.i,o=n.j,a=n.S;e--;)t=a[i=255&i+1],r=256*r+a[255&(a[i]=a[o=255&o+t])+(a[o]=t)];return n.i=i,n.j=o,r})(256)}function h(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function p(e,t){for(var r,n=e+"",i=0;i<n.length;)t[255&i]=255&(r^=19*t[255&i])+n.charCodeAt(i++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(p(a.random(),o),e.exports){e.exports=f;try{s=r(4)}catch(m){}}else void 0===(n=(function(){return f}).call(t,r,t,e))||(e.exports=n)}("undefined"!=typeof self?self:this,[],Math)},pJ6O:function(e,t,r){(function(e){var n;!function(e,i,o){function a(e){var t=this,r="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),n==r.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function c(e,t){var r=new a(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=c:r("B9Yq")&&r("PDX0")?void 0===(n=(function(){return c}).call(t,r,t,i))||(i.exports=n):this.xorwow=c}(0,e,r("B9Yq"))}).call(this,r("YuTi")(e))},qYQ4:function(e,t,r){"use strict";const{func:n}=r("Aa5B");e.exports={predicates:{positive:e=>e>0,negative:e=>e<0,nonNegative:e=>e>=0,integer:e=>e===(0|e),[n]:{is:e=>e,eq:e=>t=>t===e,gt:e=>t=>t>e,gte:e=>t=>t>=e,lt:e=>t=>t<e,lte:e=>t=>t<=e}},validator:e=>"number"==typeof e}},tk71:function(e,t,r){"use strict";r.r(t),r.d(t,"ArenaPageModule",(function(){return sn}));var n=r("ofXK"),i=r("3Pt+"),o=r("TEn/"),a=r("tyNb"),s=r("mrSG");const c=r("HaNN").Wallet7;var l=r("+qE3"),u=r.n(l),f=r("HFX+"),d=r("YbKh"),h=r.n(d),p="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),b=new Uint8Array(16);function m(){if(!p)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(b)}for(var g=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,y=function(e){return"string"==typeof e&&g.test(e)},v=[],w=0;w<256;++w)v.push((w+256).toString(16).substr(1));var _=function(e,t,r){var n=(e=e||{}).random||(e.rng||m)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(v[e[t+0]]+v[e[t+1]]+v[e[t+2]]+v[e[t+3]]+"-"+v[e[t+4]]+v[e[t+5]]+"-"+v[e[t+6]]+v[e[t+7]]+"-"+v[e[t+8]]+v[e[t+9]]+"-"+v[e[t+10]]+v[e[t+11]]+v[e[t+12]]+v[e[t+13]]+v[e[t+14]]+v[e[t+15]]).toLowerCase();if(!y(r))throw TypeError("Stringified UUID is invalid");return r}(n)};const M="function"==typeof atob,k="function"==typeof btoa,S="function"==typeof Buffer,C="function"==typeof TextDecoder?new TextDecoder:void 0,E="function"==typeof TextEncoder?new TextEncoder:void 0,P=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],x=(e=>{let t={};return e.forEach((e,r)=>t[e]=r),t})(P),O=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,A=String.fromCharCode.bind(String),T="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(e,t=(e=>e))=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),R=e=>e.replace(/[+\/]/g,e=>"+"==e?"-":"_").replace(/=+$/m,""),I=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),N=e=>{let t,r,n,i,o="";const a=e.length%3;for(let s=0;s<e.length;){if((r=e.charCodeAt(s++))>255||(n=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");t=r<<16|n<<8|i,o+=P[t>>18&63]+P[t>>12&63]+P[t>>6&63]+P[63&t]}return a?o.slice(0,a-3)+"===".substring(a):o},B=k?e=>btoa(e):S?e=>Buffer.from(e,"binary").toString("base64"):N,D=S?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let r=0,n=e.length;r<n;r+=4096)t.push(A.apply(null,e.subarray(r,r+4096)));return B(t.join(""))},j=(e,t=!1)=>t?R(D(e)):D(e),L=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?A(192|t>>>6)+A(128|63&t):A(224|t>>>12&15)+A(128|t>>>6&63)+A(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return A(240|t>>>18&7)+A(128|t>>>12&63)+A(128|t>>>6&63)+A(128|63&t)},F=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,z=e=>e.replace(F,L),U=S?e=>Buffer.from(e,"utf8").toString("base64"):E?e=>D(E.encode(e)):e=>B(z(e)),K=(e,t=!1)=>t?R(U(e)):U(e),H=e=>K(e,!0),q=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,G=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return A(55296+(t>>>10))+A(56320+(1023&t));case 3:return A((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return A((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},V=e=>e.replace(q,G),W=e=>{if(e=e.replace(/\s+/g,""),!O.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,r,n,i="";for(let o=0;o<e.length;)t=x[e.charAt(o++)]<<18|x[e.charAt(o++)]<<12|(r=x[e.charAt(o++)])<<6|(n=x[e.charAt(o++)]),i+=64===r?A(t>>16&255):64===n?A(t>>16&255,t>>8&255):A(t>>16&255,t>>8&255,255&t);return i},Y=M?e=>atob(I(e)):S?e=>Buffer.from(e,"base64").toString("binary"):W,J=S?e=>T(Buffer.from(e,"base64")):e=>T(Y(e),e=>e.charCodeAt(0)),Z=e=>J($(e)),X=S?e=>Buffer.from(e,"base64").toString("utf8"):C?e=>C.decode(J(e)):e=>V(Y(e)),$=e=>I(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),Q=e=>X($(e)),ee=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),te=function(){const e=(e,t)=>Object.defineProperty(String.prototype,e,ee(t));e("fromBase64",(function(){return Q(this)})),e("toBase64",(function(e){return K(this,e)})),e("toBase64URI",(function(){return K(this,!0)})),e("toBase64URL",(function(){return K(this,!0)})),e("toUint8Array",(function(){return Z(this)}))},re=function(){const e=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,ee(t));e("toBase64",(function(e){return j(this,e)})),e("toBase64URI",(function(){return j(this,!0)})),e("toBase64URL",(function(){return j(this,!0)}))},ne={SYSTEM_WALLET:"0x7a349e54b61b895817fddcd287c961a8",random:h.a,base64:{version:"3.5.2",VERSION:"3.5.2",atob:Y,atobPolyfill:W,btoa:B,btoaPolyfill:N,fromBase64:Q,toBase64:K,encode:K,encodeURI:H,encodeURL:H,utob:z,btou:V,decode:Q,fromUint8Array:j,toUint8Array:Z,extendString:te,extendUint8Array:re,extendBuiltins:()=>{te(),re()}},hashLength:256,getHash:e=>Object(f.shake256)(e,ne.hashLength),getDiceFace:e=>"assets/dice/"+e+".png",sleep:(e=100)=>new Promise((t,r)=>{setTimeout(()=>{t()},e)}),getCellKey:(e,t)=>e.toString()+":"+t.toString(),uuid:()=>ne.getHash(_()),toast:(e,t=3e3,r)=>{},faceClasses:["front","right","back","left","top","bottom"],getRandomInt:(e,t=0)=>Math.floor(Math.random()*(e-t+1))+t,getVitalityPercentage:e=>e.sm.values.vit/e.vit,getLevelFromExp:e=>Math.floor(Math.pow(e,1/3)),getExpToNextLevel:e=>Math.pow(e+1,3),getCurrentLevelExp:e=>{const t=ne.getLevelFromExp(e);return 1===t?e:Math.pow(t,3)-e},getCellDistance:(e,t)=>Math.abs(e.sm.values.x-t.sm.values.x)+Math.abs(e.sm.values.y-t.sm.values.y)};class ie{constructor(e,t,r,n,i){this.sm=e,this.name=t,this.trigger=r,this.values=n,Object.keys(n),i&&(this.callback=i),this.sm.events.on(r,e=>{this.actionTrigger(r,e)})}actionTrigger(e,t){const r=Object.keys(this.values);this.sm.currentState=this;for(let n=0;n<r.length;n++)this.sm.values[r[n]]=this.values[r[n]];this.callback&&this.callback.apply(this,[this.sm,t])}}class oe{constructor(e,t){this.states={},this.events=e,this.values=t,new ie(this,"unset","unset",t),this.addState("unset",t),this.currentState=this.getState("unset")}addState(e,t,r){const n=new ie(this,e,e,t,r);this.states[n.name]=n}setState(e,t={}){if(!this.states[e])throw new Error("Cannot set unrecognized state "+e);this.states[e].actionTrigger(this.states[e].trigger,t)}getState(e){return this.states[e]}setValue(e,t){this.values[e]=t}decrease(e,t=1){this.values[e]-=Math.abs(t)}increase(e,t=1){this.values[e]+=Math.abs(t)}enable(e){this.values[e]=!0}disable(e){this.values[e]=!1}toggle(e){this.values[e]=!this.values[e]}push(e,t){this.values[e]||(this.values[e]=[]),this.values[e].push(t)}updateTrigger(e,t){this.addState(t,this.states[e].values,this.states[e].handler)}}new class{constructor(e){this.source=!1,this.destination=!1,this.fn=e}perform(...e){return this.fn.apply(this,e)}}((e,t)=>{let r=e+t.sm.values.vit;return r>t.vit&&(r=t.vit),t.sm.setValue("vit",r),r});class ae{constructor(e,t,r,n,i){this.name=e,this.cost=t,this.attribute=r,this.fn=n,this.description=i,this.hash=ne.getHash(this.name+this.cost+this.attribute+this.description)}activate(e,t){return this.fn.apply(this,[e,t])}}class se{constructor(){this.items=[]}static preset(e){this.events=e}add(e){this.items.push(e)}getAt(e){return this.items[e]}get(e){}getFiltered(e,t,r){const n=this.items.filter(r=>r.sm.values[e]===t);return r&&n.sort((e,t)=>e.sm.values[r]>t.sm.values[r]?1:e.sm.values[r]<t.sm.values[r]?-1:0),n}getByHash(e){return this.items.filter(t=>t.hash===e)[0]}getOrFiltered(e,t){return this.items.filter(r=>t.indexOf(r.sm.values[e])>=0)}getCollected(){return this.items.filter(e=>e.sm.values.isOwned&&e.sm.values.copiesNumber>0)}getCollectedUngrouped(){const e=this.items.filter(e=>e.sm.values.isOwned),t=[];for(let r=0;r<e.length;r++)for(let n=0;n<e[r].sm.values.copiesNumber;n++)t.push(e[r]);return t}getTotalCollected(){const e=this.items,t=[];for(let r=0;r<e.length;r++)for(let n=0;n<e[r].sm.values.copiesNumber;n++)t.push(e[r]);return t.length}getSelected(){const e=[],t=this.items.filter(e=>e.sm.values.isSelected);for(let r=0;r<t.length;r++)for(let n=0;n<t[r].sm.values.selectedCount;n++)e.push(t[r]);return e}}var ce=r("CO/a");let le=r.t(ce,2);ce&&(le=ce);class ue extends se{constructor(){super(),this.items=[],this.add(new ae("Healing Hands",3,"neutral",(e,t)=>Object(s.a)(this,void 0,void 0,(function*(){for(let r=0;r<e.length;r++){const n=e[r];for(let e=0;e<t.length;e++){const r=t[e];yield ne.sleep(500),r.hash===n.hash?n.sm.setValue("vit",Math.floor(n.sm.values.vit/2)):r.sm.setValue("vit",r.vit)}}})),"Pay half your VIT. Fully recover all other creature's Vitality (VIT)")),this.add(new ae("Heal",0,"neutral",(e,t)=>{for(let r=0;r<t.length;r++){const e=t[r];e.sm.setValue("vit",e.vit)}console.log("called heal ability",e,t)},"Fully recover all creature's Vitality (VIT)")),this.add(new ae("Fly",0,"neutral",(e,t)=>{},"[TBI] Allows to move over other creatures and empty floor tiles")),this.add(new ae("Freeze Touch",0,"neutral",(e,t)=>{},"[TBI] Freezes the opponent when attack")),this.add(new ae("Recover",0,"neutral",(e,t)=>{},"[TBI] Heal all statuses from ally creatures")),this.add(new ae("Justice Arrow",0,"neutral",(e,t)=>{},"[TBI] Enchanted arrow that increases BTL +3 until the end of the turn")),this.add(new ae("Reinforce",0,"neutral",(e,t)=>{for(let r=0;r<e.length;r++)e[r].sm.increase("btl",3),e[r].sm.increase("rng",1)},"Grants the hexed creature +3 BTL, +1 RNG")),this.add(new ae("Dark Rush",5,"dark",(e,t)=>{for(let r=0;r<e.length;r++)e[r].sm.increase("btl",8),e[r].sm.increase("rng",2)},"Grants the hexed creature +8 BTL, +2 RNG")),this.add(new ae("Forest Rush",5,"forest",(e,t)=>{for(let r=0;r<e.length;r++)e[r].sm.increase("btl",8),e[r].sm.increase("rng",2)},"Grants the hexed creature +8 BTL, +2 RNG")),this.add(new ae("Master Archer",0,"neutral",(e,t)=>{for(let r=0;r<e.length;r++)e[r].sm.increase("btl",3),e[r].sm.increase("rng",5)},"Grants the hexed creature +3 BTL, +5 RNG")),this.add(new ae("Frozen Arrow",7,"water",(e,t)=>{for(let r=0;r<e.length;r++)e[r].sm.increase("btl",7),e[r].sm.increase("rng",2)},"Grants the hexed creature +7 BTL, +2 RNG")),this.add(new ae("Combustion Rush",5,"fire",(e,t)=>{for(let r=0;r<e.length;r++)e[r].sm.increase("btl",7),e[r].sm.increase("rng",3)},"Grants the hexed creature +7 BTL, +3 RNG")),this.add(new ae("Tornado Rush",5,"wind",(e,t)=>{for(let r=0;r<e.length;r++)e[r].sm.increase("btl",7),e[r].sm.increase("rng",3)},"Grants the hexed creature +7 BTL, +3 RNG")),this.add(new ae("Storm Caster",0,"neutral",(e,t)=>{for(let r=0;r<e.length;r++)e[r].sm.increase("btl",3),e[r].sm.increase("rng",5)},"Grants the hexed creature +3 BTL, +5 RNG")),this.add(new ae("Thunder Fist",7,"thunder",(e,t)=>{for(let r=0;r<e.length;r++)e[r].sm.increase("btl",7),e[r].sm.increase("rng",2)},"Grants the hexed creature +7 BTL, +2 RNG")),this.add(new ae("Steel Rush",5,"metal",(e,t)=>{for(let r=0;r<e.length;r++)e[r].sm.increase("btl",7),e[r].sm.increase("rng",3)},"Grants the hexed creature +7 BTL, +3 RNG")),this.add(new ae("Judging Light",0,"neutral",(e,t)=>{for(let r=0;r<e.length;r++)e[r].sm.increase("btl",3),e[r].sm.increase("rng",5)},"Grants the hexed creature +3 BTL, +5 RNG")),this.add(new ae("Celestial Shock",7,"Light",(e,t)=>{for(let r=0;r<e.length;r++)e[r].sm.increase("btl",7),e[r].sm.increase("rng",2)},"Grants the hexed creature +7 BTL, +2 RNG")),this.add(new ae("Aetherial Rush",5,"aether",(e,t)=>{for(let r=0;r<e.length;r++)e[r].sm.increase("btl",7),e[r].sm.increase("rng",3)},"Grants the hexed creature +7 BTL, +3 RNG")),this.add(new ae("Gather Light",0,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"light",value:2})},"+2 `light`")),this.add(new ae("Emanate Light",2,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"light",value:1})},"+1 `light`")),this.add(new ae("Gather Fire",0,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"fire",value:2})},"+2 `fire`")),this.add(new ae("Emanate Flames",2,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"fire",value:1})},"+1 `fire`")),this.add(new ae("Gather Forest",0,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"forest",value:2})},"+2 `forest`")),this.add(new ae("Emanate Greenwood",2,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"forest",value:1})},"+1 `forest`")),this.add(new ae("Gather Thunder",0,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"thunder",value:2})},"+2 `thunder`")),this.add(new ae("Emanate Lightning",2,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"thunder",value:1})},"+1 `thunder`")),this.add(new ae("Gather Dark",0,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"dark",value:2})},"+2 `dark`")),this.add(new ae("Emanate Shadows",2,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"dark",value:1})},"+1 `dark`")),this.add(new ae("Gather Water",0,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"water",value:2})},"+2 `water`")),this.add(new ae("Emanate Ponds",2,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"water",value:1})},"+1 `water`")),this.add(new ae("Gather Metal",0,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"metal",value:2})},"+2 `metal`")),this.add(new ae("Emanate Copper",2,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"metal",value:1})},"+1 `metal`")),this.add(new ae("Gather Aether",0,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"aether",value:2})},"+2 `aether`")),this.add(new ae("Emanate Aether",2,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"aether",value:1})},"+1 `aether`")),this.add(new ae("Gather Wind",0,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"wind",value:2})},"+2 `wind`")),this.add(new ae("Emanate Storms",2,"neutral",(e,t)=>{const r=e[0].owner;r&&r.energyPool.sm.setState("mintBg",{attribute:"wind",value:1})},"+1 `wind`")),this.add(new ae("Poison",0,"neutral",(e,t)=>{for(let r=0;r<e.length;r++)e[r].sm.values.status.active||(e[r].sm.values.status.name="Poison",e[r].sm.values.status.active=!0)},"Curses a creature taking away 1/8 of their VIT every turn")),this.add(new ae("Poisoned Touch",0,"neutral",(e,t)=>{for(let r=0;r<e.length;r++)t[r].sm.values.status.name="Poison"},"Curses a creature taking away 1/8 of their VIT every turn"))}add(e){this.items.push(e)}get(e){return this.items.filter(t=>t.name===e)[0]}}class fe{constructor(e,t,r){this.abilityCollection=new ue,this.id=ne.uuid(),this.key=ne.getCellKey(t,r),this.events=e,this.sm=new oe(this.events,{canBeClicked:!1,classes:[],x:t,y:r,moveDistance:-1,key:this.key}),this.initializeStateMachine()}initializeStateMachine(){this.sm.addState("startTurn",{canBeClicked:!1}),this.sm.addState("clicked",{},(e,t)=>{if(e.values.canBeClicked){if(e.values.classes.includes("possible-cast-tile")){const r=e.values.classes.indexOf("possible-cast-tile");e.values.classes.splice(r,1),e.setState(t.profile.sm.values.isPlayer?this.id+"red-player":this.id+"blue-player"),t.board.sm.setState("clearPossibles"),t.board.sm.setState("castFn",{cell:this})}if(e.values.classes.includes("possible-unfold-tile")){const r=e.values.classes.indexOf("possible-unfold-tile");e.values.classes.splice(r,1),e.setState(t.profile.sm.values.isPlayer?this.id+"red-player":this.id+"blue-player"),t.board.sm.setState("unfoldFn",{cell:this})}if(e.values.classes.includes("possible-move-tile")&&t.board.sm.setState("moveFn",{cell:this}),e.values.classes.includes("possible-battle-tile")&&t.board.sm.setState("battleFn",{cell:this}),e.values.classes.includes("possible-hex-target")){const e=t.board.sm.values.currentCard,r=t.profile.cardsCaboodle.getFiltered("isOnBoard",!0);let n=t.board.players.red,i=t.board.players.blue;t.board.sm.values.isPlayerTurn&&(n=t.board.players.blue,i=t.board.players.red);const o=n.cardsCaboodle.getFiltered("isOnBoard",!0);for(let t=0;t<o.length;t++)r.push(o[t]);for(let t=0;t<r.length;t++)if(r[t].sm.values.cellKey===this.key){r[t].sm.setValue("equipedCard",e);for(let n=0;n<e.sm.values.abilities.length;n++){const i=e.sm.values.abilities[n];r[t].sm.push("abilities",i);const o=this.abilityCollection.get(i);o&&0===o.cost&&o.activate([r[t]],[])}}t.board.sm.setState("castFn",{cell:this})}}}),this.sm.addState("clearPossibles",{},(e,t)=>{for(let r=0;r<e.values.classes.length;r++)e.values.classes[r].indexOf("possible")>=0&&e.values.classes.splice(r,1)}),this.sm.addState(this.id+"red-player",{classes:["floor","red-player-tile"]}),this.sm.addState(this.id+"blue-player",{classes:["floor","blue-player-tile"]})}addClass(e){}rmClass(e){}hasClass(e){}canClick(e){}attachDom(){}equals(e){return this.sm.values.x===e.sm.values.x&&this.sm.values.y===e.sm.values.y}}var de=r("OZg7"),he=r.t(de,2);const pe={"clyde-battle-tune":"/assets/audio/Ludum Dare 28 - Track 3.wav",mintFn:"/assets/audio/menu_006.wav",tap:"/assets/audio/menu_056.wav",default:"/assets/audio/menu_056.wav"};class be{constructor(e,t=!1){const r=new Audio(pe[e]);r.loop=t,r.play()}}let me=he;de&&(me=de);class ge{constructor(e,t="default-arena"){this.abilityCollection=new ue,this.players={red:{},blue:{}},this.width=0,this.height=0,this.events=e,this.sm=new oe(this.events,{isGameReady:!1,isGameStarted:!1,isGameEnded:!1,isPlayerTurn:!1,isRivalTurn:!1,turnNonce:0,isP2PGame:!1,isCPUGame:!1,isRankedGame:!1,cells:[],currentCard:!1,cellsLeft:0,moveCount:-1,isGameWon:!1,isGameLost:!1,wonCoin:-1,wonExp:-1,moveDistance:-1,cardInDisplay:!1,diceInDisplay:!1,showHelp:!1,viewDeck:!1,showOpponentsModal:!1,displayInventory:!1,isOnlineModalVisible:!1,isPlayerChallenging:!1}),this.initializeStateMachine(),this.mapName=t,this.hash=ne.getHash(JSON.stringify([me[this.mapName]])),this.paintMap(me[this.mapName])}initializeStateMachine(){this.sm.addState("startGame",{isCPUGame:!0,isGameStarted:!1,isGameEnded:!1,isGameReady:!1,isPlayerTurn:!1,isRivalTurn:!1}),this.sm.addState("startTurn",{isPlayerTurn:!0,isRivalTurn:!1}),this.sm.addState("castBg",{},(e,t)=>{const r=this.getOccupiedCells(t.profile);e.setState("clearPossibles");const n=[];for(let i=0;i<r.length;i++){const e=this.getAdjacentCells(r[i].sm.values.x,r[i].sm.values.y);for(let t=0;t<e.length;t++)n.push(e[t])}if(t.profile.energyPool.sm.setState("burnBg",{attribute:t.card.attribute,value:t.card.sm.values.cost}),t.card.sm.values.clans.includes("Hex")){let r=this.players.red,n=this.players.blue;e.values.isPlayerTurn&&(r=this.players.blue,n=this.players.red);const i=n.cardsCaboodle.getFiltered("isOnBoard",!0),o=r.cardsCaboodle.getFiltered("isOnBoard",!0);for(let e=0;e<o.length;e++)i.push(o[e]);for(let e=0;e<i.length;e++){const t=i[e];!t.sm.values.equipedCard&&t.sm.values.cellKey&&this.getCellByKey(t.sm.values.cellKey).sm.push("classes","possible-hex-target")}return e.setValue("currentCard",t.card),void(this.sm=e)}if(t.card.sm.values.clans.includes("Illusion")){let r=this.players.red,n=this.players.blue;e.values.isPlayerTurn&&(r=this.players.blue,n=this.players.red),n.sm.disable("isActionActive");for(let e=0;e<t.card.sm.values.abilities.length;e++)this.abilityCollection.get(t.card.sm.values.abilities[e]).activate([t.card],n.cardsCaboodle.getFiltered("isOnBoard",!0));return t.card.sm.disable("isOnBoard"),void t.card.sm.setValue("cooldown",0)}for(let i=0;i<n.length;i++)n[i].sm.values.classes.includes("floor")||(n[i].sm.push("classes","possible-cast-tile"),n[i].sm.enable("canBeClicked"));e.setValue("currentCard",t.card),this.sm=e}),this.sm.addState("castFn",{},(e,t)=>{const r=e.values.currentCard||t.card;r.sm.enable("isOnBoard"),e.setState("clearPossibles");let n=this.players.red,i=this.players.blue;e.values.isPlayerTurn&&(n=this.players.blue,i=this.players.red),r.sm.disable("canBeClicked"),new be("tap"),r.sm.values.clans.includes("Hex")?i.sm.disable("isActionActive"):(r.sm.setValue("btl",r.btl),r.sm.setValue("mov",r.mov),r.sm.setValue("vit",r.vit),r.sm.enable("canMove"),r.sm.enable("canBattle"),r.sm.setState("setCell",{cell:t.cell}),t.cell.sm.push("classes","creature"),e.setState("unfoldBg",{cell:t.cell,cellsLeft:5}))}),this.sm.addState("unfoldBg",{},(e,t)=>{const r=t.cell,n=this.getAdjacentCells(r.sm.values.x,r.sm.values.y),i=[];for(let o=0;o<n.length;o++)n[o].sm.values.classes.includes("floor")||i.push(n[o]);if(0===i.length)return t.cellsLeft=0,e.setState("unfoldFn",t);for(let o=0;o<i.length;o++)i[o].sm.values.classes.push("possible-unfold-tile"),i[o].sm.enable("canBeClicked");e.setValue("cellsLeft",t.cellsLeft)}),this.sm.addState("unfoldFn",{},(e,t)=>{if(e.setState("clearPossibles"),e.values.cellsLeft<=1)return e.values.currentCard.sm.enable("canBeClicked"),void(this.players.red.sm.values.isActiveTurn?this.players.red.sm.disable("isActionActive"):this.players.blue.sm.disable("isActionActive"));e.decrease("cellsLeft"),e.setState("unfoldBg",{cell:t.cell,cellsLeft:e.values.cellsLeft}),new be("tap")}),this.sm.addState("moveBg",{isMoving:!0},(e,t)=>{if(!t.card.sm.values.canMove)return;const r=t.card,n=r.sm.values.cellKey.split(":"),i=this.getCell(parseInt(n[0]),parseInt(n[1]));let o=e.values.moveCount;o<0&&(o=r.sm.values.mov);let a=1;r.sm.values.abilities.includes("Fly")&&(a=o);const s=this.getAdjacentCells(parseInt(n[0]),parseInt(n[1]),a),c=[];for(let l=0;l<s.length;l++)if(s[l].sm.values.classes.includes("floor")&&!s[l].sm.values.classes.includes("creature")){c.push(s[l]);const e=ne.getCellDistance(i,s[l]);s[l].sm.setValue("moveDistance",e),s[l].sm.values.classes.push("possible-move-tile"),s[l].sm.enable("canBeClicked")}i.sm.values.classes.includes("creature")&&i.sm.values.classes.splice(i.sm.values.classes.indexOf("creature"),1),r.sm.disable("isBoardMenuVisible"),r.sm.disable("canBeClicked"),e.setValue("currentCard",r),r.sm.enable("isMoving")}),this.sm.addState("battleBg",{isBattling:!0,isBusy:!0},(e,t)=>{const r=t.card;if(!t.card.sm.values.canBattle)return;let n=this.players.red,i=this.players.blue;e.values.isPlayerTurn&&(n=this.players.blue,i=this.players.red);const o=n.cardsCaboodle.getFiltered("isOnBoard",!0),a=[];for(let c=0;c<o.length;c++){var s={x:parseInt(o[c].sm.values.cellKey.split(":")[0]),y:parseInt(o[c].sm.values.cellKey.split(":")[1])};const e=this.getCell(s.x,s.y);s={x:parseInt(r.sm.values.cellKey.split(":")[0]),y:parseInt(r.sm.values.cellKey.split(":")[1])};const t=this.getCell(s.x,s.y);ne.getCellDistance(t,e)<=r.sm.values.rng&&0===i.cardsCaboodle.items.filter(e=>e.hash===o[c].hash).length&&(a.push(o[c]),e.sm.enable("canBeClicked"),e.sm.values.classes.push("possible-battle-tile"))}if(0===a.length){const e=r.sm.values.cellKey.split(":"),t=this.getAdjacentCells(parseInt(e[0]),parseInt(e[1]),r.sm.values.rng),n=[];for(let r=0;r<t.length;r++)t[r].sm.values.classes.includes("floor")&&(n.push(t[r]),t[r].sm.values.classes.push("possible-battle-tile"),t[r].sm.disable("canBeClicked"))}e.setValue("currentCard",r),this.sm=e}),this.sm.addState("battleFn",{isBattling:!1,isBusy:!1},(e,t)=>Object(s.a)(this,void 0,void 0,(function*(){const r=t.cell,n=e.values.currentCard;let i=this.players.red,o=this.players.blue,a=!1;e.values.isPlayerTurn&&(i=this.players.blue,o=this.players.red,a=!0),e.events.emit("clearPossibles",{}),this.players.red.sm.values.isActiveTurn?this.players.red.sm.disable("isActionActive"):this.players.blue.sm.disable("isActionActive"),new be("tap");const s=i.cardsCaboodle.getFiltered("cellKey",r.sm.values.x+":"+r.sm.values.y)[0];s.sm.decrease("vit",n.sm.values.btl);for(let e=0;e<n.sm.values.abilities.length;e++){const t=this.abilityCollection.get(n.sm.values.abilities[e]);t.name.indexOf("Touch")&&t.activate([n],[s])}if(s.sm.enable("showDamageAnimation"),yield ne.sleep(750),s.sm.disable("showDamageAnimation"),s.sm.values.vit<=0){if(s.sm.disable("isOnBoard"),s.sm.values.equipedCard){const e=s.sm.values.equipedCard;e.sm.setValue("cooldown",0),e.sm.disable("isOnBoard"),e.sm.disable("canCast"),e.sm.disable("canMove"),e.sm.disable("canBattle"),s.sm.disable("equipedCard")}if(s.sm.setValue("cooldown",0),s.sm.disable("canCast"),s.sm.disable("canMove"),s.sm.disable("canBattle"),r.sm.values.classes.includes("creature")&&r.sm.values.classes.splice(r.sm.values.classes.indexOf("creature"),1),o.sm.increase("winStrikes"),5===o.sm.values.winStrikes)return e.setState("gameFn",{isPlayer:a,player:o,httpMessenger:o.httpMessenger})}n.sm.disable("canBattle")}))),this.sm.addState("gameFn",{},(e,t)=>Object(s.a)(this,void 0,void 0,(function*(){const r=t.player.sm.values.lvl;if(t.isPlayer){const r={from:t.player.sm.values.wallet.address,to:t.player.sm.values.wallet.address,resource:"coin",tag:"win-game",value:275};e.setValue("wonCoin",275),yield t.httpMessenger.post("/tx/",{tx:r,token:localStorage.getItem("auth-token")});const n={from:t.player.sm.values.wallet.address,to:t.player.sm.values.wallet.address,resource:"experience",tag:"win-game",value:yield t.player.getWinExp()};e.setValue("wonExp",n.value),yield t.httpMessenger.post("/tx/",{tx:n,token:localStorage.getItem("auth-token")})}else yield t.player.getLosExp();e.enable("isGameEnded"),t.isPlayer?(e.enable("isGameWon"),e.disable("isGameLost")):(e.disable("isGameWon"),e.enable("isGameLost")),yield t.player.getExperience(),t.player.sm.values.lvl>r&&(ne.toast("You just went level "+t.player.sm.values.lvl),yield t.httpMessenger.post("/tx/",{tx:{from:t.player.sm.values.wallet.address,to:t.player.sm.values.wallet.address,resource:"coin",tag:"win-game",value:100*t.player.sm.values.lvl},token:localStorage.getItem("auth-token")}),ne.toast("Your reward for gaining a level: "+100*t.player.sm.values.lvl+" coins")),yield t.player.getBalance()}))),this.sm.addState("moveFn",{isMoving:!1},(e,t)=>{const r=e.values.currentCard,n=t.cell;if(!r.sm.values.isMoving)return;e.events.emit("clearPossibles",{});let i=e.values.moveCount;i<0&&(i=r.sm.values.mov),e.setState("clearPossibles");const o=this.getCellByKey(r.sm.values.cellKey);o.sm.setState("clearPossibles"),i-=ne.getCellDistance(n,o),n.sm.values.classes.push("creature"),this.setCell(n),r.sm.setState("setCell",{cell:n}),e.setValue("moveCount",i),i>0?e.setState("moveBg",{card:r}):(r.sm.disable("isMoving"),e.setValue("moveCount",-1),e.setValue("moveDistance",-1),r.sm.disable("canMove"),r.sm.enable("canBeClicked"),e.events.emit("clearPossibles",{}),this.players.red.sm.values.isActiveTurn?this.players.red.sm.disable("isActionActive"):this.players.blue.sm.disable("isActionActive")),this.sm=e,new be("tap")}),this.sm.addState("clearPossibles",{},(e,t)=>{for(let r=0;r<e.values.cells.length;r++)e.values.cells[r].sm.setState("clearPossibles")}),this.sm.addState("handshakeFn",{},(e,t)=>{this.players.red.sm.enable("isPlaying"),this.players.blue.sm.enable("isPlaying"),console.log("handshake is done, loading board"),console.log("red::",this.players.red.sm.values),console.log("blue::",this.players.blue.sm.values),this.players.red.sm.disable("isModalVisible"),new be("clyde-battle-tune",!0)})}getCell(e,t){return this.sm.values.cells.filter(r=>r.sm.values.x===e&&r.sm.values.y===t)[0]}getCellByKey(e){return this.sm.values.cells.filter(t=>t.key===e)[0]}getOccupiedCells(e){let t=this.players.blue,r="blue-player-tile";return e.sm.values.isPlayer&&(t=this.players.red,r="red-player-tile"),this.sm.values.cells.filter(e=>e.sm.values.classes.indexOf(r)>=0)}getAdjacentCells(e,t,r=1){let n=this.sm.values.cells.filter(r=>r.sm.values.x===e&&r.sm.values.y===t-1||r.sm.values.x===e&&r.sm.values.y===t+1||r.sm.values.x===e-1&&r.sm.values.y===t||r.sm.values.x===e+1&&r.sm.values.y===t);if(r>1)for(let i=0;i<r;i++){const r=i;n=[...n,...this.getAdjacentCells(e+r,t),...this.getAdjacentCells(e-r,t),...this.getAdjacentCells(e,t+r),...this.getAdjacentCells(e,t-r)]}return n}paintMap(e){this.width=e.height,this.height=e.width;for(let t=0;t<this.width;t++)for(let r=0;r<this.height;r++){const n=ne.getCellKey(t,r),i=new fe(this.events,t,r);this.sm.push("cells",i),n in e.tiles&&i.sm.setState(i.id+e.tiles[n])}}setCell(e){for(let t=0;t<this.sm.values.cells.length;t++)this.sm.values.cells[t].key===e.key&&(this.sm.values.cells[t]=e)}}class ye{constructor(e,t,r,n,i){this.faces=[],this.rolledFaceClass="",this.events=e,this.title=t,this.color=r,this.faces=n,this.originalHash=ne.getHash(JSON.stringify([this.color,this.faces])),this.hash=i||this.originalHash,this.sm=new oe(this.events,{color:this.color,faces:this.faces,hash:this.hash,isSelected:!1,selectedCount:0,isRolling:!1,rollingCount:0,hasRolled:!1,canRoll:!1,lastRoll:[],activeFace:"front",isOwned:!1,isInDeck:!1,copiesNumber:0,deckCopiesNumber:0,collectionCounterVisible:!1,showDicePool:!1,dice:this,originalHash:this.originalHash}),this.initializeStateMachine()}initializeStateMachine(){this.sm.addState("startTurn",{isRolling:!1,hasRolled:!1,canRoll:!0,lastRoll:[],activeFace:"front"},(e,t)=>{e.values.isSelected&&e.values.rollingCount<=e.values.selectedCount&&(e.increase("rollingCount"),e.setState("rollBg-"+e.values.hash))}),this.sm.addState("gainOwnership-"+this.hash,{isOwned:!0},(e,t)=>{const r=e.values.dice.clone(t.claim.payload.user+t.claim.payload.rel_id.toString(16));r.sm.setValue("ownershipClaimToken",t.token),r.sm.enable("isOwned"),t.profile.diceCaboodle.add(r),this.sm=e}),this.sm.addState("selectFn-"+this.hash,{isSelected:!0},(e,t)=>{e.enable("isSelected"),e.decrease("deckCopiesNumber"),e.increase("selectedCount"),new be("tap")}),this.sm.addState("unselectFn-"+this.hash,{},(e,t)=>{e.values.isSelected&&(e.decrease("selectedCount"),e.increase("deckCopiesNumber"),e.disable("isSelected"),e.values.selectedCount<=0&&(e.setValue("selectedCount",0),e.disable("isSelected")))}),this.sm.addState("rollBg-"+this.hash,{isRolling:!0,hasRolled:!1,canRoll:!1,lastRoll:[],activeFace:"rolling"},(e,t)=>Object(s.a)(this,void 0,void 0,(function*(){if(!e.values.isSelected)return;if(e.values.rollingCount>e.values.selectedCount)return;yield ne.sleep(1e3);const r=ne.random.int(0,e.values.faces.length-1),n=e.values.faces[r];let i=[n];if(n.indexOf("-")>=0){const e=n.split("-"),t=parseInt(e[1]);i=[];for(let r=0;r<t;r++)i.push(e[0])}e.setValue("lastRoll",i);const o=ne.faceClasses[r];e.setValue("activeFace",""),e.setValue("activeFace",o),e.setState("rollFn-"+e.values.hash,{activeFace:o,sm:e,player:t.player}),this.sm=e}))),this.sm.addState("rollFn-"+this.hash,{},(e,t)=>{e.values.isSelected&&e.values.isRolling&&0!==(e=t.sm).values.lastRoll.length&&(e.setValue("activeFace",t.activeFace),e.events.emit("mintBg",{attribute:e.values.lastRoll[0],value:e.values.lastRoll.length}),this.sm=e,t.player.sm.disable("isActionActive"))}),this.sm.addState("deselected-"+this.hash,{isSelected:!1}),this.sm.addState("addToDeck-"+this.hash,{isInDeck:!0},(e,t)=>{e.enable("isInDeck"),this.sm=e}),this.sm.addState("rmFromDeck-"+this.hash,{isInDeck:!1},(e,t)=>{e.decrease("deckCopiesNumber"),e.increase("copiesNumber")})}rollBg(){this.sm.events.emit("rollBg",{})}select(){this.sm.events.emit("selectFn",{})}unselect(){this.sm.events.emit("unselectFn",{})}clone(e){const t=ne.getHash(this.hash+e);return new ye(this.events,this.title,this.color,this.faces,t)}}var ve=r("IBIH");let we=r.t(ve,2);ve&&(we=ve);class _e extends se{constructor(){super(),this.deck=[];for(let e=0;e<we.items.length;e++){const t=we.items[e];this.add(new ye(_e.events,t.title,t.color,[t.faces0,t.faces1,t.faces2,t.faces3,t.faces4,t.faces5])),console.info("dice collection ready",JSON.stringify(this.items.map(e=>({title:e.title,hash:e.hash}))))}}getDeckSelected(){return this.deck.filter(e=>e.sm.values.isSelected)}getDeck(e=!1){if(this.deck.length>0)return this.deck;const t=this.items.filter(e=>e.sm.values.isInDeck),r=[];if(e){for(let e=0;e<t.length;e++)for(let n=0;n<t[e].sm.values.deckCopiesNumber;n++)r.push(new ye(t[e].events,t[e].title,t[e].color,t[e].faces));this.deck=r}else for(let n=0;n<t.length;n++)for(let e=0;e<t[n].sm.values.deckCopiesNumber;e++)r.push(t[n]);return e||(this.deck=r),r}}const Me={light:"assets/backgrounds/light.jpg",dark:"assets/backgrounds/dark.jpg",aether:"assets/backgrounds/aether.jpg",wind:"assets/backgrounds/wind.jpg",water:"assets/backgrounds/water.jpg",fire:"assets/backgrounds/fire.jpg",forest:"assets/backgrounds/forest.jpg",metal:"assets/backgrounds/metal.jpg",thunder:"assets/backgrounds/thunder.jpg",neutral:"assets/backgrounds/neutral.jpg"};class ke{constructor(e,t,r,n,i,o,a,c,l,u,f,d,h,p=1,b){this.lore="",this.abilities=[],this.offset={x:0,y:0},this.events=e,this.abilities=[];for(let s=0;s<f.length;s++)this.abilities.push(f[s]);this.sm=new oe(this.events,{isOwned:!1,ownershipClaimToken:"",isInDeck:!1,isOnBoard:!1,cost:i,cooldown:o,btl:c,mov:a,vit:u,rng:l,canCast:!1,canMove:!1,canBattle:!1,x:0,y:0,copiesNumber:0,deckCopiesNumber:0,isSelected:!1,isMoving:!1,attribute:n,collectionCounterVisible:!1,canBeClicked:!1,isBoardMenuVisible:!1,cellKey:"",card:this,originalHash:!1,hash:!1,canBeCasted:!1,cstAction:!1,canBeMoved:!1,canBeBattled:!1,actions:[],abilities:this.abilities,clans:d,equipedCard:!1,showPoisonAnimation:!1,status:{active:!1,name:"",activate:e=>Object(s.a)(this,void 0,void 0,(function*(){if(console.log("status update",e),"Poison"===e){this.sm.enable("showPoisonAnimation"),yield ne.sleep(750),this.sm.disable("showPoisonAnimation");const e=Math.floor(this.vit/8)||1;if(this.sm.decrease("vit",e),this.sm.values.vit<=0){if(this.sm.disable("isOnBoard"),this.sm.values.equipedCard){const e=this.sm.values.equipedCard;e.sm.setValue("cooldown",0),e.sm.disable("isOnBoard"),e.sm.disable("canCast"),e.sm.disable("canMove"),e.sm.disable("canBattle"),this.sm.disable("equipedCard")}this.sm.setValue("cooldown",0),this.sm.disable("canCast"),this.sm.disable("canMove"),this.sm.disable("canBattle"),this.owner.sm.increase("winStrikes")}}"Frozen"===e&&this.sm.decrease("mov",Math.floor(this.mov/8)),"Chained"===e&&this.sm.decrease("btl",Math.floor(this.btl/8))}))}}),this.title=t,this.backgroundUrl=Me[n],this.attribute=n,this.rarity=p;let m="assets/battlers/";m+=this.attribute,m+="/",m+=r,m+=".png",this.battlerUrl=m,this.lore=h,this.btl=c,this.cost=i,this.mov=a,this.vit=u,this.rng=l,this.cooldown=o,this.clans=d,this.originalHash=ne.getHash(JSON.stringify([this.title,this.battlerName,this.attribute,this.cost,this.cooldown,this.mov,this.btl,this.rng,this.vit,this.abilities,this.clans,this.lore,this.rarity,this.offset])),this.hash=b||this.originalHash,this.sm.setValue("hash",this.hash),this.sm.setValue("originalHash",this.originalHash),this.initializeStateMachine()}initializeStateMachine(){this.sm.addState("startTurn",{canBeClicked:!0}),this.sm.addState("turnBg",{canBeClicked:!0}),this.sm.addState("gainOwnership-"+this.hash,{isOwned:!0},(e,t)=>{const r=e.values.card.clone(t.claim.payload.user+t.claim.payload.rel_id.toString(16));r.sm.setValue("ownershipClaimToken",t.token),r.sm.enable("isOwned"),t.profile.cardsCaboodle.add(r)}),this.sm.addState("deselected-"+this.hash,{isSelected:!1}),this.sm.addState("setCell",{},(e,t)=>{const r=document.querySelector(".cell-x-"+t.cell.sm.values.x+"-y-"+t.cell.sm.values.y+">.positioner").getBoundingClientRect(),n=document.querySelector("#main-container");e.setValue("x",n.scrollLeft+(r.x-50)),e.setValue("y",n.scrollTop+r.y-Math.pow(3,.5)/2*100),e.setValue("cellKey",t.cell.key)}),this.sm.addState("addToDeck-"+this.hash,{isInDeck:!0},(e,t)=>{e.enable("isInDeck"),this.sm=e}),this.sm.addState("rmFromDeck-"+this.hash,{isInDeck:!1},(e,t)=>{e.decrease("deckCopiesNumber"),e.increase("copiesNumber")})}canBeCasted(e){}getVitPercent(){}equals(e){return this.hash===e.hash}clone(e){const t=ne.getHash(this.hash+e),r=this.battlerUrl.split("/"),n=r[r.length-1].split(".")[0];return new ke(this.events,this.title,n,this.attribute,this.cost,this.cooldown,this.mov,this.btl,this.rng,this.vit,this.abilities,this.clans,this.lore,this.rarity,t)}}var Se=r("XyIg");let Ce=r.t(Se,2);Se&&(Ce=Se);class Ee extends se{constructor(){super();for(let e=0;e<Ce.items.length;e++){const t=Ce.items[e],r=t.cost.toString(10),n=parseInt(r),i=t.lore.toString(),o=[];t.clan_0.trim().length>0&&o.push(t.clan_0),t.clan_1.trim().length>0&&o.push(t.clan_1),t.clan_2.trim().length>0&&o.push(t.clan_2);const a=[];t.ability_0.trim().length>0&&a.push(t.ability_0),t.ability_1.trim().length>0&&a.push(t.ability_1),this.add(new ke(Ee.events,t.title,t.battlerName,t.attribute,n,t.cooldown,t.mov,t.btl,t.rng,t.vit,a,o,i,t.rarity))}console.info("card collection ready",JSON.stringify(this.items.map(e=>({title:e.title,hash:e.hash}))))}getFiltered(e,t,r){const n=this.items.filter(r=>r.sm.values[e]===t);return r&&n.sort((e,t)=>e.sm.values[r]>t.sm.values[r]?1:e.sm.values[r]<t.sm.values[r]?-1:0),n}getDeck(){const e=this.items.filter(e=>e.sm.values.isInDeck),t=[];for(let r=0;r<e.length;r++)for(let n=0;n<e[r].sm.values.deckCopiesNumber;n++)t.push(e[r]);return t}getBoardBattlers(){return this.items.filter(e=>e.sm.values.isOnBoard)}}let Pe=(()=>{class e{constructor(t){this.events=t,this.sm=new oe(this.events,{attributes:e.attributes,isBusy:!1,canMint:!1,canBurn:!1,neutral:0,earth:0,wind:0,water:0,fire:0,forest:0,metal:0,thunder:0,ice:0,light:0,dark:0,aether:0,void:0}),this.initializeStateMachine()}initializeStateMachine(){this.sm.addState("startTurn",{busy:!1,canMint:!0,canBurn:!0}),this.sm.addState("mintBg",{},(e,t)=>{e.values.canMint&&(e.increase(t.attribute,t.value),e.events.emit("mintFn",{}))}),this.sm.addState("mintFn",{isBusy:!1},(e,t)=>{new be("mintFn")}),this.sm.addState("burnBg",{},(e,t)=>{e.decrease(t.attribute,t.value),e.events.emit("burnFn",{})}),this.sm.addState("burnFn",{isBusy:!1})}}return e.attributes=["neutral","earth","wind","water","fire","forest","metal","thunder","ice","light","dark","aether","void"],e})();class xe{constructor(){this.items=[],this.hashes=[]}add(e){this.hashes.includes(e.hash)||(this.items.push(e),this.hashes.push(e.hash))}getAt(e){return this.items[e]}getFiltered(e,t,r){const n=this.items.filter(r=>r.sm.values[e]===t);return r&&n.sort((e,t)=>e.sm.values[r]>t.sm.values[r]?1:e.sm.values[r]<t.sm.values[r]?-1:0),n}getFilteredUnique(e,t){const r={};return this.items.filter(n=>{if(!r[n.hash])return r[n.hash]=!0,!n.sm.values.isInDeck&&n.sm.values[e]===t})}getByHash(e){return this.items.filter(t=>t.hash===e)[0]}getCollectionCount(e){return this.getFiltered("originalHash",e.originalHash).filter(e=>!e.sm.values.isInDeck).length}getInDeckUnselected(){return this.getFiltered("isInDeck",!0).filter(e=>!e.sm.values.isSelected)}}class Oe{constructor(e,t,r,n=!1,i=""){this.isPlayer=!1,this.cardsCaboodle=new xe,this.diceCaboodle=new xe,this.alias="",this.avatar="",this.events=e,this.energyPool=new Pe(this.events),this.cards=new Ee,this.dice=new _e;const o=!t;this.isPlayer=t,this.sm=new oe(this.events,{isLoggedIn:!1,isPlaying:!1,isDrawerVisible:!1,isBusy:!1,isPlayer:t,isCPU:o,isModalVisible:!0,email:"@",address:"0x",balance:0,isDeckReady:!1,showBoardDeck:!1,wallet:!1,claims:[],showDicePool:!1,canRoll:!1,canCast:!1,isCasting:!1,isActiveTurn:!1,winStrikes:0,canModifyDeck:!0,exp:-1,lvl:-1,isActionActive:!1,activeAction:!1,showStarterDeckPicker:!1,inventory:[],avatar:!1,activeDeck:{title:"EMPTY",dice:[],cards:[]},showLeaderboard:!1,alias:"",isP2P:!1}),this.initializeStateMachine(),r&&(this.httpMessenger=r),n&&(this.sm.values.isP2P=!0,this.sm.values.isCPU=!1)}updateAlias(e,t){return Object(s.a)(this,void 0,void 0,(function*(){return yield e.post("/user/alias",{alias:t,token:localStorage.getItem("auth-token")})}))}addAvatar(e,t,r,n=0){return e.post("/tx/",{tx:{from:this.sm.values.wallet.address,to:ne.SYSTEM_WALLET,tag:"inventory",resource:"none",value:{item:{active:n,type:"avatar",title:r,deck:{url:t,title:r}}}},token:localStorage.getItem("auth-token")})}initializeStateMachine(){this.sm.values.isCPU&&!this.sm.values.isP2P||(this.sm.addState("gameBg",{},(e,t)=>{for(let r=0;r<this.cardsCaboodle.items.length;r++)this.cardsCaboodle.items[r].owner=this;for(let r=0;r<this.cards.items.length;r++)this.cards.items[r].owner=this;this.sm.values.isCPU||this.sm.values.isP2P||!this.sm.values.isPlayer||this.loadActiveDeck()}),this.sm.addState("turnBg",{isPlaying:!0,canCast:!0,isCasting:!1}),this.sm.addState("deckReady",{isDeckReady:!0,isModalVisible:!1}),this.sm.addState("registerBg",{isBusy:!0},this.register),this.sm.addState("registerFn",{isBusy:!1}),this.sm.addState("authBg",{isBusy:!0},this.auth),this.sm.addState("authFn",{isBusy:!1,isLoggedIn:!0},(e,t)=>{ne.toast("Greetings!")}),this.sm.addState("purchaseBg",{},this.purchaseBg),this.sm.addState("mintCoinBg",{},this.mintCoinBg),this.sm.addState("purchaseFn",{isBusy:!1},(e,t)=>{this.getBalance()}),this.sm.addState("castBg",{isBusy:!0},(e,t)=>{e.enable("isCasting");const r=t.card,n=r.attribute,i=r.cost,o=t.energyPool;if(o.sm.values[n]<i)return;o.sm.setState("burnBg",{attribute:n,value:i}),e.disable("isModalVisible"),e.disable("showBoardDeck");const a=t.board;a.sm.enable("isPlayerTurn"),a.sm.setState("castBg",{card:r})}))}getUsersPool(e){return Object(s.a)(this,void 0,void 0,(function*(){if(!e)throw new Error("Cannot call Profile.getUsersPool without an http messenger!");return yield e.get("/pool",9e3)}))}register(e,t){return Object(s.a)(this,void 0,void 0,(function*(){try{if(!e.values.isPlayer)return;const r=t.email,n=t.password;if(!t.httpMessenger)throw new Error("Cannot call Profile.register without an http messenger!");const i=new c;i.fromEmail(r,n),yield t.httpMessenger.post("/user/register",{token:i.jwt.toString()}),e.events.emit("authBg",t)}catch(r){ne.toast("Error: Make sure your email is properly formatted and that (1) Your password is longer than eight caracters. (2) It contains, at least, a number, a lowercase letter, an uppercase letter and a symbol.",7e3)}finally{e.events.emit("registerFn",{})}}))}auth(e,t){return Object(s.a)(this,void 0,void 0,(function*(){try{if(!e.values.isPlayer)return;const r=t.email,n=t.password;if(!t.httpMessenger)throw new Error("Cannot call Profile.register without an http messenger!");const i=new c;i.fromEmail(r,n);const o=yield t.httpMessenger.post("/user/auth",{token:i.jwt.toString()}),a=c.claimFromString(o.token);e.setValue("wallet",i),e.push("claims",a),localStorage.setItem("privateKey",e.values.wallet.privateKey),localStorage.setItem("auth-token",a.toString())}catch(r){ne.toast(r.message)}finally{e.events.emit("authFn",{}),window.location.reload()}}))}getBalance(){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.httpMessenger.get("/user/balance");return localStorage.setItem("balance",e.balance),this.sm.setValue("balance",e.balance),e.balance}))}getAlias(){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.httpMessenger.get("/user/alias");this.alias=e.alias,this.sm.setValue("alias",e.alias)}))}getExperience(){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.httpMessenger.get("/user/exp");return this.sm.setValue("exp",e.experience),this.sm.setValue("lvl",ne.getLevelFromExp(e.experience)),e.experience}))}getCards(){return Object(s.a)(this,void 0,void 0,(function*(){return yield this.httpMessenger.get("/user/cards/")}))}getInventory(){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.httpMessenger.get("/user/inventory/");this.sm.values.inventory=[];for(let t=0;t<e.length;t++){const r=e[t];r.data=JSON.parse(r.data),this.sm.values.inventory.push(r),"avatar"===r.type&&1===r.active&&(this.sm.values.avatar=r.data.url),"deck"===r.type&&1===r.active&&(this.sm.values.activeDeck.title=r.title,this.sm.values.activeDeck.cards=r.data.cards,this.sm.values.activeDeck.dice=r.data.dice)}return e}))}getDice(){return Object(s.a)(this,void 0,void 0,(function*(){return yield this.httpMessenger.get("/user/dice/")}))}mintCoinBg(e,t){return Object(s.a)(this,void 0,void 0,(function*(){if(!e.values.isPlayer||e.values.isBusy)return;const r=yield t.httpMessenger.post("/tx/",{tx:{from:e.values.wallet.address,to:e.values.wallet.address,resource:"coin",value:1e3},token:localStorage.getItem("auth-token")});localStorage.setItem("balance",r.balance),e.setValue("balance",r.balance),this.sm=e}))}purchaseBg(e,t){return Object(s.a)(this,void 0,void 0,(function*(){if(!e.values.isPlayer||e.values.isBusy)return;if(e.values.balance<300)return ne.toast("Insufficient coins");const r=yield t.httpMessenger.post("/tx/",{tx:{from:this.sm.values.wallet.address,to:ne.SYSTEM_WALLET,resource:"coin",tag:"booster-pack",value:300},token:localStorage.getItem("auth-token")}),n={cards:[],dice:[]};for(let e=0;e<r.cards.length;e++){const i=r.cards[e],o=c.claimFromString(i),a=t.profile.cards.getByHash(o.payload.card);n.cards.push(a),a.sm.setState("gainOwnership-"+o.payload.card,{token:i,claim:o,profile:t.profile})}for(let e=0;e<r.dice.length;e++){const i=r.dice[e],o=c.claimFromString(i),a=t.profile.dice.getByHash(o.payload.dice);n.dice.push(a),a.sm.setState("gainOwnership-"+o.payload.dice,{token:i,claim:o,profile:t.profile})}e.events.emit("purchaseFn",{cards:n.cards,dice:n.dice})}))}grantCards(e,t){return Object(s.a)(this,void 0,void 0,(function*(){return e.post("/grant/cards",{cards:t,token:localStorage.getItem("auth-token")})}))}grantDice(e,t){return Object(s.a)(this,void 0,void 0,(function*(){return e.post("/grant/dice",{dice:t,token:localStorage.getItem("auth-token")})}))}postDeck(e,t="DEFAULT",r={cards:[],dice:[]},n=0){return Object(s.a)(this,void 0,void 0,(function*(){try{yield e.post("/tx/",{tx:{from:this.sm.values.wallet.address,to:ne.SYSTEM_WALLET,tag:"inventory",resource:"none",value:{item:{active:n,type:"deck",title:t,deck:r}}},token:localStorage.getItem("auth-token")})}catch(i){}}))}getWinExp(){return Object(s.a)(this,void 0,void 0,(function*(){let e=Math.pow(this.sm.values.lvl,2);return e<1&&(e=1),e}))}getLosExp(){return Object(s.a)(this,void 0,void 0,(function*(){return 1}))}loadActiveDeck(){if(!this.sm)return;console.log("INITIALIZING ACTIVE DECK");const e=this.cardsCaboodle.getFiltered("isInDeck",!0);for(let i=0;i<e.length;i++)e[i]&&e[i].sm.disable("isInDeck");const t=this.sm.values.activeDeck.cards;if(t){const e=[];for(let r=0;r<t.length;r++)e.push(this.cardsCaboodle.items.filter(e=>e.hash===t[r].hash)[0]);for(let t=0;t<e.length;t++)e[t]&&e[t].sm.events.emit("addToDeck-"+e[t].hash,{card:e[t],profile:this})}const r=this.diceCaboodle.getFiltered("isInDeck",!0);for(let i=0;i<r.length;i++)r[i]&&r[i].sm.disable("isInDeck");const n=this.sm.values.activeDeck.dice;if(n){const e=[];for(let t=0;t<n.length;t++)e.push(this.diceCaboodle.items.filter(e=>e.hash===n[t].hash)[0]);for(let t=0;t<e.length;t++)e[t]&&e[t].sm.events.emit("addToDeck-"+e[t].hash,{})}}}const Ae={version:"ALPHA-13",apiServers:[{url:"https://api.diceguardians.xyz"}],signalingServers:[{host:"localhost",port:9e3,path:"/p2p",key:"dice-guardians"}]};class Te{constructor(e){this.httpClient=e,this.url=Ae.apiServers[0].url}get(e,t=5e3){return new Promise((t,r)=>{const n=localStorage.getItem("auth-token");n&&(e=e+"?token="+n),this.httpClient.get(this.url+e).subscribe(e=>{t(e)},e=>{r(e)})})}getUrl(e){return new Promise((t,r)=>{this.httpClient.get(e).subscribe(e=>{t(e)},e=>{r(e)})})}post(e,t={},r=""){return new Promise((n,i)=>{""===r&&(r=this.url),this.httpClient.post(r+e,t).subscribe(e=>{n(e)},e=>{i(e)})})}}var Re=r("oLy0"),Ie=r.n(Re);class Ne{constructor(e,t,r,n){this.from=e,this.to=t,this.payload=r,this.ts=n||Date.now()}toString(){const e=JSON.stringify(this);return ne.base64.encode(e)}}class Be{constructor(e,t,r="",n=0){this.tmpAddress="",this.peerId="",this.peerInitialized=!1,this.events=t,this.board=e,this.sm=new oe(this.events,{gameHash:""}),this.initializeStateMachine();const i=localStorage.getItem("auth-token");let o="";if(i){const e=new c,t=c.claimFromString(i);e.fromPrivateKey(localStorage.getItem("privateKey"),t.payload.email),this.wallet=e,o=e.address}0===o.length&&(o=Date.now().toString(16));const a=ne.getHash(o+Date.now().toString(16));this.sm.setValue("gameHash",a),this.tmpAddress=a,this.peer=new Ie.a(a+"_"+r+"_"+n,{host:Ae.signalingServers[0].host,port:Ae.signalingServers[0].port,path:Ae.signalingServers[0].path,key:Ae.signalingServers[0].key}),this.peer.on("error",e=>{}),this.peer.on("connection",e=>{0===this.peerId.length&&(this.connectToPeer(e.peer),this.peerId=e.peer),e.send("open"),e.on("data",e=>{const t=JSON.parse(ne.base64.decode(e)),r=new Ne(t.from,t.to,t.payload,t.ts);this.on(r)}),e.on("open",()=>{})})}action(e){if(console.log("action stanza",e),"turnFn"===e.payload.action.type){const e=new je("turnFn",{opponent:this.board.players.red,player:this.board.players.blue,isPlayer:!1,board:this.board});this.board.game.performAction(e)}}on(e){if("action"===e.payload.method)return this.action(e);e.payload.handshake&&this.sm.setState("handshakeBg",{stanza:e}),"castFn"===e.payload.type&&this.sm.events.emit("castFn",{cell:e.payload.cell,card:e.payload.card})}connectToPeer(e){return Object(s.a)(this,void 0,void 0,(function*(){return new Promise((t,r)=>{if(this.connection||this.peerInitialized)return t();this.peerInitialized=!0,this.connection=this.peer.connect(e),this.connection.on("open",()=>{const r=new Ne(this.wallet.address,e,{handshake:!0,address:this.board.players.red.sm.values.address,deck:this.board.players.red.sm.values.activeDeck});this.connection.send(r.toString()),t()})})}))}initializeStateMachine(){this.sm.addState("startTurn",{}),this.sm.addState("challengeBg",{},(e,t)=>{if(!this.connection||!this.peerInitialized){this.connectToPeer(t.address);const e=new Ne(this.wallet.address,t.address,{handshake:!0,deck:this.board.players.red.sm.values.activeDeck});this.connection.send(e.toString())}}),this.sm.addState("handshakeBg",{},(e,t)=>{const r=this.board.players.blue;r.sm.values.isCPU&&(r.dice=this.board.players.red.dice,r.sm.disable("isCPU"),r.sm.disable("isP2P"),r.initializeStateMachine()),t.gameType="P2P";const n=[];for(let s=0;s<t.stanza.payload.deck.dice.length;s++)n.push(r.dice.getFiltered("originalHash",t.stanza.payload.deck.dice[s].originalHash)[0]);for(let s=0;s<n.length;s++)n[s]&&n[s].sm.setState("gainOwnership-"+n[s].hash,{profile:r,token:"P2P_TOKEN",claim:{payload:{user:"0XTOKEN",rel_id:ne.getRandomInt(1e5)}}});const i=r.diceCaboodle.getFiltered("isOwned",!0);for(let s=0;s<i.length;s++)i[s].sm.enable("isInDeck");const o=[];for(let s=0;s<t.stanza.payload.deck.cards.length;s++)o.push(r.cards.getFiltered("originalHash",t.stanza.payload.deck.cards[s].originalHash)[0]);for(let s=0;s<o.length;s++)o[s]&&o[s].sm.setState("gainOwnership-"+o[s].hash,{profile:r,token:"P2P_TOKEN",claim:{payload:{user:"0XTOKEN",rel_id:ne.getRandomInt(1e5)}}});const a=r.cardsCaboodle.getFiltered("isOwned",!0);for(let s=0;s<a.length;s++)a[s].sm.enable("isInDeck");console.log("ownedDice",i),e.events.emit("handshakeFn",{gameType:"P2P",blue:r})}),this.sm.addState("castFn",{},(e,t)=>{const r=new Ne(this.wallet.address,this.connection.id,{type:"castFn",card:e.values.currentCard.originalHash,cell:t.cell.key});this.connection.send(r.toString())})}}const De={castBg:"Cast",rollDiceBg:"Roll your dice",turnFn:"End Turn",moveBg:"Move",battleBg:"Battle",rollDiceBgInfo:"Select 3 dice",viewDeck:"View Deck",moveStp:"Cancel Move",battleStp:"Cancel Battle",abilityBg:"Activate Ability"};class je{constructor(e,t){this.type=e,this.text=De[this.type],this.source=t}execute(e){return Object(s.a)(this,void 0,void 0,(function*(){const e=this.source.player||this.source.profile;if(e.p2p){const t=new Ne(e.p2p.tmpAddress,e.peerId,{method:"action",action:{type:this.type}});e.p2p.connection.send(t.toString())}if(e.sm.enable("isActionActive"),e.sm.setValue("activeAction",this),"gameBg"===this.type&&(this.source.board.sm.enable("isGameReady"),this.source.board.sm.enable("isGameStarted"),this.source.board.sm.disable("isGameEnded"),this.source.red.sm.values.isPlayer?(this.source.board.sm.enable("isPlayerTurn"),this.source.board.sm.disable("isRivalTurn")):(this.source.board.sm.disable("isPlayerTurn"),this.source.board.sm.enable("isRivalTurn")),this.source.red.sm.enable("isPlaying"),this.source.red.sm.setState("gameBg",{game:this.source.game}),this.source.blue.sm.setState("gameBg",{game:this.source.game}),this.source.player.sm.setState("turnBg"),this.source.player.sm.disable("isActionActive"),this.source.opponent.sm.enable("isActionActive")),"turnBg"===this.type){e.sm.disable("isActionActive"),this.source.player.energyPool.sm.enable("canMint"),this.source.player.sm.enable("canRoll"),this.source.player.sm.enable("canCast"),this.source.game.board.sm.setValue("cellsLeft",0),this.source.game.board.sm.setValue("moveCount",-1),this.source.game.board.sm.setValue("moveDistance",-1),this.source.player.sm.setState("turnBg",{game:this.source.game}),this.source.player.sm.enable("isActiveTurn");const t=this.source.player.cardsCaboodle.getFiltered("isOnBoard",!0);for(let e=0;e<t.length;e++)t[e].sm.enable("canMove"),t[e].sm.enable("canBattle"),t[e].sm.values.status.active&&t[e].sm.values.status.activate(t[e].sm.values.status.name);const r=this.source.player.cardsCaboodle.items.filter(e=>e.cooldown!==e.sm.values.cooldown);for(let e=0;e<r.length;e++){const t=r[e];t.sm.increase("cooldown"),t.sm.disable("canCast"),t.sm.values.cooldown===t.cooldown&&(t.sm.setValue("vit",t.vit),t.sm.enable("canCast"))}}if("abilityBg"===this.type&&(this.source.player.energyPool.sm.decrease(this.source.ability.attribute,this.source.ability.cost),yield this.source.ability.activate([this.source.card],this.source.player.cardsCaboodle.getFiltered("isOnBoard",!0)),this.source.player.sm.disable("isActionActive")),"turnFn"===this.type&&(this.source.player.energyPool.sm.disable("canMint"),this.source.player.sm.disable("canRoll"),this.source.player.sm.disable("canCast"),this.source.player.sm.disable("isActiveTurn"),this.source.board.sm.setValue("isPlayerTurn",this.source.isPlayer)),"rollDiceBg"===this.type){const e=this.source.dice;for(let t=0;t<e.length;t++)e[t].sm.setState("rollBg-"+e[t].sm.values.hash,{player:this.source.player});this.source.player.sm.disable("canRoll")}if("castBg"===this.type&&this.source.board.sm.setState("castBg",{card:this.source.card,board:this.source.board,profile:this.source.profile}),"moveBg"===this.type&&this.source.board.sm.setState("moveBg",{card:this.source.card}),"moveStp"===this.type){const e=this.source.board.sm.values.moveCount;e===this.source.action.source.card.mov||e<0?this.source.action.source.card.sm.enable("canMove"):(this.source.action.source.card.sm.disable("canMove"),this.source.board.sm.setValue("moveCount",-1),this.source.board.sm.setValue("moveDistance",-1)),this.source.action.source.card.sm.disable("isMoving"),this.source.player.sm.disable("isActionActive"),this.source.board.sm.events.emit("clearPossibles",{}),this.source.board.sm.setState("clearPossibles"),this.source.board.getCellByKey(this.source.action.source.card.sm.values.cellKey).sm.values.classes.push("creature")}"battleBg"===this.type&&this.source.board.sm.setState("battleBg",{card:this.source.card}),"battleStp"===this.type&&(this.source.action.source.card.sm.enable("canBattle"),this.source.action.source.board.sm.disable("isBattling"),this.source.player.sm.disable("isActionActive"),this.source.board.sm.events.emit("clearPossibles",{}),this.source.board.sm.setState("clearPossibles"),this.source.lockBattle&&this.source.action.source.card.sm.disable("canBattle")),"viewDeck"===this.type&&this.source.board.sm.enable("viewDeck")}))}}class Le{constructor(e,t,r,n=!1){this.history=[],console.log("GAME INIT, should i start?",n),this.red=e,this.blue=t,this.board=r,this.board.players.red=e,this.board.players.blue=t;let i=new je("gameBg",{red:e,blue:t,board:r,player:t,opponent:e,game:this}),o=new je("turnBg",{player:t,game:this});n&&(i=new je("gameBg",{red:e,blue:t,board:r,player:e,opponent:t,game:this}),o=new je("turnBg",{player:e,game:this})),this.performAction(i),this.performAction(o)}getActions(e,t=!1){const r=[];if(e.sm.values.isActionActive&&"viewDeck"!==e.sm.values.activeAction.type){const t=e.sm.values.activeAction;return"moveBg"===t.type&&r.push(new je("moveStp",{action:t,player:e,board:this.board})),"battleBg"===t.type&&r.push(new je("battleStp",{action:t,board:this.board,player:e})),r}const n={},i=e.cardsCaboodle.items;for(let p=0;p<i.length;p++)i[p].sm.disable("canBeCasted"),i[p].sm.values.actions.splice(0,i[p].sm.values.actions.length);const o=e.diceCaboodle.getFiltered("isSelected",!0);if(3===o.length&&e.sm.values.canRoll){const t=new je("rollDiceBg",{dice:o,player:e});r.push(t)}else if(e.sm.values.canRoll&&o.length<3){const t=new je("rollDiceBgInfo",{player:e});r.push(t)}const a=[],s=e.energyPool.sm.values.attributes;for(let p=0;p<s.length;p++)e.energyPool.sm.values[s[p]]>0&&a.push({attribute:s[p],value:e.energyPool.sm.values[s[p]]});if(a.length>0){const r=e.cardsCaboodle.getFiltered("isInDeck",!0).filter(t=>{for(let r=0;r<a.length;r++)if(!t.sm.values.isOnBoard&&e.sm.values.canCast&&a[r].attribute===t.attribute&&a[r].value>=t.cost)return!0});for(let i=0;i<r.length;i++){if(r[i].sm.values.cooldown<r[i].cooldown)continue;const o=new je("castBg",{board:this.board,card:r[i],profile:e,player:e});r[i].sm.push("actions",o),t||(n[r[i].hash]||(n[r[i].hash]=[]),n[r[i].hash].push(o))}}const c=e.cardsCaboodle.getFiltered("canMove",!0);for(let p=0;p<c.length;p++){if(c[p].sm.values.mov<1)continue;const r=new je("moveBg",{card:c[p],board:this.board,player:e});c[p].sm.push("actions",r),t||(n[c[p].hash]||(n[c[p].hash]=[]),n[c[p].hash].push(r))}const l=e.cardsCaboodle.getFiltered("canBattle",!0);for(let p=0;p<l.length;p++){const r=new je("battleBg",{card:l[p],board:this.board,player:e});let i=this.board.players.red,o=this.board.players.blue;this.board.sm.values.isPlayerTurn&&(i=this.board.players.blue,o=this.board.players.red);const a=i.cardsCaboodle.getFiltered("isOnBoard",!0),s=l[p],c=[];for(let t=0;t<a.length;t++){if(a[t].sm.values.clans.includes("Hex"))continue;var u={x:parseInt(a[t].sm.values.cellKey.split(":")[0]),y:parseInt(a[t].sm.values.cellKey.split(":")[1])};const r=this.board.getCell(u.x,u.y);u={x:parseInt(s.sm.values.cellKey.split(":")[0]),y:parseInt(s.sm.values.cellKey.split(":")[1])};const n=this.board.getCell(u.x,u.y);n&&r&&ne.getCellDistance(n,r)<=s.sm.values.rng&&0===e.cardsCaboodle.items.filter(e=>e.hash===a[t].hash).length&&c.push(a[t])}c.length>0&&(l[p].sm.push("actions",r),t||(n[l[p].hash]||(n[l[p].hash]=[]),n[l[p].hash].push(r)))}const f=Object.values(n);for(let p=0;p<f.length;p++)r.push(new je("card",{card:f[p][0].source.card,actions:f[p],player:e}));const d=e.cardsCaboodle.getFiltered("isInDeck",!0).filter(e=>e.sm.values.abilities.length>0);for(let p=0;p<d.length;p++)for(let r=0;r<d[p].sm.values.abilities.length;r++){const i=this.board.abilityCollection.get(d[p].sm.values.abilities[r]);if(!i||0===i.cost||e.energyPool.sm.values[i.attribute]<i.cost||!d[p].sm.values.isOnBoard)continue;const o=new je("abilityBg",{card:d[p],board:this.board,player:e,ability:i});d[p].sm.push("actions",o),t||(n[d[p].hash]||(n[d[p].hash]=[]),n[d[p].hash].push(o))}let h;if(this.red===e){h=new je("turnFn",{player:e,opponent:this.blue,isPlayer:!1,board:this.board});const t=new je("viewDeck",{profile:e,board:this.board});r.push(t)}else h=new je("turnFn",{opponent:e,player:this.blue,isPlayer:!0,board:this.board});return r.push(h),r}performAction(e,t={}){if(this.history.push(e),e.execute(t),new be("tap"),"turnFn"===e.type){const t=new je("turnBg",{player:e.source.opponent,game:this});this.performAction(t)}}}var Fe=r("4/ot"),ze=r.t(Fe,2),Ue=r("5Eph"),Ke=r.t(Ue,2),He=r("F1V6");let qe=ze;Fe&&(qe=Fe);let Ge=Ke;Ue&&(Ge=Ue);let Ve=r.t(He,2);He&&(Ve=He);const We=new class extends u.a.EventEmitter{constructor(){super(),this.keys={},this.setMaxListeners(7e4)}keyExists(e){return this.keys[e]}addKey(e){e&&!this.keyExists(e)&&e.length>0&&(this.keys[e]=!0)}emit(e,t){this.addKey(e),super.emit(e,t)}on(e,t){this.addKey(e),super.on(e,e=>{t(e)})}};_e.preset(We),Ee.preset(We);var Ye=r("fXoL"),Je=r("tk/3");function Ze(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",4),Ye.Wb("dblclick",(function(){Ye.ic(e);const t=Ye.Yb().$implicit;return Ye.Yb().recycle(t)})),Ye.Ob(1,"div",5),Ye.Mb(2,"ion-img",6),Ye.Nb(),Ye.Ob(3,"div",7),Ye.oc(4),Ye.Nb(),Ye.Ob(5,"div",8),Ye.oc(6),Ye.Nb(),Ye.Nb()}if(2&e){const e=Ye.Yb().$implicit,t=Ye.Yb();Ye.zb(2),Ye.cc("src",t.util.getDiceFace(e)),Ye.zb(2),Ye.qc(" ",t.profile.energyPool.sm.values[e]," "),Ye.zb(2),Ye.qc(" ",e," ")}}function Xe(e,t){if(1&e&&(Ye.Ob(0,"div",2),Ye.nc(1,Ze,7,3,"div",3),Ye.Nb()),2&e){const e=t.$implicit,r=Ye.Yb();Ye.zb(1),Ye.bc("ngIf",r.profile.energyPool.sm.values[e]>0)}}let $e=(()=>{class e{constructor(){this.util=ne}ngOnInit(){}recycle(e){if(!this.board.sm.values.isPlayerTurn)return;if(this.profile.alias!==this.board.players.red.alias)return;const t=this.profile.energyPool.sm.values[e];this.profile.energyPool.sm.setValue(e,0),this.profile.energyPool.sm.setState("mintBg",{attribute:"neutral",value:t})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ye.Fb({type:e,selectors:[["app-energy-pool"]],inputs:{profile:"profile",board:"board"},decls:2,vars:1,consts:[[1,"container"],["class","attribute-outer",4,"ngFor","ngForOf"],[1,"attribute-outer"],["class","energy-item",3,"dblclick",4,"ngIf"],[1,"energy-item",3,"dblclick"],[1,"energy-icon"],[3,"src"],[1,"energy-value"],[1,"energy-name"]],template:function(e,t){1&e&&(Ye.Ob(0,"div",0),Ye.nc(1,Xe,2,1,"div",1),Ye.Nb()),2&e&&(Ye.zb(1),Ye.bc("ngForOf",t.profile.energyPool.sm.values.attributes))},directives:[n.i,n.j],styles:[".energy-pool[_ngcontent-%COMP%]{flex-wrap:wrap;position:relative;margin:5px 0}.container[_ngcontent-%COMP%], .energy-pool[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{height:100%;flex-direction:column}.energy-icon[_ngcontent-%COMP%]{width:64px}.energy-item[_ngcontent-%COMP%]{background-color:#000;display:flex;justify-content:center;align-items:center;position:relative;margin:15px 0;border-radius:5px 5px 0 0}.energy-value[_ngcontent-%COMP%]{font-size:32px}.energy-name[_ngcontent-%COMP%]{position:absolute;height:25px;bottom:-25px;font-size:.8em;background-color:#000;text-align:center;width:100%;padding:3px 0;border-radius:0 0 5px 5px}"]}),e})();function Qe(e,t){if(1&e&&(Ye.Ob(0,"div",5),Ye.Mb(1,"div",6),Ye.Mb(2,"div",7),Ye.Mb(3,"div",8),Ye.Mb(4,"div",9),Ye.Mb(5,"div",10),Ye.Mb(6,"div",11),Ye.Nb()),2&e){const e=Ye.Yb();Ye.Bb("dice dice-",e.dice.sm.values.activeFace,""),Ye.dc("id","dice-",e.dice.sm.values.hash,""),Ye.zb(1),Ye.mc("\n            background-color:",e.dice.color,";\n            background-image:url('",e.util.getDiceFace(e.dice.faces[0]),"')\n          "),Ye.zb(1),Ye.mc("\n          background-color:",e.dice.color,";\n          background-image:url('",e.util.getDiceFace(e.dice.faces[1]),"')\n          "),Ye.zb(1),Ye.mc("\n          background-color:",e.dice.color,";\n          background-image:url('",e.util.getDiceFace(e.dice.faces[2]),"')\n          "),Ye.zb(1),Ye.mc("\n          background-color:",e.dice.color,";\n          background-image:url('",e.util.getDiceFace(e.dice.faces[3]),"')\n          "),Ye.zb(1),Ye.mc("\n          background-color:",e.dice.color,";\n          background-image:url('",e.util.getDiceFace(e.dice.faces[4]),"')\n          "),Ye.zb(1),Ye.mc("\n          background-color:",e.dice.color,";\n          background-image:url('",e.util.getDiceFace(e.dice.faces[5]),"')\n          ")}}function et(e,t){if(1&e&&(Ye.Ob(0,"div",12),Ye.oc(1),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(1),Ye.qc(" x",e.dice.sm.values.copiesNumber," ")}}let tt=(()=>{class e{constructor(){this.collectionCounterVisible=!1,this.util=ne,this.dom=!1}assignDom(){this.dom||(this.dom=document.querySelector("#dice-info-"+this.dice.hash))}ngOnInit(){this.assignDom()}mouseOverToggle(){this.assignDom(),this.dom.classList.toggle("visible")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ye.Fb({type:e,selectors:[["app-dice"]],inputs:{dice:"dice",collectionCounterVisible:"collectionCounterVisible"},decls:10,vars:27,consts:[[1,"view",3,"mouseover","mouseout"],[3,"class","id",4,"ngIf"],["class","copies-number",4,"ngIf"],[1,"dice-info",3,"id"],[3,"src"],[3,"id"],[1,"diceFace","front"],[1,"diceFace","right"],[1,"diceFace","back"],[1,"diceFace","left"],[1,"diceFace","top"],[1,"diceFace","bottom"],[1,"copies-number"]],template:function(e,t){1&e&&(Ye.Ob(0,"div",0),Ye.Wb("mouseover",(function(){return t.mouseOverToggle()}))("mouseout",(function(){return t.mouseOverToggle()})),Ye.nc(1,Qe,7,28,"div",1),Ye.nc(2,et,2,1,"div",2),Ye.Nb(),Ye.Ob(3,"div",3),Ye.Mb(4,"ion-img",4),Ye.Mb(5,"ion-img",4),Ye.Mb(6,"ion-img",4),Ye.Mb(7,"ion-img",4),Ye.Mb(8,"ion-img",4),Ye.Mb(9,"ion-img",4),Ye.Nb()),2&e&&(Ye.zb(1),Ye.bc("ngIf",t.dice),Ye.zb(1),Ye.bc("ngIf",t.collectionCounterVisible),Ye.zb(1),Ye.dc("id","dice-info-",t.dice.hash,""),Ye.zb(1),Ye.lc("background-color:",t.dice.color,""),Ye.cc("src",t.util.getDiceFace(t.dice.faces[0])),Ye.zb(1),Ye.lc("background-color:",t.dice.color,""),Ye.cc("src",t.util.getDiceFace(t.dice.faces[1])),Ye.zb(1),Ye.lc("background-color:",t.dice.color,""),Ye.cc("src",t.util.getDiceFace(t.dice.faces[2])),Ye.zb(1),Ye.lc("background-color:",t.dice.color,""),Ye.cc("src",t.util.getDiceFace(t.dice.faces[3])),Ye.zb(1),Ye.lc("background-color:",t.dice.color,""),Ye.cc("src",t.util.getDiceFace(t.dice.faces[4])),Ye.zb(1),Ye.lc("background-color:",t.dice.color,""),Ye.cc("src",t.util.getDiceFace(t.dice.faces[5])))},directives:[n.j],styles:[".view[_ngcontent-%COMP%]{margin:0;perspective:150px}.dice[_ngcontent-%COMP%], .view[_ngcontent-%COMP%]{width:50px;height:50px}.dice[_ngcontent-%COMP%]{position:relative;transform-style:preserve-3d;transition:transform .5s}@-webkit-keyframes infiniteRoll{to{transform:rotateY(1turn) rotateX(-1turn)}}@keyframes infiniteRoll{to{transform:rotateY(1turn) rotateX(-1turn)}}.dice-rolling[_ngcontent-%COMP%]{-webkit-animation:infiniteRoll .7s linear infinite;animation:infiniteRoll .7s linear infinite}.dice-rolling-slow[_ngcontent-%COMP%]{-webkit-animation:infiniteRoll 1.5s linear infinite;animation:infiniteRoll 1.5s linear infinite}.dice-front[_ngcontent-%COMP%]{transform:rotateY(1turn)!important}.dice-right[_ngcontent-%COMP%]{transform:rotateY(-90deg)!important}.dice-back[_ngcontent-%COMP%]{transform:rotateY(180deg)!important}.dice-left[_ngcontent-%COMP%]{transform:rotateY(90deg)!important}.dice-top[_ngcontent-%COMP%]{transform:rotateX(-90deg)!important}.dice-bottom[_ngcontent-%COMP%]{transform:rotateX(90deg)!important}.btnFront[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateY(1turn)!important}.btnRight[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateY(-90deg)!important}.btnBack[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateY(180deg)!important}.btnLeft[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateY(90deg)!important}.btnTop[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateX(-90deg)!important}.btnBottom[_ngcontent-%COMP%]:checked ~ .view[_ngcontent-%COMP%] > .dice[_ngcontent-%COMP%]{transform:rotateX(90deg)!important}.diceFace[_ngcontent-%COMP%]{position:absolute;width:50px;height:50px;overflow:hidden;text-align:center;line-height:50px;font-size:1.2em;border:2px solid #fff;background-size:cover}.front[_ngcontent-%COMP%]{background-color:rgba(255,0,0,.6);transform:rotateY(0deg) translateZ(25px)}.right[_ngcontent-%COMP%]{background-color:rgba(0,255,0,.6);transform:rotateY(90deg) translateZ(25px)}.back[_ngcontent-%COMP%]{background-color:rgba(255,255,0,.6);transform:rotateY(180deg) translateZ(25px)}.left[_ngcontent-%COMP%]{background-color:rgba(255,0,255,.6);transform:rotateY(-90deg) translateZ(25px)}.top[_ngcontent-%COMP%]{background-color:rgba(0,255,255,.6);transform:rotateX(90deg) translateZ(25px)}.bottom[_ngcontent-%COMP%]{transform:rotateX(-90deg) translateZ(25px)}span[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;margin:3px;background-color:#0aa;border:2px inset #dd0}.test[_ngcontent-%COMP%]:checked + .test2[_ngcontent-%COMP%]{display:block;width:80px;background-color:#0aa}input[type=radio][_ngcontent-%COMP%]{transform:scale(2);margin:10px;color:red}.copies-number[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;width:100%;height:100%;color:#fff;font-size:2em;background-color:rgba(0,0,0,.3);text-shadow:0 0 3px #000}.copies-number[_ngcontent-%COMP%], .dice-info[_ngcontent-%COMP%]{justify-content:center;align-items:center}.dice-info[_ngcontent-%COMP%]{position:fixed;bottom:10px;left:calc(50% - 150px);width:300px;height:200px;display:flex;flex-wrap:wrap;background-color:#000;border-radius:5px;border:1px solid #343434;z-index:9.999999999999998e+37;display:none}.dice-info[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:64px;height:64px;border:1px solid #fff;margin:10px}.dice-info.visible[_ngcontent-%COMP%]{display:flex}"]}),e})();function rt(e,t){if(1&e&&(Ye.Ob(0,"div",13),Ye.Mb(1,"ion-img",14),Ye.Ob(2,"div",3),Ye.oc(3),Ye.Nb(),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(3),Ye.pc(e.card.sm.values.vit)}}function nt(e,t){if(1&e&&(Ye.Ob(0,"div",15),Ye.Mb(1,"ion-img",16),Ye.Ob(2,"div",3),Ye.oc(3),Ye.Nb(),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(3),Ye.pc(e.card.sm.values.mov)}}function it(e,t){if(1&e&&(Ye.Ob(0,"div",17),Ye.Mb(1,"ion-img",18),Ye.Ob(2,"div",3),Ye.oc(3),Ye.Nb(),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(3),Ye.pc(e.card.sm.values.btl)}}function ot(e,t){if(1&e&&(Ye.Ob(0,"div",19),Ye.oc(1),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(1),Ye.pc(e.numberCopies)}}function at(e,t){if(1&e&&(Ye.Ob(0,"div"),Ye.Ob(1,"span"),Ye.oc(2,"Clans: "),Ye.Nb(),Ye.oc(3),Ye.Nb()),2&e){const e=Ye.Yb(2);Ye.zb(3),Ye.pc(e.card.clans.join(", "))}}function st(e,t){if(1&e&&(Ye.Ob(0,"div"),Ye.Ob(1,"span"),Ye.oc(2,"Abilities: "),Ye.Nb(),Ye.oc(3),Ye.Nb()),2&e){const e=Ye.Yb(2);Ye.zb(3),Ye.pc(e.card.abilities.join(", "))}}function ct(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",20),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().clickAction()})),Ye.Ob(1,"div",21),Ye.Ob(2,"div",22),Ye.Ob(3,"div"),Ye.Ob(4,"span"),Ye.oc(5,"Name: "),Ye.Nb(),Ye.oc(6),Ye.Nb(),Ye.nc(7,at,4,1,"div",23),Ye.Ob(8,"div"),Ye.Ob(9,"span"),Ye.oc(10,"Attribute: "),Ye.Nb(),Ye.oc(11),Ye.Ob(12,"div",24),Ye.Mb(13,"ion-img",5),Ye.Nb(),Ye.Nb(),Ye.Nb(),Ye.Nb(),Ye.Ob(14,"div",25),Ye.Mb(15,"ion-img",26),Ye.Nb(),Ye.nc(16,st,4,1,"div",23),Ye.Ob(17,"div",21),Ye.Ob(18,"div",27),Ye.Ob(19,"div"),Ye.Ob(20,"span"),Ye.oc(21,"BTL: "),Ye.Nb(),Ye.oc(22),Ye.Nb(),Ye.Ob(23,"div"),Ye.Ob(24,"span"),Ye.oc(25,"RNG: "),Ye.Nb(),Ye.oc(26),Ye.Nb(),Ye.Nb(),Ye.Ob(27,"div",27),Ye.Ob(28,"div"),Ye.Ob(29,"span"),Ye.oc(30,"Cost: "),Ye.Nb(),Ye.oc(31),Ye.Nb(),Ye.Ob(32,"div"),Ye.Ob(33,"span"),Ye.oc(34,"Cooldown: "),Ye.Nb(),Ye.oc(35),Ye.Nb(),Ye.Nb(),Ye.Ob(36,"div",27),Ye.Ob(37,"div"),Ye.Ob(38,"span"),Ye.oc(39,"MOV: "),Ye.Nb(),Ye.oc(40),Ye.Nb(),Ye.Ob(41,"div"),Ye.Ob(42,"span"),Ye.oc(43,"VIT: "),Ye.Nb(),Ye.oc(44),Ye.Nb(),Ye.Nb(),Ye.Nb(),Ye.Nb()}if(2&e){const e=Ye.Yb();Ye.dc("id","card-info-",e.card.hash,""),Ye.zb(6),Ye.pc(e.card.title),Ye.zb(1),Ye.bc("ngIf",e.card.clans.length>0),Ye.zb(4),Ye.qc(" ",e.card.attribute," "),Ye.zb(2),Ye.cc("src",e.util.getDiceFace(e.card.attribute)),Ye.zb(1),Ye.lc("background-image:url(",e.card.backgroundUrl,")"),Ye.zb(1),Ye.cc("src",e.card.battlerUrl),Ye.zb(1),Ye.bc("ngIf",e.card.abilities.length>0),Ye.zb(6),Ye.pc(e.card.btl),Ye.zb(4),Ye.pc(e.card.rng),Ye.zb(5),Ye.pc(e.card.cost),Ye.zb(4),Ye.pc(e.card.cooldown),Ye.zb(5),Ye.pc(e.card.mov),Ye.zb(4),Ye.pc(e.card.vit)}}let lt=(()=>{class e{constructor(){this.numberCopies=0,this.util=ne,this.dom=!1,this.hideTooltip=!1}ngOnInit(){}assignDom(){this.dom||(this.dom=document.querySelector("#card-info-"+this.card.hash))}clickAction(){return Object(s.a)(this,void 0,void 0,(function*(){this.board.sm.values.cardInDisplay=this.card}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ye.Fb({type:e,selectors:[["app-card-mini"]],inputs:{card:"card",numberCopies:"numberCopies",board:"board",hideTooltip:"hideTooltip"},decls:16,vars:11,consts:[[1,"container"],[1,"stat","cost","icon-bg"],["src","/assets/card-resources/sun.png"],[1,"stat-value"],[1,"stat","attribute"],[3,"src"],["class","stat vit icon-bg",4,"ngIf"],[1,"illustration",3,"src"],["class","stat mov icon-bg",4,"ngIf"],[1,"stat","view",3,"click"],["class","stat btl icon-bg",4,"ngIf"],["class","counter-overlay",4,"ngIf"],["class","card-info",3,"id","click",4,"ngIf"],[1,"stat","vit","icon-bg"],["src","/assets/card-resources/heart.png"],[1,"stat","mov","icon-bg"],["src","/assets/card-resources/boot.png"],[1,"stat","btl","icon-bg"],["src","/assets/card-resources/fist.png"],[1,"counter-overlay"],[1,"card-info",3,"id","click"],[1,"info-stats"],[1,"info-stat-col","full"],[4,"ngIf"],[1,"attribute-icon"],[1,"info-image"],[1,"info-illustration",3,"src"],[1,"info-stat-col"]],template:function(e,t){1&e&&(Ye.Ob(0,"div",0),Ye.Ob(1,"div",1),Ye.Mb(2,"ion-img",2),Ye.Ob(3,"div",3),Ye.oc(4),Ye.Nb(),Ye.Nb(),Ye.Ob(5,"div",4),Ye.Mb(6,"ion-img",5),Ye.Nb(),Ye.nc(7,rt,4,1,"div",6),Ye.Mb(8,"ion-img",7),Ye.nc(9,nt,4,1,"div",8),Ye.Ob(10,"div",9),Ye.Wb("click",(function(){return t.clickAction()})),Ye.Ob(11,"div",3),Ye.oc(12,"+"),Ye.Nb(),Ye.Nb(),Ye.nc(13,it,4,1,"div",10),Ye.nc(14,ot,2,1,"div",11),Ye.Nb(),Ye.nc(15,ct,45,16,"div",12)),2&e&&(Ye.lc("background-image:url(",t.card.backgroundUrl,");"),Ye.zb(4),Ye.pc(t.card.sm.values.cost),Ye.zb(2),Ye.cc("src",t.util.getDiceFace(t.card.attribute)),Ye.zb(1),Ye.bc("ngIf",!t.card.sm.values.clans.includes("Hex")&&!t.card.sm.values.clans.includes("Illusion")),Ye.zb(1),Ye.cc("src",t.card.battlerUrl),Ye.zb(1),Ye.bc("ngIf",!t.card.sm.values.clans.includes("Hex")&&!t.card.sm.values.clans.includes("Illusion")),Ye.zb(4),Ye.bc("ngIf",!t.card.sm.values.clans.includes("Hex")&&!t.card.sm.values.clans.includes("Illusion")),Ye.zb(1),Ye.bc("ngIf",t.numberCopies>0),Ye.zb(1),Ye.bc("ngIf",!t.hideTooltip))},directives:[n.j],styles:[".container[_ngcontent-%COMP%]{width:128px;height:128px;border:3px solid #dedede;margin:20px;position:relative;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   ion-img.illustration[_ngcontent-%COMP%]{width:70%;filter:drop-shadow(0 0 4px #dedede)}.container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{background-color:#232323;color:#fff;border:1px solid #fff;margin:5px;padding:5px}.container[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.5);width:100%;height:100%;border-radius:100%;display:flex;justify-content:center;text-shadow:0 0 3px #000}.card-info[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{color:#dedede;align-items:center}.card-info[_ngcontent-%COMP%]{position:fixed;top:calc(50vh - 300px);left:calc(50vw - 200px);width:400px;height:600px;display:flex;background-color:rgba(0,0,0,.9);border-radius:5px;border:1px solid #343434;z-index:999999999999999;justify-content:space-evenly;flex-direction:column;display:none}.card-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:900}.card-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center}.card-info[_ngcontent-%COMP%]   .info-illustration[_ngcontent-%COMP%]{width:256px;filter:drop-shadow(0 0 5px #dedede)}.card-info[_ngcontent-%COMP%]   .attribute-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:100%;border:1px solid #dedede;position:relative;top:-5px;left:10px;overflow:hidden}.card-info.visible[_ngcontent-%COMP%]{display:flex}.actions[_ngcontent-%COMP%]{width:100%;height:100%;top:0;left:-100%;justify-content:flex-start;align-items:flex-end;flex-direction:column;background-color:transparent;border:1px solid #fff;padding:10px}.actions[_ngcontent-%COMP%], .counter-overlay[_ngcontent-%COMP%]{position:absolute;display:flex}.counter-overlay[_ngcontent-%COMP%]{width:50%;height:50%;border-radius:100%;background-color:hsla(0,0%,100%,.3);color:#000;font-size:2em;justify-content:center;align-items:center}.mousover-overlay[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.info-stats[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.info-stat-col[_ngcontent-%COMP%], .info-stats[_ngcontent-%COMP%]{display:flex;align-items:center}.info-stat-col[_ngcontent-%COMP%]{width:30%;justify-content:center;flex-direction:column}.info-stat-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center}.info-stat-col.full[_ngcontent-%COMP%]{width:100%}.info-stat-col.full[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:5px 0}.info-image[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #fff}.stat[_ngcontent-%COMP%]{color:#000;background:none;border:none;position:absolute;width:48px;height:48px;border-radius:100%;background-size:cover;background-position:50%;font-size:1.2em}.stat[_ngcontent-%COMP%], .stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{z-index:1;width:100%;height:100%;font-size:1.3em}.cost[_ngcontent-%COMP%]{top:-16px;left:-16px}.mov[_ngcontent-%COMP%]{left:-16px}.btl[_ngcontent-%COMP%], .mov[_ngcontent-%COMP%]{bottom:-16px}.btl[_ngcontent-%COMP%]{right:-16px}.view[_ngcontent-%COMP%]{bottom:-16px;left:calc(50% - 16px);background-color:#fff;border-radius:100%;width:32px;height:32px;border:1px solid #000}.attribute[_ngcontent-%COMP%]{width:52px;height:52px;top:-24px;left:calc(50% - 26px);background-color:#000;border-radius:100%;border:1px solid #fff;overflow:hidden}.attribute[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:100%}.vit[_ngcontent-%COMP%]{top:-16px;right:-16px}.vit[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{position:relative;top:-3px}.icon-bg[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;filter:drop-shadow(0 0 3px black)}.stat.status[_ngcontent-%COMP%]{right:-16px;top:50%;background-color:purple}"]}),e})();function ut(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",28),Ye.Wb("click",(function(){Ye.ic(e);const r=t.$implicit,n=Ye.Yb(3);return r.sm.setState("clicked",{board:n.board,profile:n.board.players.red})})),Ye.Mb(1,"div",29),Ye.Mb(2,"div",30),Ye.Nb()}if(2&e){const e=t.$implicit;Ye.Cb("cell ",e.sm.values.classes.join(" ")," cell-x-",e.sm.values.x,"-y-",e.sm.values.y,"")}}const ft=function(e){return[e]};function dt(e,t){if(1&e&&(Ye.Ob(0,"div",26),Ye.nc(1,ut,3,5,"div",27),Ye.Nb()),2&e){const e=t.index,r=Ye.Yb().index,n=Ye.Yb();Ye.Bb("y-",e,""),Ye.zb(1),Ye.bc("ngForOf",Ye.fc(4,ft,n.board.getCell(r,e)))}}const ht=function(){return[]};function pt(e,t){if(1&e&&(Ye.Ob(0,"div",24),Ye.nc(1,dt,2,6,"div",25),Ye.Nb()),2&e){const e=t.index,r=Ye.Yb();Ye.Bb("x-",e,""),Ye.zb(1),Ye.bc("ngForOf",Ye.ec(4,ht).constructor(r.board.height))}}function bt(e,t){1&e&&Ye.Mb(0,"div",31)}function mt(e,t){1&e&&Ye.Mb(0,"div",32)}function gt(e,t){1&e&&Ye.Mb(0,"div",32)}function yt(e,t){1&e&&Ye.Mb(0,"div",31)}function vt(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"app-dice",33),Ye.Wb("click",(function(){Ye.ic(e);const r=t.$implicit;return Ye.Yb().selectDice(r)})),Ye.Nb()}2&e&&Ye.bc("dice",t.$implicit)}function wt(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"app-dice",34),Ye.Wb("click",(function(){Ye.ic(e);const r=t.$implicit;return Ye.Yb().unselectDice(r)})),Ye.Nb()}2&e&&Ye.bc("dice",t.$implicit)}function _t(e,t){1&e&&Ye.Mb(0,"app-dice",35),2&e&&Ye.bc("dice",t.$implicit)}function Mt(e,t){1&e&&Ye.Mb(0,"app-dice",36),2&e&&Ye.bc("dice",t.$implicit)}function kt(e,t){if(1&e&&Ye.Mb(0,"app-card-mini",40),2&e){const e=t.$implicit,r=Ye.Yb(2);Ye.bc("board",r.board)("card",e)}}function St(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",37),Ye.nc(1,kt,1,2,"app-card-mini",38),Ye.Ob(2,"ion-img",39),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().closeCardView()})),Ye.Nb(),Ye.Nb()}if(2&e){const e=Ye.Yb();Ye.zb(1),Ye.bc("ngForOf",e.board.players.red.cardsCaboodle.getFiltered("isInDeck",!0))}}let Ct=(()=>{class e{constructor(){}ngOnInit(){}toggleDrawerMenu(){this.board.events.emit("isDrawerVisible",{})}toggleDeckModal(){this.board.players.red.sm.enable("isModalVisible"),this.board.players.red.sm.enable("showBoardDeck")}toggleDiceModal(){this.board.players.red.sm.enable("isModalVisible"),this.board.players.red.sm.enable("showDicePool")}selectDice(e){this.board.players.red.dice.getDeckSelected().length<3&&e.sm.setState("selectFn-"+e.hash,{}),this.board.players.red.sm.disable("isActionActive"),this.board.players.blue.sm.disable("isActionActive")}unselectDice(e){e.sm.setState("unselectFn-"+e.hash,{}),this.board.players.red.sm.disable("isActionActive"),this.board.players.blue.sm.disable("isActionActive")}closeCardView(){this.board.sm.disable("viewDeck")}getHelp(){this.board.sm.enable("showHelp")}exit(){window.location.reload()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ye.Fb({type:e,selectors:[["app-board"]],inputs:{board:"board"},decls:33,vars:19,consts:[[1,"perspective-twister"],[1,"play-area"],[1,"table-border"],[1,"table-top"],["class","play-row",3,"class",4,"ngFor","ngForOf"],[1,"player-menu","blue-player-menu"],[1,"menu-item"],[1,"strike-counter"],["class","strike strike-empty",4,"ngFor","ngForOf"],["class","strike strike-full",4,"ngFor","ngForOf"],[1,"player-menu","red-player-menu"],[1,"dice-pool"],["class","dice-deck",3,"dice","click",4,"ngFor","ngForOf"],[1,"selected-dice"],["class","dice-selected",3,"dice","click",4,"ngFor","ngForOf"],[1,"dice-pool","rival-dice-pool"],["class","dice-selected",3,"dice",4,"ngFor","ngForOf"],["class","dice-deck",3,"dice",4,"ngFor","ngForOf"],[1,"energy-pool"],[3,"profile","board"],[1,"energy-pool","rival-energy-pool"],[1,"floating-left-menu"],[1,"btn",3,"click"],["class","full-board-deck",4,"ngIf"],[1,"play-row"],["class","play-col",3,"class",4,"ngFor","ngForOf"],[1,"play-col"],["class","play-cell",3,"class","click",4,"ngFor","ngForOf"],[1,"play-cell",3,"click"],[1,"cell-borders"],[1,"positioner"],[1,"strike","strike-empty"],[1,"strike","strike-full"],[1,"dice-deck",3,"dice","click"],[1,"dice-selected",3,"dice","click"],[1,"dice-selected",3,"dice"],[1,"dice-deck",3,"dice"],[1,"full-board-deck"],[3,"board","card",4,"ngFor","ngForOf"],["src","assets/icons/cancel.png",1,"close-modal",3,"click"],[3,"board","card"]],template:function(e,t){1&e&&(Ye.Ob(0,"div",0),Ye.Ob(1,"div",1),Ye.Mb(2,"div",2),Ye.Mb(3,"div",3),Ye.nc(4,pt,2,5,"div",4),Ye.Ob(5,"div",5),Ye.Ob(6,"div",6),Ye.Ob(7,"div",7),Ye.nc(8,bt,1,0,"div",8),Ye.nc(9,mt,1,0,"div",9),Ye.Nb(),Ye.Nb(),Ye.Nb(),Ye.Ob(10,"div",10),Ye.Ob(11,"div",6),Ye.Ob(12,"div",7),Ye.nc(13,gt,1,0,"div",9),Ye.nc(14,yt,1,0,"div",8),Ye.Nb(),Ye.Nb(),Ye.Nb(),Ye.Ob(15,"div",11),Ye.nc(16,vt,1,1,"app-dice",12),Ye.Ob(17,"div",13),Ye.nc(18,wt,1,1,"app-dice",14),Ye.Nb(),Ye.Nb(),Ye.Ob(19,"div",15),Ye.Ob(20,"div",13),Ye.nc(21,_t,1,1,"app-dice",16),Ye.Nb(),Ye.nc(22,Mt,1,1,"app-dice",17),Ye.Nb(),Ye.Nb(),Ye.Ob(23,"div",18),Ye.Mb(24,"app-energy-pool",19),Ye.Nb(),Ye.Ob(25,"div",20),Ye.Mb(26,"app-energy-pool",19),Ye.Nb(),Ye.Nb(),Ye.Ob(27,"div",21),Ye.Ob(28,"div",22),Ye.Wb("click",(function(){return t.getHelp()})),Ye.oc(29,"Help"),Ye.Nb(),Ye.Ob(30,"div",22),Ye.Wb("click",(function(){return t.exit()})),Ye.oc(31,"Exit"),Ye.Nb(),Ye.Nb(),Ye.nc(32,St,3,1,"div",23)),2&e&&(Ye.zb(4),Ye.bc("ngForOf",Ye.ec(14,ht).constructor(t.board.width)),Ye.zb(4),Ye.bc("ngForOf",Ye.ec(15,ht).constructor(5-t.board.players.blue.sm.values.winStrikes)),Ye.zb(1),Ye.bc("ngForOf",Ye.ec(16,ht).constructor(t.board.players.blue.sm.values.winStrikes)),Ye.zb(4),Ye.bc("ngForOf",Ye.ec(17,ht).constructor(t.board.players.red.sm.values.winStrikes)),Ye.zb(1),Ye.bc("ngForOf",Ye.ec(18,ht).constructor(5-t.board.players.red.sm.values.winStrikes)),Ye.zb(2),Ye.bc("ngForOf",t.board.players.red.diceCaboodle.getInDeckUnselected()),Ye.zb(2),Ye.bc("ngForOf",t.board.players.red.diceCaboodle.getFiltered("isSelected",!0)),Ye.zb(3),Ye.bc("ngForOf",t.board.players.blue.diceCaboodle.getFiltered("isSelected",!0)),Ye.zb(1),Ye.bc("ngForOf",t.board.players.blue.diceCaboodle.getInDeckUnselected()),Ye.zb(2),Ye.bc("profile",t.board.players.red)("board",t.board),Ye.zb(2),Ye.bc("profile",t.board.players.blue)("board",t.board),Ye.zb(6),Ye.bc("ngIf",t.board.sm.values.viewDeck))},directives:[n.i,$e,n.j,tt,lt],styles:[".perspective-twister[_ngcontent-%COMP%]{perspective:1000px}.perspective-twister[_ngcontent-%COMP%], .play-area[_ngcontent-%COMP%]{width:-webkit-min-content;width:-moz-min-content;width:min-content}.play-area[_ngcontent-%COMP%]{position:relative;transform-origin:center;transform:rotateX(15deg)}@media only screen and (max-width:1550px){.play-area[_ngcontent-%COMP%]{transform:rotate(0deg)}.floating-left-menu[_ngcontent-%COMP%]{display:none}}.play-row[_ngcontent-%COMP%]{width:100%}.play-cell[_ngcontent-%COMP%], .play-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.play-cell[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;width:64px;height:64px;color:#fff;position:relative}.positioner[_ngcontent-%COMP%]{width:0;height:0;position:absolute;top:50%;left:50%}.cell-borders[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,100%,.4);position:absolute;top:0;left:0;width:80%;height:80%;margin:10%;border-radius:10px}.play-cell[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:150%;height:150%;position:absolute;top:-3px;left:-19px}.board-battlers-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}app-board-battler[_ngcontent-%COMP%]{position:absolute;pointer-events:none;transition:.3s}.cell[_ngcontent-%COMP%]{font-size:.8em}.sprite[_ngcontent-%COMP%]{width:100%;height:100%}.board-background[_ngcontent-%COMP%]{position:absolute;width:1080px;height:1080px;left:-253px;top:-253px}.wall[_ngcontent-%COMP%]   .cell-borders[_ngcontent-%COMP%]{border:none;background-color:transparent}.floor[_ngcontent-%COMP%]   .cell-borders[_ngcontent-%COMP%]{border:1px solid #000}.red-player-tile[_ngcontent-%COMP%]   .cell-borders[_ngcontent-%COMP%]{background-color:rgba(235,68,90,.4)}.blue-player-tile[_ngcontent-%COMP%]   .cell-borders[_ngcontent-%COMP%]{background-color:rgba(56,128,255,.7)}.player-tile-locked[_ngcontent-%COMP%]   .cell-borders[_ngcontent-%COMP%]{background-color:rgba(235,68,90,.3)}.victory-tile[_ngcontent-%COMP%]   .cell-borders[_ngcontent-%COMP%]{background-color:rgba(106,27,154,.7)}.neutral-ground[_ngcontent-%COMP%]   .cell-borders[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.2)}.vit-restore[_ngcontent-%COMP%]   .cell-borders[_ngcontent-%COMP%]{background-color:rgba(45,211,111,.7)}.possible-hex-target[_ngcontent-%COMP%]   .cell-borders[_ngcontent-%COMP%]{border:3px solid purple;background-color:rgba(138,43,226,.3)}.possible-cast-tile[_ngcontent-%COMP%]   .cell-borders[_ngcontent-%COMP%], .possible-unfold-tile[_ngcontent-%COMP%]   .cell-borders[_ngcontent-%COMP%]{border:3px solid #dedede;background-color:hsla(0,0%,100%,.3)}.possible-move-tile[_ngcontent-%COMP%]   .cell-borders[_ngcontent-%COMP%]{border:3px solid #01579b;background-color:rgba(1,87,155,.3)}.possible-battle-tile[_ngcontent-%COMP%]   .cell-borders[_ngcontent-%COMP%]{border:3px solid #b71c1c;background-color:rgba(183,28,28,.3)}.table-top[_ngcontent-%COMP%]{background-image:url(/assets/backgrounds/tabletop.jpg);height:calc(100% + 10px);width:calc(100% + 10px);border:5px solid #000;top:-5px;left:-5px;border-radius:10px}.table-border[_ngcontent-%COMP%], .table-top[_ngcontent-%COMP%]{background-repeat:repeat;position:absolute}.table-border[_ngcontent-%COMP%]{width:140%;height:120%;background-image:url(/assets/backgrounds/wood-table.jpg);border-radius:10px;top:-10%;left:-20%;box-shadow:0 0 25px #000}.menu-item[_ngcontent-%COMP%]{padding:10px;background-color:#000;transition:.3s;position:relative;border-radius:5px;border:1px solid #000;height:-webkit-min-content;height:-moz-min-content;height:min-content}.menu-item[_ngcontent-%COMP%]:hover{text-shadow:0 0 3px #fff;border:1px solid #fff}.player-menu[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;position:absolute}.blue-player-menu[_ngcontent-%COMP%]{top:-57px;right:-214px}.blue-player-menu[_ngcontent-%COMP%], .red-player-menu[_ngcontent-%COMP%]{width:-webkit-min-content;width:-moz-min-content;width:min-content}.red-player-menu[_ngcontent-%COMP%]{bottom:-57px;left:-214px}.strike-counter[_ngcontent-%COMP%]{min-width:75px;max-width:200px;display:flex;justify-content:space-evenly;align-items:center}.strike[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:100%;border:1px solid #fff;margin:0 10px}.strike-empty[_ngcontent-%COMP%]{background-color:#454545}.strike-full[_ngcontent-%COMP%]{background-color:#64dd17;box-shadow:0 0 5px #fff}.board-bottom-appendix[_ngcontent-%COMP%]{top:64px;width:120%;background-image:url(/assets/backgrounds/wood-table.jpg);background-repeat:repeat;border-radius:5px;justify-content:space-evenly}.board-bottom-appendix[_ngcontent-%COMP%], .dice-pool[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center}.dice-pool[_ngcontent-%COMP%]{left:-15%;height:50%;width:10%;flex-direction:column;top:50%;justify-content:flex-end}.selected-dice[_ngcontent-%COMP%]{width:150%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;border:1px solid #fff;background-color:#000}.dice-pool.rival-dice-pool[_ngcontent-%COMP%]{left:105%;top:0}.dice-pool[_ngcontent-%COMP%]   app-dice[_ngcontent-%COMP%]{margin:10px}.energy-pool[_ngcontent-%COMP%]{position:absolute;top:0;height:50%;width:200px;left:-210px}.energy-pool.rival-energy-pool[_ngcontent-%COMP%]{top:unset;bottom:0;right:-210px;left:unset}.hidden[_ngcontent-%COMP%]{display:none}.selected[_ngcontent-%COMP%]{border:5px solid purple}.dice-selected[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.5);box-shadow:0 0 20px #fff}.full-board-deck[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.9);width:100vw;height:100vh;position:fixed;top:0;left:0;display:flex;justify-content:center;align-items:center;flex-wrap:wrap;overflow-y:scroll}.full-board-deck[_ngcontent-%COMP%]   app-card-mini[_ngcontent-%COMP%]{margin:30px}.close-modal[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;transition:.3s}.close-modal[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 0 3px white)}.floating-left-menu[_ngcontent-%COMP%]{position:fixed;top:20px;left:20px;width:100px}.floating-left-menu[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;background-color:#000;color:#fff;border:1px solid #fff;margin:5px 0;text-align:center;padding:5px 0}"]}),e})();function Et(e,t){if(1&e&&Ye.Mb(0,"div",10),2&e){const e=Ye.Yb(2);Ye.mc("left:",-1*e.card.offset.x,"px;bottom: ",-1*e.card.offset.y,"px;")}}function Pt(e,t){if(1&e&&Ye.Mb(0,"ion-img",11),2&e){const e=Ye.Yb(2);Ye.cc("src",e.card.sm.values.equipedCard.battlerUrl)}}const xt=function(e){return{animated:e}};function Ot(e,t){if(1&e&&Ye.Mb(0,"ion-img",14),2&e){const e=Ye.Yb(3);Ye.bc("ngClass",Ye.fc(1,xt,e.card.sm.values.showPoisonAnimation))}}function At(e,t){if(1&e&&(Ye.Ob(0,"div",12),Ye.nc(1,Ot,1,3,"ion-img",13),Ye.Nb()),2&e){const e=Ye.Yb(2);Ye.zb(1),Ye.bc("ngIf","Poison"===e.card.sm.values.status.name)}}function Tt(e,t){1&e&&(Ye.Ob(0,"div",15),Ye.Mb(1,"ion-img",16),Ye.Nb())}const Rt=function(e){return{"rival-battler":e}},It=function(e,t,r){return{"rival-illustration":e,"click-events-disable":t,"click-events-enable":r}};function Nt(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",1),Ye.nc(1,Et,1,4,"div",2),Ye.Ob(2,"div",3),Ye.Ob(3,"div",4),Ye.oc(4),Ye.Nb(),Ye.Mb(5,"ion-progress-bar",5),Ye.Nb(),Ye.Ob(6,"ion-img",6),Ye.Wb("dblclick",(function(){return Ye.ic(e),Ye.Yb().showCard()})),Ye.Nb(),Ye.nc(7,Pt,1,1,"ion-img",7),Ye.nc(8,At,2,1,"div",8),Ye.nc(9,Tt,2,0,"div",9),Ye.Nb()}if(2&e){const e=Ye.Yb();Ye.bc("ngClass",Ye.fc(10,Rt,!e.profile.sm.values.isPlayer)),Ye.zb(1),Ye.bc("ngIf",!e.profile.sm.values.isBattlePending&&!e.profile.sm.values.isMovePending),Ye.zb(3),Ye.rc(" ",e.card.sm.values.vit,"/",e.card.vit," "),Ye.zb(1),Ye.cc("value",e.card.sm.values.vit/e.card.vit),Ye.zb(1),Ye.cc("src",e.card.battlerUrl),Ye.bc("ngClass",Ye.gc(12,It,!e.profile.sm.values.isPlayer,e.board.players.red.sm.values.isActionActive,!e.board.players.red.sm.values.isActionActive)),Ye.zb(1),Ye.bc("ngIf",e.card.sm.values.equipedCard),Ye.zb(1),Ye.bc("ngIf",e.card.sm.values.status.active),Ye.zb(1),Ye.bc("ngIf",e.card.sm.values.showDamageAnimation)}}let Bt=(()=>{class e{constructor(){this.util=ne}ngOnInit(){}toggleTooltip(){this.card.sm.values.canBeClicked&&(this.card.sm.values.isBoardMenuVisible=!this.card.sm.values.isBoardMenuVisible)}vitPercent(){return Math.floor(100*this.card.sm.values.vit/this.card.vit)}moveBg(){this.board.sm.setState("moveBg",{card:this.card})}showCard(){this.board.sm.setValue("cardInDisplay",this.card)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ye.Fb({type:e,selectors:[["app-board-battler"]],inputs:{board:"board",profile:"profile",card:"card"},decls:1,vars:1,consts:[["class","board-battler",3,"ngClass",4,"ngIf"],[1,"board-battler",3,"ngClass"],["class","creature-shadow",3,"style",4,"ngIf"],[1,"vit-container","click-events-disable"],[1,"vit-txt"],[3,"value"],[1,"illustration",3,"src","ngClass","dblclick"],["class","equiped-card",3,"src",4,"ngIf"],["class","current-status",4,"ngIf"],["class","animation damage-animation",4,"ngIf"],[1,"creature-shadow"],[1,"equiped-card",3,"src"],[1,"current-status"],["src","/assets/icons/poison.png",3,"ngClass",4,"ngIf"],["src","/assets/icons/poison.png",3,"ngClass"],[1,"animation","damage-animation"],["src","/assets/gifs/explosion.gif"]],template:function(e,t){1&e&&Ye.nc(0,Nt,10,16,"div",0),2&e&&Ye.bc("ngIf",!t.card.sm.values.clans.includes("Hex"))},directives:[n.j,n.h],styles:['.board-battler[_ngcontent-%COMP%]{width:100px;height:100px;z-index:9999}.board-battler[_ngcontent-%COMP%], .tooltip[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.tooltip[_ngcontent-%COMP%]{position:absolute;height:80px;background-color:rgba(0,0,0,.8);overflow:hidden;text-align:center;font-size:.8em;width:100%;padding:3px;top:-80px;border-radius:5px}.edge-container[_ngcontent-%COMP%]{width:100%;height:50%;display:flex;justify-content:space-around;align-items:center}ion-img[_ngcontent-%COMP%]{height:100%}.board-edge[_ngcontent-%COMP%]{height:100%;max-width:30%;background-color:transparent;padding:3px;border-radius:5px}.can-move[_ngcontent-%COMP%]{background-color:#fa9d1c}.can-attack[_ngcontent-%COMP%]{background-color:#f85859}.can-deffend[_ngcontent-%COMP%]{background-color:#2d3e48}.can-special[_ngcontent-%COMP%]{background-color:#f9fdfe}.card-name[_ngcontent-%COMP%]{width:100%;height:50%;display:flex;justify-content:center;align-items:center}.illustration[_ngcontent-%COMP%]{filter:drop-shadow(0 0 5px white)}.vit-txt[_ngcontent-%COMP%]{position:absolute;z-index:1}.tooltip.hidden[_ngcontent-%COMP%]{display:none}.tooltip.visible[_ngcontent-%COMP%]{display:flex}.board-card-menu[_ngcontent-%COMP%]{position:absolute;width:320px;background-color:transparent;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;transition:.3s}.board-card-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{position:relative;width:100%;background-color:rgba(55,71,79,.6);border:1px solid #78909c;border-bottom-color:#607d8b;display:flex;justify-content:center;align-items:center;text-align:center}.board-card-menu[_ngcontent-%COMP%]   .menu-item.h1[_ngcontent-%COMP%]{font-weight:700}.card-right-menu[_ngcontent-%COMP%]{left:100%;top:0;width:160px}.card-top-menu[_ngcontent-%COMP%]{top:-100px;width:300px}.board-card-menu.hidden[_ngcontent-%COMP%]{display:none}.board-card-menu.visible[_ngcontent-%COMP%]{display:flex}.rival-illustration[_ngcontent-%COMP%]{transform:scaleX(-1)}.action-ring[_ngcontent-%COMP%]{position:absolute;border:5px solid #263238;border-radius:100%;width:100px;height:100px}.top-triangle[_ngcontent-%COMP%]{border-bottom:10px solid #263238;top:-21px}.bottom-triangle[_ngcontent-%COMP%], .top-triangle[_ngcontent-%COMP%]{width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;position:absolute;left:calc(50% - 8.5px)}.bottom-triangle[_ngcontent-%COMP%]{border-top:10px solid #263238;bottom:-40px}.left-triangle[_ngcontent-%COMP%]{border-right:10px solid #263238;left:-13px}.left-triangle[_ngcontent-%COMP%], .right-triangle[_ngcontent-%COMP%]{width:0;height:0;border-top:10px solid transparent;border-bottom:10px solid transparent;position:absolute;top:calc(50% - 8.5px)}.right-triangle[_ngcontent-%COMP%]{border-left:10px solid #263238;right:-13px}.action-ring[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:64px;bottom:-32px;left:calc(50% - 32px);height:64px;padding:10px}.action-ring[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%], .step-counter[_ngcontent-%COMP%]{position:absolute;background-color:#263238;border-radius:100%;border:3px solid #263238}.step-counter[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;justify-content:center;align-items:center;font-size:1.1em;left:calc(50% - 16px);top:-16px}.progress-bar-text[_ngcontent-%COMP%]{color:#fff;z-index:1}app-chip[_ngcontent-%COMP%]{width:100%}.menu-item-red[_ngcontent-%COMP%]{background-color:#eb445a!important}.menu-item-blue[_ngcontent-%COMP%]{background-color:#3880ff!important}.creature-shadow[_ngcontent-%COMP%]{position:absolute;background-color:rgba(0,0,0,.5);bottom:0;width:60%;margin-left:20%;height:30px;border-radius:100%}.creature-shadow-red[_ngcontent-%COMP%]{border:2.5px solid #eb445a}.creature-shadow-blue[_ngcontent-%COMP%]{border:2.5px solid #3880ff}.action-img[_ngcontent-%COMP%]:hover:after{width:64px;height:64px;content:"x";background-color:#263238;top:-3px;left:-3px;position:absolute;border-radius:100%;font-size:3em;text-align:center;line-height:56px}.cast-animation[_ngcontent-%COMP%]{position:absolute;background-image:url(/assets/spritesheets/cast.png);top:calc(50% - 100px);left:calc(50% - 100px);width:200px;height:200px;background-size:1000px 600px;z-index:9999;-webkit-animation:playCastX .3s steps(5) infinite,playCastY .9s steps(3) infinite,playHide .9s steps(5) forwards;animation:playCastX .3s steps(5) infinite,playCastY .9s steps(3) infinite,playHide .9s steps(5) forwards}@-webkit-keyframes playCastX{0%{background-position-x:0}to{background-position-x:-1000px}}@keyframes playCastX{0%{background-position-x:0}to{background-position-x:-1000px}}@-webkit-keyframes playCastY{0%{background-position-y:0}to{background-position-y:-600px}}@keyframes playCastY{0%{background-position-y:0}to{background-position-y:-600px}}@-webkit-keyframes playHide{0%{opacity:1}to{opacity:0}}@keyframes playHide{0%{opacity:1}to{opacity:0}}.attack-animation[_ngcontent-%COMP%]{position:absolute;background-image:url(/assets/spritesheets/attack.png);top:calc(50% - 100px);left:calc(50% - 100px);width:200px;height:200px;background-size:600px 200px;z-index:9999;-webkit-animation:playAttackX .15s steps(3) infinite;animation:playAttackX .15s steps(3) infinite}@-webkit-keyframes playAttackX{0%{background-position-x:0}to{background-position-x:-600px}}@keyframes playAttackX{0%{background-position-x:0}to{background-position-x:-600px}}.menu[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.menu-info[_ngcontent-%COMP%]{width:200%;left:-210%}.menu-actions[_ngcontent-%COMP%], .menu-info[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;flex-direction:column;align-items:center}.menu-actions[_ngcontent-%COMP%]{right:-120%;width:100%}.menu-action[_ngcontent-%COMP%], .menu-item[_ngcontent-%COMP%]{border:1px solid #dedede;transition:.3s;width:100%;margin:1px 0;text-align:center;background-color:#000}.menu-action[_ngcontent-%COMP%]:hover{background-color:#232323;border:1px solid #fff}.vit-txt[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:.8em}.vit-container[_ngcontent-%COMP%]{position:absolute;width:100%;top:-18px;height:18px;display:flex;justify-content:center;align-items:center;border:1px solid #000;border-radius:5px;overflow:hidden}.vit-container[_ngcontent-%COMP%]   ion-progress-bar[_ngcontent-%COMP%]{position:absolute;left:0;transition:.3s;height:100%;--background:#dedede;--progress-background:#8b0000;--buffer-background:#121212}.rival-battler[_ngcontent-%COMP%]   ion-progress-bar[_ngcontent-%COMP%]{--progress-background:#00008b}.animation[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;z-index:9999}.animation[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{position:relative;left:-25%;top:-25%;z-index:9999;width:150%;height:150%}.equiped-card[_ngcontent-%COMP%]{position:absolute;left:-50%;bottom:-50%;width:128px;height:128px;filter:drop-shadow(0 0 5px white)}@-webkit-keyframes heartbeat{0%{transform:scale(.75)}20%{transform:scale(1)}40%{transform:scale(.75)}60%{transform:scale(1)}80%{transform:scale(.75)}to{transform:scale(.75)}}@keyframes heartbeat{0%{transform:scale(.75)}20%{transform:scale(1)}40%{transform:scale(.75)}60%{transform:scale(1)}80%{transform:scale(.75)}to{transform:scale(.75)}}.current-status[_ngcontent-%COMP%]{position:absolute;width:64px;right:-32px;top:-32px}.current-status[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{filter:drop-shadow(0 0 3px white)}.current-status[_ngcontent-%COMP%]   ion-img.animated[_ngcontent-%COMP%]{filter:drop-shadow(0 0 7px purple);-webkit-animation:heartbeat .3s infinite;animation:heartbeat .3s infinite}']}),e})();function Dt(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",6),Ye.Wb("click",(function(){Ye.ic(e);const t=Ye.Yb().$implicit;return Ye.Yb(2).game.performAction(t)})),Ye.oc(1),Ye.Nb()}if(2&e){const e=Ye.Yb().$implicit;Ye.zb(1),Ye.qc(" ",e.text," ")}}function jt(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",6),Ye.Wb("click",(function(){Ye.ic(e);const r=t.$implicit;return Ye.Yb(4).game.performAction(r)})),Ye.oc(1),Ye.Nb()}if(2&e){const e=t.$implicit;Ye.zb(1),Ye.qc(" ",e.text," ")}}function Lt(e,t){if(1&e&&(Ye.Ob(0,"div",7),Ye.Ob(1,"div",8),Ye.nc(2,jt,2,1,"div",9),Ye.Nb(),Ye.Mb(3,"app-card-mini",10),Ye.Nb()),2&e){const e=Ye.Yb().$implicit,t=Ye.Yb(2);Ye.zb(2),Ye.bc("ngForOf",e.source.actions),Ye.zb(1),Ye.dc("id","board-deck-",e.source.hash,""),Ye.bc("board",t.board)("card",e.source.card)("hideTooltip",!0)}}function Ft(e,t){if(1&e&&(Ye.Ob(0,"div"),Ye.nc(1,Dt,2,1,"div",4),Ye.nc(2,Lt,4,5,"div",5),Ye.Nb()),2&e){const e=t.$implicit;Ye.zb(1),Ye.bc("ngIf","card"!==e.type),Ye.zb(1),Ye.bc("ngIf","card"===e.type)}}function zt(e,t){if(1&e&&(Ye.Ob(0,"div",2),Ye.nc(1,Ft,3,2,"div",3),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(1),Ye.bc("ngForOf",e.game.getActions(e.profile))}}let Ut=(()=>{class e{constructor(){this.deck=[],this.isFullScreen=!1}ngOnInit(){this.deck=this.profile.cards.getDeck(),this.selectedCard=this.deck[0]}selectCard(e){return Object(s.a)(this,void 0,void 0,(function*(){const t=this.deck;for(let e=0;e<t.length;e++)t[e].sm.setValue("isSelected",!1);e.sm.setValue("isSelected",!e.sm.values.isSelected),this.selectedCard=e}))}castBg(){return Object(s.a)(this,void 0,void 0,(function*(){this.profile.sm.setState("castBg",{card:this.selectedCard,energyPool:this.profile.energyPool,board:this.board})}))}toggle(){this.profile.sm.toggle("showBoardDeck")}getDeck(){return this.profile.cardsCaboodle.getFiltered("isInDeck",!0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ye.Fb({type:e,selectors:[["app-board-deck"]],inputs:{profile:"profile",board:"board",game:"game"},decls:2,vars:1,consts:[[1,"main"],["class","deck",4,"ngIf"],[1,"deck"],[4,"ngFor","ngForOf"],["class","action",3,"click",4,"ngIf"],["style","position:relative",4,"ngIf"],[1,"action",3,"click"],[2,"position","relative"],[1,"card-actions"],["class","action",3,"click",4,"ngFor","ngForOf"],[3,"board","card","id","hideTooltip"]],template:function(e,t){1&e&&(Ye.Ob(0,"div",0),Ye.nc(1,zt,2,1,"div",1),Ye.Nb()),2&e&&(Ye.zb(1),Ye.bc("ngIf",t.game))},directives:[n.j,n.i,lt],styles:[".main[_ngcontent-%COMP%]{width:100%;height:256px;display:flex;justify-content:center;align-items:flex-end;overflow-x:scroll;overflow-y:hidden;transition:.3s}.main.fullscreen[_ngcontent-%COMP%]{left:0;width:100vw}.card-big[_ngcontent-%COMP%]{width:-webkit-min-content;width:-moz-min-content;width:min-content;height:100%;display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.toggle[_ngcontent-%COMP%]{width:100%;text-align:center;color:#fff;height:32px;line-height:32px}.deck[_ngcontent-%COMP%]{pointer-events:all;display:flex;height:100%;justify-content:center;align-items:center;opacity:.4;transition:.3s}.deck[_ngcontent-%COMP%]   app-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 25px #fff}.deck[_ngcontent-%COMP%]:hover{opacity:1}app-card[_ngcontent-%COMP%]{height:-webkit-min-content;height:-moz-min-content;height:min-content;margin:10px}app-card.actionHover[_ngcontent-%COMP%]{box-shadow:0 0 25px #fff}.action-menu[_ngcontent-%COMP%]{width:100%;text-align:center;margin-top:25px}.action-menu[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border:1px solid transparent}.action-menu[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:hover{border:1px solid #fff}.selected[_ngcontent-%COMP%]{box-shadow:0 0 10px grey}.action[_ngcontent-%COMP%]{height:96px;width:96px;justify-content:center;text-align:center;background-color:#232323;color:#fff;border:1px solid #fff;margin:0 10px}.action[_ngcontent-%COMP%], .card-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.card-actions[_ngcontent-%COMP%]{position:absolute;top:-100%;height:100%;width:80%;left:10%;z-index:9999999;flex-direction:column;justify-content:flex-end}.card-actions[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{height:24px;z-index:9999999;width:100%}@media only screen and (max-width:1550px){.deck[_ngcontent-%COMP%]{opacity:1;position:fixed;bottom:0;height:unset;z-index:999}}"]}),e})();function Kt(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"app-dice",4),Ye.Wb("click",(function(){Ye.ic(e);const r=t.$implicit;return Ye.Yb().selectDice(r)})),Ye.Nb()}if(2&e){const e=t.$implicit;Ye.bc("ngClass",e.sm.values.isSelected?"selected":"")("dice",e)}}let Ht=(()=>{class e{constructor(){}ngOnInit(){}selectDice(e){this.profile.dice.getSelected().length<3&&e.sm.setState("selectFn-"+e.hash,{})}clearSelectedDice(){const e=this.profile.dice.items;for(let t=0;t<e.length;t++)e[t].sm.setState("unselectFn-"+e[t].hash,{})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ye.Fb({type:e,selectors:[["app-dice-pool"]],inputs:{profile:"profile"},decls:7,vars:1,consts:[[1,"dice-pool"],[1,"player-dice-pool"],[3,"ngClass","dice","click",4,"ngFor","ngForOf"],[1,"clear-button",3,"click"],[3,"ngClass","dice","click"]],template:function(e,t){1&e&&(Ye.Ob(0,"div",0),Ye.Ob(1,"p"),Ye.oc(2,"Pick your dice!"),Ye.Nb(),Ye.Ob(3,"div",1),Ye.nc(4,Kt,1,2,"app-dice",2),Ye.Nb(),Ye.Ob(5,"div",3),Ye.Wb("click",(function(){return t.clearSelectedDice()})),Ye.oc(6," Clear selected dice "),Ye.Nb(),Ye.Nb()),2&e&&(Ye.zb(4),Ye.bc("ngForOf",t.profile.dice.getDeck(!0)))},directives:[n.i,tt,n.h],styles:['.dice-info-container[_ngcontent-%COMP%]{width:100%;position:relative}.dice-info[_ngcontent-%COMP%]{position:absolute;width:100%;left:100%;padding:10px;background-color:#121212;color:#fff;flex-direction:column;border-radius:10px;border:1px solid #000}.dice-info[_ngcontent-%COMP%], .dice-info-lvl[_ngcontent-%COMP%]{display:flex}.dice-info-lvl-1[_ngcontent-%COMP%], .dice-lvl-1[_ngcontent-%COMP%]{background-color:#b32d91}.dice-info-lvl-2[_ngcontent-%COMP%], .dice-lvl-2[_ngcontent-%COMP%]{background-color:#2d4eb3}.dice-info-lvl-3[_ngcontent-%COMP%], .dice-lvl-3[_ngcontent-%COMP%]{background-color:#562e73}.dice-info-lvl-4[_ngcontent-%COMP%], .dice-info-lvl-5[_ngcontent-%COMP%], .dice-lvl-4[_ngcontent-%COMP%], .dice-lvl-5[_ngcontent-%COMP%]{background-color:#e57e3a}.dice-info-face[_ngcontent-%COMP%]{border:1px solid #fff}ion-dice-area[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;width:100%;flex-direction:column}.dice-pool[_ngcontent-%COMP%], ion-dice-pool[_ngcontent-%COMP%]{display:flex}.dice-pool[_ngcontent-%COMP%]{flex-direction:column;width:50vw}app-dice[_ngcontent-%COMP%]{margin:25px}.dice-lvl[_ngcontent-%COMP%]{width:50px;height:50px;border:3px solid #fff;border-radius:7px;margin:3px}.selected-dice[_ngcontent-%COMP%]{height:100px}.player-dice-pool[_ngcontent-%COMP%], .selected-dice[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.player-dice-pool[_ngcontent-%COMP%]{flex-wrap:wrap;background-color:#37474f;border:1px solid #78909c;border-bottom-color:#607d8b;margin:5px 0}.dice-model[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid #fff;border-radius:5px;margin:3px;position:relative}.dice-model[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{overflow:hidden;border-radius:5px}.dice-model[_ngcontent-%COMP%]:hover:before{content:"";position:absolute;top:-240px;left:calc(50% - 75px);background-image:var(--src);background-position:50%;background-size:cover;width:150px;height:225px;border-radius:5px;border:1px solid #78909c;opacity:.8}.dice-model[_ngcontent-%COMP%]:hover:after{content:"";position:absolute;width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid #78909c;top:-14px}.selected[_ngcontent-%COMP%]{background:radial-gradient(hsla(0,0%,100%,.4),transparent)}.clear-button[_ngcontent-%COMP%]{display:flex;width:100%;height:64px;border-radius:10px;border:1px solid #fff;background-color:#000;justify-content:center;align-items:center;font-size:1.2em;margin-top:30px;color:#fff}']}),e})();class qt extends Oe{constructor(e){super(e,!1),this.alias="Clyde",this.avatar="/assets/avatars/con34.png",this.events=e,this.spawnDeck(),this.spawnDiceDeck(),this.sm.addState("gameBg",{isPlaying:!0,canCast:!0,isCasting:!1},(e,t)=>{this.game=t.game}),this.sm.addState("turnBg",{isPlaying:!0,canCast:!0,isCasting:!1,canRoll:!0},(e,t)=>Object(s.a)(this,void 0,void 0,(function*(){yield this.diceActions(),yield ne.sleep(1500);const e=new je("turnFn",{player:this,opponent:this.game.red,board:this.game.board,isPlayer:!0}),t=this.game,r=setTimeout(()=>{t.performAction(e)},1e4);yield this.cardActions(),yield ne.sleep(300),this.game.performAction(e),clearTimeout(r)})))}diceActions(){return Object(s.a)(this,void 0,void 0,(function*(){if(3!==this.diceCaboodle.getFiltered("isSelected",!0).length){const e=this.diceCaboodle.items;for(let t=0;t<3;t++)e[t].sm.enable("isSelected"),e[t].sm.enable("canRoll")}const e=this.game.getActions(this);"rollDiceBg"===e[0].type&&this.game.performAction(e[0])}))}cardActions(){return Object(s.a)(this,void 0,void 0,(function*(){try{const t=this.cardsCaboodle.getFiltered("isOnBoard",!0);for(let e=0;e<t.length;e++)t[e].sm.setValue("canMove",!1);if(this.sm.disable("canMove"),0===(e=this.game.getActions(this).filter(e=>"card"===e.type)).length)return;const r=e[0].source.actions.filter(e=>"moveBg"!==e.type)[0];if(this.game.performAction(r),"castBg"===r.type){yield ne.sleep(300);const e=this.game.board.sm.values.cells.filter(e=>e.sm.values.classes.includes("possible-cast-tile")),t=this.game.board.players.red.cardsCaboodle.getFiltered("isOnBoard",!0),r=[];for(let n=0;n<t.length;n++)t[n].sm.values.clans.includes("Hex")||t[n].sm.values.clans.includes("Illusion")||r.push(t[n]);if(0===r.length)e[ne.getRandomInt(e.length-1)].sm.setState("clicked",{board:this.game.board,profile:this});else{const t=[];for(let n=0;n<e.length;n++)for(let i=0;i<r.length;i++){const o=e[n],a=this.game.board.getCellByKey(r[i].sm.values.cellKey),s=ne.getCellDistance(o,a);t.push({cell:o,distance:s})}t.sort((e,t)=>e.distance<t.distance?-1:e.distance>t.distance?1:0),t[0].cell.sm.setState("clicked",{board:this.game.board,profile:this})}for(let n=0;n<5;n++){yield ne.sleep(300);const e=this.game.board.sm.values.cells.filter(e=>e.sm.values.classes.includes("possible-unfold-tile"));if(0===r.length)e[ne.getRandomInt(e.length-1)].sm.setState("clicked",{board:this.game.board,profile:this});else{const t=[];for(let n=0;n<e.length;n++)for(let i=0;i<r.length;i++){const o=e[n],a=this.game.board.getCellByKey(r[i].sm.values.cellKey),s=ne.getCellDistance(o,a);t.push({cell:o,distance:s})}t.sort((e,t)=>e.distance<t.distance?-1:e.distance>t.distance?1:0),t[0].cell.sm.setState("clicked",{board:this.game.board,profile:this})}}}if(yield ne.sleep(500),"moveBg"===r.type){const e=new je("moveStp",{action:r,board:this.game.board,player:this.game.board.players.blue});this.game.performAction(e)}if("battleBg"===r.type){const e=this.game.board.players.red.cardsCaboodle.getFiltered("isOnBoard",!0),t=[];for(let r=0;r<e.length;r++)e[r].sm.values.clans.includes("Hex")||e[r].sm.values.clans.includes("Illusion")||t.push(e[r]);this.game.performAction(r);const n=this.game.board.sm.values.cells.filter(e=>e.sm.values.classes.includes("possible-battle-tile")),i=[];for(let r=0;r<n.length;r++)for(let e=0;e<t.length;e++){const o=n[r],a=this.game.board.getCellByKey(t[e].sm.values.cellKey),s=ne.getCellDistance(o,a);i.push({cell:o,distance:s})}i.sort((e,t)=>e.distance<t.distance?-1:e.distance>t.distance?1:0),i[0].distance<=r.source.card.sm.values.rng&&i[0].cell.sm.setState("clicked",{board:this.game.board,profile:this}),yield ne.sleep(1e3)}var e;this.sm.disable("isActionActive"),(e=this.game.getActions(this).filter(e=>"card"===e.type)).length>0&&(yield ne.sleep(500),yield this.cardActions())}catch(t){const e=new je("turnFn",{player:this,opponent:this.game.red,isPlayer:!0,board:this.game.board});this.game.performAction(e)}}))}spawnDeck(){const e=this.cards.items;for(let r=0;r<7;r++)e[r].sm.setState("gainOwnership-"+e[r].originalHash,{profile:this,token:"CLYDE_TOKEN",claim:{payload:{user:"0xCLYDE",rel_id:ne.getRandomInt(1e5)}}});const t=this.cardsCaboodle.getFiltered("isOwned",!0);for(let r=0;r<t.length;r++)t[r].sm.enable("isInDeck")}spawnDiceDeck(){const e=this.dice.items;for(let r=0;r<e.length;r++)if("water forest"===e[r].title)for(let t=0;t<5;t++)e[r].sm.setState("gainOwnership-"+e[r].hash,{profile:this,token:"CLYDE_TOKEN",claim:{payload:{user:"0xCLYDE",rel_id:ne.getRandomInt(1e5)}}});const t=this.diceCaboodle.getFiltered("isOwned",!0);for(let r=0;r<t.length;r++)t[r].sm.enable("isInDeck")}}class Gt extends Oe{constructor(e){super(e,!1),this.alias="Deity Christa",this.avatar="/assets/avatars/con5.png",this.events=e,this.spawnDeck(),this.spawnDiceDeck(),this.sm.addState("gameBg",{isPlaying:!0,canCast:!0,isCasting:!1},(e,t)=>{this.game=t.game}),this.sm.addState("turnBg",{isPlaying:!0,canCast:!0,isCasting:!1,canRoll:!0},(e,t)=>Object(s.a)(this,void 0,void 0,(function*(){yield this.diceActions(),yield ne.sleep(1500);const e=new je("turnFn",{player:this,opponent:this.game.red,board:this.game.board,isPlayer:!0}),t=this.game,r=setTimeout(()=>{t.performAction(e)},1e4);yield this.cardActions(),yield ne.sleep(300),this.game.performAction(e),clearTimeout(r)})))}diceActions(){return Object(s.a)(this,void 0,void 0,(function*(){if(3!==this.diceCaboodle.getFiltered("isSelected",!0).length){const e=this.diceCaboodle.items;for(let t=0;t<3;t++)e[t].sm.enable("isSelected"),e[t].sm.enable("canRoll")}const e=this.game.getActions(this);"rollDiceBg"===e[0].type&&this.game.performAction(e[0])}))}cardActions(){return Object(s.a)(this,void 0,void 0,(function*(){try{const t=this.cardsCaboodle.getFiltered("isOnBoard",!0);for(let e=0;e<t.length;e++)t[e].sm.setValue("canMove",!1);if(this.sm.disable("canMove"),0===(e=this.game.getActions(this).filter(e=>"card"===e.type)).length)return;const r=e[0].source.actions.filter(e=>"moveBg"!==e.type)[0];if(this.game.performAction(r),"castBg"===r.type){yield ne.sleep(300);const e=this.game.board.sm.values.cells.filter(e=>e.sm.values.classes.includes("possible-cast-tile")),t=this.game.board.players.red.cardsCaboodle.getFiltered("isOnBoard",!0);if(0===t.length)e[ne.getRandomInt(e.length-1)].sm.setState("clicked",{board:this.game.board,profile:this});else{const r=[];for(let n=0;n<e.length;n++)for(let i=0;i<t.length;i++){const o=e[n],a=this.game.board.getCellByKey(t[i].sm.values.cellKey),s=ne.getCellDistance(o,a);r.push({cell:o,distance:s})}r.sort((e,t)=>e.distance<t.distance?-1:e.distance>t.distance?1:0),r[0].cell.sm.setState("clicked",{board:this.game.board,profile:this})}for(let r=0;r<5;r++){yield ne.sleep(300);const e=this.game.board.sm.values.cells.filter(e=>e.sm.values.classes.includes("possible-unfold-tile"));if(0===t.length)e[ne.getRandomInt(e.length-1)].sm.setState("clicked",{board:this.game.board,profile:this});else{const r=[];for(let n=0;n<e.length;n++)for(let i=0;i<t.length;i++){const o=e[n],a=this.game.board.getCellByKey(t[i].sm.values.cellKey),s=ne.getCellDistance(o,a);r.push({cell:o,distance:s})}r.sort((e,t)=>e.distance<t.distance?-1:e.distance>t.distance?1:0),r[0].cell.sm.setState("clicked",{board:this.game.board,profile:this})}}}if(yield ne.sleep(500),"moveBg"===r.type){const e=new je("moveStp",{action:r,board:this.game.board,player:this.game.board.players.blue});this.game.performAction(e)}if("battleBg"===r.type){const e=this.game.board.players.red.cardsCaboodle.getFiltered("isOnBoard",!0);this.game.performAction(r);const t=this.game.board.sm.values.cells.filter(e=>e.sm.values.classes.includes("possible-battle-tile")),n=[];for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++){const o=t[r],a=this.game.board.getCellByKey(e[i].sm.values.cellKey),s=ne.getCellDistance(o,a);n.push({cell:o,distance:s})}n.sort((e,t)=>e.distance<t.distance?-1:e.distance>t.distance?1:0),n[0].distance<=r.source.card.sm.values.rng&&n[0].cell.sm.setState("clicked",{board:this.game.board,profile:this}),yield ne.sleep(1e3)}var e;this.sm.disable("isActionActive"),(e=this.game.getActions(this).filter(e=>"card"===e.type)).length>0&&(yield ne.sleep(500),yield this.cardActions())}catch(t){const e=new je("turnFn",{player:this,opponent:this.game.red,isPlayer:!0,board:this.game.board});this.game.performAction(e)}}))}spawnDeck(){const e=[this.cards.getFiltered("originalHash","0d18f6208ace9939ad1b6c308f8e68bebec9355b9ef2dd03f6f06ff2f3e2607a")[0],this.cards.getFiltered("originalHash","76a184c6d9d4293d0c353ee6fe5d4f06d3175f2a4dae36031e235eabe2a4cff5")[0],this.cards.getFiltered("originalHash","f9436538561491bc13beb7b844bcee9951b0069db99c00b3459cd639b59ab9a0")[0],this.cards.getFiltered("originalHash","1dc9c93e70884e899a65990422462e09d1db08776940a6a48cda4d6a23acbb93")[0],this.cards.getFiltered("originalHash","76d065b47b5313cc61d25cd174bf4e475acb45e4a45b21c4e626409b2d2de6c2")[0],this.cards.getFiltered("originalHash","56eda163911da67bfbdafbd389e88e17426ff42b36e6fbc775ac4cfe1499edd6")[0],this.cards.getFiltered("originalHash","f9436538561491bc13beb7b844bcee9951b0069db99c00b3459cd639b59ab9a0")[0]];for(let r=0;r<7;r++)e[r].sm.setState("gainOwnership-"+e[r].originalHash,{profile:this,token:"CHRISTA_TOKEN",claim:{payload:{user:"0XCHRISTA",rel_id:ne.getRandomInt(1e5)}}});const t=this.cardsCaboodle.getFiltered("isOwned",!0);for(let r=0;r<t.length;r++)t[r].sm.enable("isInDeck")}spawnDiceDeck(){const e=[this.dice.getFiltered("originalHash","c8f00de74a205ebbfb0fa10ec495670a3c3687f399ee9cdcd0c540a77241036e")[0],this.dice.getFiltered("originalHash","d4287ca85b264c3e59bd5f8a381ce1c3614a011915acd7730b0c62ddddd3278a")[0],this.dice.getFiltered("originalHash","51589fb62a1d8ccec805563c3def9256b25a7595f72c3a5ada7b518f54af5534")[0],this.dice.getFiltered("originalHash","c8f00de74a205ebbfb0fa10ec495670a3c3687f399ee9cdcd0c540a77241036e")[0],this.dice.getFiltered("originalHash","c8f00de74a205ebbfb0fa10ec495670a3c3687f399ee9cdcd0c540a77241036e")[0]];for(let r=0;r<e.length;r++)e[r].sm.setState("gainOwnership-"+e[r].hash,{profile:this,token:"CHRISTA_TOKEN",claim:{payload:{user:"0XCHRISTA",rel_id:ne.getRandomInt(1e5)}}});const t=this.diceCaboodle.getFiltered("isOwned",!0);for(let r=0;r<t.length;r++)t[r].sm.enable("isInDeck")}}class Vt extends Oe{constructor(e){super(e,!1),this.alias="Ruby",this.avatar="/assets/avatars/con29.png",this.events=e,this.spawnDeck(),this.spawnDiceDeck(),this.sm.addState("gameBg",{isPlaying:!0,canCast:!0,isCasting:!1},(e,t)=>{this.game=t.game}),this.sm.addState("turnBg",{isPlaying:!0,canCast:!0,isCasting:!1,canRoll:!0},(e,t)=>Object(s.a)(this,void 0,void 0,(function*(){yield this.diceActions(),yield ne.sleep(1500);const e=new je("turnFn",{player:this,opponent:this.game.red,board:this.game.board,isPlayer:!0}),t=this.game,r=setTimeout(()=>{t.performAction(e)},1e4);yield this.cardActions(),yield ne.sleep(300),this.game.performAction(e),clearTimeout(r)})))}diceActions(){return Object(s.a)(this,void 0,void 0,(function*(){if(3!==this.diceCaboodle.getFiltered("isSelected",!0).length){const e=this.diceCaboodle.items;for(let t=0;t<3;t++)e[t].sm.enable("isSelected"),e[t].sm.enable("canRoll")}const e=this.game.getActions(this);"rollDiceBg"===e[0].type&&this.game.performAction(e[0])}))}cardActions(){return Object(s.a)(this,void 0,void 0,(function*(){try{const t=this.cardsCaboodle.getFiltered("isOnBoard",!0);for(let e=0;e<t.length;e++)t[e].sm.setValue("canMove",!1);if(this.sm.disable("canMove"),0===(e=this.game.getActions(this).filter(e=>"card"===e.type)).length)return;const r=e[0].source.actions.filter(e=>"moveBg"!==e.type)[0];if(this.game.performAction(r),"castBg"===r.type){yield ne.sleep(300);const e=this.game.board.sm.values.cells.filter(e=>e.sm.values.classes.includes("possible-cast-tile")),t=this.game.board.players.red.cardsCaboodle.getFiltered("isOnBoard",!0);if(0===t.length)e[ne.getRandomInt(e.length-1)].sm.setState("clicked",{board:this.game.board,profile:this});else{const r=[];for(let n=0;n<e.length;n++)for(let i=0;i<t.length;i++){const o=e[n],a=this.game.board.getCellByKey(t[i].sm.values.cellKey),s=ne.getCellDistance(o,a);r.push({cell:o,distance:s})}r.sort((e,t)=>e.distance<t.distance?-1:e.distance>t.distance?1:0),r[0].cell.sm.setState("clicked",{board:this.game.board,profile:this})}for(let r=0;r<5;r++){yield ne.sleep(300);const e=this.game.board.sm.values.cells.filter(e=>e.sm.values.classes.includes("possible-unfold-tile"));if(0===t.length)e[ne.getRandomInt(e.length-1)].sm.setState("clicked",{board:this.game.board,profile:this});else{const r=[];for(let n=0;n<e.length;n++)for(let i=0;i<t.length;i++){const o=e[n],a=this.game.board.getCellByKey(t[i].sm.values.cellKey),s=ne.getCellDistance(o,a);r.push({cell:o,distance:s})}r.sort((e,t)=>e.distance<t.distance?-1:e.distance>t.distance?1:0),r[0].cell.sm.setState("clicked",{board:this.game.board,profile:this})}}}if(yield ne.sleep(500),"moveBg"===r.type){const e=new je("moveStp",{action:r,board:this.game.board,player:this.game.board.players.blue});this.game.performAction(e)}if("battleBg"===r.type){const e=this.game.board.players.red.cardsCaboodle.getFiltered("isOnBoard",!0);this.game.performAction(r);const t=this.game.board.sm.values.cells.filter(e=>e.sm.values.classes.includes("possible-battle-tile")),n=[];for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++){const o=t[r],a=this.game.board.getCellByKey(e[i].sm.values.cellKey),s=ne.getCellDistance(o,a);n.push({cell:o,distance:s})}n.sort((e,t)=>e.distance<t.distance?-1:e.distance>t.distance?1:0),n[0].distance<=r.source.card.sm.values.rng&&n[0].cell.sm.setState("clicked",{board:this.game.board,profile:this}),yield ne.sleep(1e3)}var e;this.sm.disable("isActionActive"),(e=this.game.getActions(this).filter(e=>"card"===e.type)).length>0&&(yield ne.sleep(500),yield this.cardActions())}catch(t){const e=new je("turnFn",{player:this,opponent:this.game.red,isPlayer:!0,board:this.game.board});this.game.performAction(e)}}))}spawnDeck(){const e=[this.cards.getFiltered("originalHash","b8b0e174b76cf94f10760b23daa80b07b703e3f4e650e4ea6714425dff724876")[0],this.cards.getFiltered("originalHash","17057ec3fcf444574a20946534d5786386ca5e940d7762197bfb30a68946230c")[0],this.cards.getFiltered("originalHash","b8b0e174b76cf94f10760b23daa80b07b703e3f4e650e4ea6714425dff724876")[0],this.cards.getFiltered("originalHash","b8b0e174b76cf94f10760b23daa80b07b703e3f4e650e4ea6714425dff724876")[0],this.cards.getFiltered("originalHash","17057ec3fcf444574a20946534d5786386ca5e940d7762197bfb30a68946230c")[0],this.cards.getFiltered("originalHash","250da14744527ff1be53642dd9b2447a7f534699ecaecf15de021eb56a088f4a")[0],this.cards.getFiltered("originalHash","250da14744527ff1be53642dd9b2447a7f534699ecaecf15de021eb56a088f4a")[0]];for(let r=0;r<7;r++)e[r].sm.setState("gainOwnership-"+e[r].originalHash,{profile:this,token:"RUBY_TOKEN",claim:{payload:{user:"0XRUBY",rel_id:ne.getRandomInt(1e5)}}});const t=this.cardsCaboodle.getFiltered("isOwned",!0);for(let r=0;r<t.length;r++)t[r].sm.enable("isInDeck")}spawnDiceDeck(){const e=[this.dice.getFiltered("originalHash","53f33bd233993aacb403f48666bdaf1d46f413accc261de562d4a631c5d8b4db")[0],this.dice.getFiltered("originalHash","53f33bd233993aacb403f48666bdaf1d46f413accc261de562d4a631c5d8b4db")[0],this.dice.getFiltered("originalHash","53f33bd233993aacb403f48666bdaf1d46f413accc261de562d4a631c5d8b4db")[0],this.dice.getFiltered("originalHash","53f33bd233993aacb403f48666bdaf1d46f413accc261de562d4a631c5d8b4db")[0],this.dice.getFiltered("originalHash","53f33bd233993aacb403f48666bdaf1d46f413accc261de562d4a631c5d8b4db")[0]];for(let r=0;r<e.length;r++)e[r].sm.setState("gainOwnership-"+e[r].hash,{profile:this,token:"RUBY_TOKEN",claim:{payload:{user:"0XRUBY",rel_id:ne.getRandomInt(1e5)}}});const t=this.diceCaboodle.getFiltered("isOwned",!0);for(let r=0;r<t.length;r++)t[r].sm.enable("isInDeck")}}class Wt extends Oe{constructor(e){super(e,!1),this.alias="Stingy Jack",this.avatar="/assets/avatars/con22.png",this.events=e,this.spawnDeck(),this.spawnDiceDeck(),this.sm.addState("gameBg",{isPlaying:!0,canCast:!0,isCasting:!1},(e,t)=>{this.game=t.game}),this.sm.addState("turnBg",{isPlaying:!0,canCast:!0,isCasting:!1,canRoll:!0},(e,t)=>Object(s.a)(this,void 0,void 0,(function*(){yield this.diceActions(),yield ne.sleep(1500);const e=new je("turnFn",{player:this,opponent:this.game.red,board:this.game.board,isPlayer:!0}),t=this.game,r=setTimeout(()=>{t.performAction(e)},1e4);yield this.cardActions(),yield ne.sleep(300),this.game.performAction(e),clearTimeout(r)})))}diceActions(){return Object(s.a)(this,void 0,void 0,(function*(){if(3!==this.diceCaboodle.getFiltered("isSelected",!0).length){const e=this.diceCaboodle.items;for(let t=0;t<3;t++)e[t].sm.enable("isSelected"),e[t].sm.enable("canRoll")}const e=this.game.getActions(this);"rollDiceBg"===e[0].type&&this.game.performAction(e[0])}))}cardActions(){return Object(s.a)(this,void 0,void 0,(function*(){try{const t=this.cardsCaboodle.getFiltered("isOnBoard",!0);for(let e=0;e<t.length;e++)t[e].sm.setValue("canMove",!1);if(this.sm.disable("canMove"),0===(e=this.game.getActions(this).filter(e=>"card"===e.type)).length)return;const r=e[0].source.actions.filter(e=>"moveBg"!==e.type)[0];if(this.game.performAction(r),"castBg"===r.type){yield ne.sleep(300);const e=this.game.board.sm.values.cells.filter(e=>e.sm.values.classes.includes("possible-cast-tile")),t=this.game.board.players.red.cardsCaboodle.getFiltered("isOnBoard",!0);if(0===t.length)e[ne.getRandomInt(e.length-1)].sm.setState("clicked",{board:this.game.board,profile:this});else{const r=[];for(let n=0;n<e.length;n++)for(let i=0;i<t.length;i++){const o=e[n],a=this.game.board.getCellByKey(t[i].sm.values.cellKey),s=ne.getCellDistance(o,a);r.push({cell:o,distance:s})}r.sort((e,t)=>e.distance<t.distance?-1:e.distance>t.distance?1:0),r[0].cell.sm.setState("clicked",{board:this.game.board,profile:this})}for(let r=0;r<5;r++){yield ne.sleep(300);const e=this.game.board.sm.values.cells.filter(e=>e.sm.values.classes.includes("possible-unfold-tile"));if(0===t.length)e[ne.getRandomInt(e.length-1)].sm.setState("clicked",{board:this.game.board,profile:this});else{const r=[];for(let n=0;n<e.length;n++)for(let i=0;i<t.length;i++){const o=e[n],a=this.game.board.getCellByKey(t[i].sm.values.cellKey),s=ne.getCellDistance(o,a);r.push({cell:o,distance:s})}r.sort((e,t)=>e.distance<t.distance?-1:e.distance>t.distance?1:0),r[0].cell.sm.setState("clicked",{board:this.game.board,profile:this})}}}if(yield ne.sleep(500),"moveBg"===r.type){const e=new je("moveStp",{action:r,board:this.game.board,player:this.game.board.players.blue});this.game.performAction(e)}if("battleBg"===r.type){const e=this.game.board.players.red.cardsCaboodle.getFiltered("isOnBoard",!0);this.game.performAction(r);const t=this.game.board.sm.values.cells.filter(e=>e.sm.values.classes.includes("possible-battle-tile")),n=[];for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++){const o=t[r],a=this.game.board.getCellByKey(e[i].sm.values.cellKey),s=ne.getCellDistance(o,a);n.push({cell:o,distance:s})}n.sort((e,t)=>e.distance<t.distance?-1:e.distance>t.distance?1:0),n[0].distance<=r.source.card.sm.values.rng&&n[0].cell.sm.setState("clicked",{board:this.game.board,profile:this}),yield ne.sleep(1e3)}var e;this.sm.disable("isActionActive"),(e=this.game.getActions(this).filter(e=>"card"===e.type)).length>0&&(yield ne.sleep(500),yield this.cardActions())}catch(t){const e=new je("turnFn",{player:this,opponent:this.game.red,isPlayer:!0,board:this.game.board});this.game.performAction(e)}}))}spawnDeck(){const e=[this.cards.getFiltered("originalHash","de26c4bf2e4434432c46f6c5aa7bafd9897644b7a62688990a3648e4c1cab50e")[0],this.cards.getFiltered("originalHash","56eda163911da67bfbdafbd389e88e17426ff42b36e6fbc775ac4cfe1499edd6")[0],this.cards.getFiltered("originalHash","e5d62ac6ccbb55929fddb19cf8e8147ee09cbdb32a5715057af17a189a7804cb")[0],this.cards.getFiltered("originalHash","9153f4432a7e5be6cc7873fecbbec3f45c9014ad0bee67234cadd6e3398f2b7b")[0],this.cards.getFiltered("originalHash","b153509af326a4f66dcf09c1f0eb5ac080187499134539f1260a8016464664ce")[0],this.cards.getFiltered("originalHash","1e93d68c4826c519838f1f9bc96a17a5aa41656408b564ca1c30a2df530a7de4")[0],this.cards.getFiltered("originalHash","cf9d8fe30e974d7cfec1acc48c3375fbc6b01d1f85befb3063e329f4d0f10983")[0]];for(let r=0;r<7;r++)e[r].sm.setState("gainOwnership-"+e[r].originalHash,{profile:this,token:"JACK_TOKEN",claim:{payload:{user:"0XJACK",rel_id:ne.getRandomInt(1e5)}}});const t=this.cardsCaboodle.getFiltered("isOwned",!0);for(let r=0;r<t.length;r++)t[r].sm.enable("isInDeck")}spawnDiceDeck(){const e=[this.dice.getFiltered("originalHash","072c4b818c1f1e47046d243a3e34fbeda5665e662221f16e4ff65c0762849ee3")[0],this.dice.getFiltered("originalHash","072c4b818c1f1e47046d243a3e34fbeda5665e662221f16e4ff65c0762849ee3")[0],this.dice.getFiltered("originalHash","072c4b818c1f1e47046d243a3e34fbeda5665e662221f16e4ff65c0762849ee3")[0],this.dice.getFiltered("originalHash","072c4b818c1f1e47046d243a3e34fbeda5665e662221f16e4ff65c0762849ee3")[0],this.dice.getFiltered("originalHash","072c4b818c1f1e47046d243a3e34fbeda5665e662221f16e4ff65c0762849ee3")[0]];for(let r=0;r<e.length;r++)e[r].sm.setState("gainOwnership-"+e[r].hash,{profile:this,token:"JACK_TOKEN",claim:{payload:{user:"0XJACK",rel_id:ne.getRandomInt(1e5)}}});const t=this.diceCaboodle.getFiltered("isOwned",!0);for(let r=0;r<t.length;r++)t[r].sm.enable("isInDeck")}}let Yt=(()=>{class e{constructor(){this.util=ne}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ye.Fb({type:e,selectors:[["app-dice-full"]],inputs:{dice:"dice"},decls:7,vars:24,consts:[[1,"dice-row"],[1,"dice-face"]],template:function(e,t){1&e&&(Ye.Ob(0,"div",0),Ye.Mb(1,"div",1),Ye.Mb(2,"div",1),Ye.Mb(3,"div",1),Ye.Mb(4,"div",1),Ye.Mb(5,"div",1),Ye.Mb(6,"div",1),Ye.Nb()),2&e&&(Ye.zb(1),Ye.mc("\n      background-color:",t.dice.color,";\n      background-image:url('",t.util.getDiceFace(t.dice.faces[0]),"');\n    "),Ye.zb(1),Ye.mc("\n      background-color:",t.dice.color,";\n      background-image:url('",t.util.getDiceFace(t.dice.faces[1]),"');\n    "),Ye.zb(1),Ye.mc("\n      background-color:",t.dice.color,";\n      background-image:url('",t.util.getDiceFace(t.dice.faces[2]),"');\n    "),Ye.zb(1),Ye.mc("\n      background-color:",t.dice.color,";\n      background-image:url('",t.util.getDiceFace(t.dice.faces[3]),"');\n    "),Ye.zb(1),Ye.mc("\n      background-color:",t.dice.color,";\n      background-image:url('",t.util.getDiceFace(t.dice.faces[4]),"');\n    "),Ye.zb(1),Ye.mc("\n      background-color:",t.dice.color,";\n      background-image:url('",t.util.getDiceFace(t.dice.faces[5]),"');\n    "))},styles:[".dice-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:3px solid #dedede;margin:5px 0}.dice-face[_ngcontent-%COMP%]{width:64px;height:64px;background-size:cover;background-position:50%;border:1px solid #fff}"]}),e})();function Jt(e,t){if(1&e&&Ye.Mb(0,"app-card-mini",31),2&e){const e=t.$implicit,r=Ye.Yb(3);Ye.bc("card",e)("board",r.board)}}function Zt(e,t){if(1&e&&(Ye.Ob(0,"div",28),Ye.nc(1,Jt,1,2,"app-card-mini",29),Ye.Mb(2,"app-dice",30),Ye.Nb()),2&e){const e=Ye.Yb(2);Ye.zb(1),Ye.bc("ngForOf",e.newCards),Ye.zb(1),Ye.bc("dice",e.newDice[0])}}function Xt(e,t){if(1&e&&(Ye.Ob(0,"div"),Ye.Mb(1,"ion-img",32),Ye.Nb()),2&e){const e=Ye.Yb(2);Ye.zb(1),Ye.cc("src",e.board.players.red.sm.values.avatar)}}function $t(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",6),Ye.Ob(1,"div",7),Ye.Ob(2,"div",8),Ye.Mb(3,"ion-img",9),Ye.Nb(),Ye.Ob(4,"p",10),Ye.oc(5),Ye.Nb(),Ye.Ob(6,"ion-button",11),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().showInventory()})),Ye.oc(7," Show Inventory "),Ye.Nb(),Ye.Ob(8,"ion-button",11),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().togglePlayModal()})),Ye.oc(9," Play (Local) "),Ye.Nb(),Ye.Ob(10,"ion-button",11),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().toggleLeaderboard()})),Ye.oc(11," Leaderboard "),Ye.Nb(),Ye.Nb(),Ye.Ob(12,"div",12),Ye.Ob(13,"ion-button",13),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().getBoosterPack()})),Ye.oc(14," PURCHASE BOOSTER PACK (300 COINS) "),Ye.Nb(),Ye.nc(15,Zt,3,2,"div",14),Ye.Nb(),Ye.Ob(16,"div",15),Ye.nc(17,Xt,2,1,"div",16),Ye.Ob(18,"div"),Ye.Mb(19,"ion-input",17),Ye.Ob(20,"ion-button",11),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().updateAlias()})),Ye.oc(21," Update Alias "),Ye.Nb(),Ye.Nb(),Ye.Ob(22,"p",18),Ye.oc(23),Ye.Nb(),Ye.Ob(24,"p",19),Ye.oc(25),Ye.Nb(),Ye.Ob(26,"p",20),Ye.oc(27),Ye.Nb(),Ye.Nb(),Ye.Ob(28,"div",21),Ye.Ob(29,"ion-button",22),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().toggleHelp()})),Ye.oc(30," Help "),Ye.Nb(),Ye.Ob(31,"ion-button",11),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().fullscreen()})),Ye.oc(32," FULLSCREEN "),Ye.Nb(),Ye.Ob(33,"select",23),Ye.Wb("change",(function(){return Ye.ic(e),Ye.Yb().alterLanguage()})),Ye.Ob(34,"option",24),Ye.oc(35,"English"),Ye.Nb(),Ye.Ob(36,"option",25),Ye.oc(37,"Spanish"),Ye.Nb(),Ye.Ob(38,"option",26),Ye.oc(39,"Catalan"),Ye.Nb(),Ye.Nb(),Ye.Ob(40,"ion-button",27),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().logout()})),Ye.oc(41," LOG OUT "),Ye.Nb(),Ye.Nb(),Ye.Nb()}if(2&e){const e=Ye.Yb();Ye.zb(5),Ye.qc("Version ",e.config.version,""),Ye.zb(10),Ye.bc("ngIf",e.newCards.length>0&&e.newDice.length>0),Ye.zb(2),Ye.bc("ngIf",e.board.players.red.sm.values.avatar),Ye.zb(2),Ye.cc("value",e.board.players.red.sm.values.alias),Ye.zb(4),Ye.qc("LVL: ",e.board.players.red.sm.values.lvl,""),Ye.zb(2),Ye.rc("Exp: ",e.board.players.red.sm.values.exp," / ",e.util.getExpToNextLevel(e.board.players.red.sm.values.lvl)," "),Ye.zb(2),Ye.qc("",e.board.players.red.sm.values.balance," coins")}}function Qt(e,t){1&e&&Ye.Mb(0,"app-dice-full",45),2&e&&Ye.bc("dice",t.$implicit)}function er(e,t){if(1&e&&Ye.Mb(0,"app-card-mini",31),2&e){const e=t.$implicit,r=Ye.Yb(3);Ye.bc("card",e)("board",r.board)}}function tr(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",36),Ye.Ob(1,"div",37),Ye.Ob(2,"div",38),Ye.Mb(3,"ion-img",39),Ye.Nb(),Ye.Ob(4,"div",40),Ye.Ob(5,"div",41),Ye.oc(6),Ye.Nb(),Ye.Ob(7,"ion-button",11),Ye.Wb("click",(function(){Ye.ic(e);const r=t.$implicit;return Ye.Yb(2).playWith(r)})),Ye.oc(8," PLAY "),Ye.Nb(),Ye.Nb(),Ye.Nb(),Ye.Ob(9,"div",42),Ye.nc(10,Qt,1,1,"app-dice-full",43),Ye.Nb(),Ye.Ob(11,"div",44),Ye.nc(12,er,1,2,"app-card-mini",29),Ye.Nb(),Ye.Nb()}if(2&e){const e=t.$implicit;Ye.zb(3),Ye.cc("src",e.avatar),Ye.zb(3),Ye.pc(e.alias),Ye.zb(4),Ye.bc("ngForOf",e.diceCaboodle.getFiltered("isInDeck",!0)),Ye.zb(2),Ye.bc("ngForOf",e.cardsCaboodle.getFiltered("isInDeck",!0))}}function rr(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",33),Ye.nc(1,tr,13,4,"div",34),Ye.Ob(2,"ion-img",35),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().togglePlayModal()})),Ye.Nb(),Ye.Nb()}if(2&e){const e=Ye.Yb();Ye.zb(1),Ye.bc("ngForOf",e.opponents)}}function nr(e,t){if(1&e&&(Ye.Ob(0,"div",61),Ye.Mb(1,"ion-img",62),Ye.Nb()),2&e){const e=Ye.Yb().$implicit;Ye.zb(1),Ye.cc("src",e.data.url)}}function ir(e,t){if(1&e&&(Ye.Ob(0,"div",63),Ye.Ob(1,"p"),Ye.oc(2),Ye.Nb(),Ye.Ob(3,"p"),Ye.oc(4),Ye.Nb(),Ye.Nb()),2&e){const e=Ye.Yb().$implicit;Ye.zb(2),Ye.qc("Cards:",e.data.cards.length,""),Ye.zb(2),Ye.qc("Dice:",e.data.dice.length,"")}}function or(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"ion-button",13),Ye.Wb("click",(function(){Ye.ic(e);const t=Ye.Yb().$implicit;return Ye.Yb(2).editDeck(t)})),Ye.oc(1," Edit "),Ye.Nb()}}function ar(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"ion-button",27),Ye.Wb("click",(function(){Ye.ic(e);const t=Ye.Yb().$implicit;return Ye.Yb(2).deactivateItem(t)})),Ye.oc(1," Deactivate "),Ye.Nb()}}function sr(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"ion-button",11),Ye.Wb("click",(function(){Ye.ic(e);const t=Ye.Yb().$implicit;return Ye.Yb(2).activateItem(t)})),Ye.oc(1," Activate "),Ye.Nb()}}function cr(e,t){if(1&e&&(Ye.Ob(0,"div",52),Ye.Ob(1,"div",53),Ye.oc(2),Ye.Nb(),Ye.nc(3,nr,2,1,"div",54),Ye.nc(4,ir,5,2,"div",55),Ye.Ob(5,"div",56),Ye.oc(6),Ye.Nb(),Ye.Ob(7,"div",57),Ye.nc(8,or,2,0,"ion-button",58),Ye.nc(9,ar,2,0,"ion-button",59),Ye.nc(10,sr,2,0,"ion-button",60),Ye.Nb(),Ye.Nb()),2&e){const e=t.$implicit;Ye.zb(2),Ye.qc(" ",e.title," "),Ye.zb(1),Ye.bc("ngIf","avatar"===e.type),Ye.zb(1),Ye.bc("ngIf","deck"===e.type&&e.data.cards&&e.data.dice),Ye.zb(2),Ye.qc(" \xb7 ",e.type.toUpperCase()," \xb7 "),Ye.zb(2),Ye.bc("ngIf","deck"===e.type),Ye.zb(1),Ye.bc("ngIf",1===e.active),Ye.zb(1),Ye.bc("ngIf",0===e.active)}}function lr(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",46),Ye.Ob(1,"div",47),Ye.nc(2,cr,11,7,"div",48),Ye.Nb(),Ye.Ob(3,"div",49),Ye.Ob(4,"div",50),Ye.Mb(5,"ion-input",51),Ye.Ob(6,"ion-button",11),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().createEmptyDeck()})),Ye.oc(7," Add Deck "),Ye.Nb(),Ye.Nb(),Ye.Nb(),Ye.Ob(8,"ion-img",35),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().closeInventoryModal()})),Ye.Nb(),Ye.Nb()}if(2&e){const e=Ye.Yb();Ye.zb(2),Ye.bc("ngForOf",e.board.players.red.sm.values.inventory)}}function ur(e,t){1&e&&(Ye.Ob(0,"div",70),Ye.Ob(1,"div",71),Ye.Mb(2,"ion-img",72),Ye.Nb(),Ye.Nb())}function fr(e,t){1&e&&(Ye.Ob(0,"div",70),Ye.Ob(1,"div",71),Ye.Mb(2,"ion-img",73),Ye.Nb(),Ye.Nb())}function dr(e,t){1&e&&(Ye.Ob(0,"div",70),Ye.Ob(1,"div",71),Ye.Mb(2,"ion-img",74),Ye.Nb(),Ye.Nb())}function hr(e,t){if(1&e&&(Ye.Ob(0,"div",70),Ye.oc(1),Ye.Nb()),2&e){const e=Ye.Yb().index;Ye.zb(1),Ye.qc(" ",e+1," ")}}function pr(e,t){if(1&e&&(Ye.Ob(0,"div",68),Ye.nc(1,ur,3,0,"div",69),Ye.nc(2,fr,3,0,"div",69),Ye.nc(3,dr,3,0,"div",69),Ye.nc(4,hr,2,1,"div",69),Ye.Ob(5,"div",52),Ye.oc(6),Ye.Nb(),Ye.Ob(7,"div",52),Ye.oc(8),Ye.Nb(),Ye.Ob(9,"div",52),Ye.oc(10),Ye.Nb(),Ye.Nb()),2&e){const e=t.$implicit,r=t.index;Ye.zb(1),Ye.bc("ngIf",0===r),Ye.zb(1),Ye.bc("ngIf",1===r),Ye.zb(1),Ye.bc("ngIf",2===r),Ye.zb(1),Ye.bc("ngIf",r>2),Ye.zb(2),Ye.pc(e.alias),Ye.zb(2),Ye.pc(e.level),Ye.zb(2),Ye.pc(e.create_timestamp_utc.split("T")[0])}}function br(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",64),Ye.Ob(1,"div",65),Ye.Ob(2,"div",66),Ye.Ob(3,"div",52),Ye.oc(4,"#"),Ye.Nb(),Ye.Ob(5,"div",52),Ye.oc(6,"Alias"),Ye.Nb(),Ye.Ob(7,"div",52),Ye.oc(8,"LVL"),Ye.Nb(),Ye.Ob(9,"div",52),Ye.oc(10,"Joined"),Ye.Nb(),Ye.Nb(),Ye.nc(11,pr,11,7,"div",67),Ye.Nb(),Ye.Ob(12,"ion-img",35),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().toggleLeaderboard()})),Ye.Nb(),Ye.Nb()}if(2&e){const e=Ye.Yb();Ye.zb(11),Ye.bc("ngForOf",e.leaderboard)}}function mr(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",81),Ye.Wb("dblclick",(function(){Ye.ic(e);const r=t.$implicit;return Ye.Yb(3).challengePlayer(r)})),Ye.Ob(1,"div",52),Ye.oc(2),Ye.Nb(),Ye.Ob(3,"div",52),Ye.oc(4),Ye.Nb(),Ye.Ob(5,"div",52),Ye.oc(6),Ye.Nb(),Ye.Nb()}if(2&e){const e=t.$implicit;Ye.zb(2),Ye.pc(e.alias),Ye.zb(2),Ye.pc(e.level),Ye.zb(2),Ye.pc(e.status.toUpperCase())}}function gr(e,t){if(1&e&&(Ye.Ob(0,"div",77),Ye.Ob(1,"div",78),Ye.Ob(2,"div",79),Ye.oc(3,"ALIAS"),Ye.Nb(),Ye.Ob(4,"div",79),Ye.oc(5,"LEVEL"),Ye.Nb(),Ye.Ob(6,"div",79),Ye.oc(7,"STATUS"),Ye.Nb(),Ye.Nb(),Ye.nc(8,mr,7,3,"div",80),Ye.Nb()),2&e){const e=Ye.Yb(2);Ye.zb(8),Ye.bc("ngForOf",e.userPool)}}function yr(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",75),Ye.nc(1,gr,9,1,"div",76),Ye.Ob(2,"ion-img",35),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().toggleOnlineModal()})),Ye.Nb(),Ye.Nb()}if(2&e){const e=Ye.Yb();Ye.zb(1),Ye.bc("ngIf",e.userPool.length>0)}}function vr(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",82),Ye.Ob(1,"div",83),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().pickDeck("todd")})),Ye.Ob(2,"div",84),Ye.Mb(3,"ion-img",85),Ye.Nb(),Ye.Ob(4,"div",86),Ye.oc(5,"[SD] Todd's Deck"),Ye.Nb(),Ye.Ob(6,"div",87),Ye.Ob(7,"div",88),Ye.Mb(8,"ion-img",62),Ye.oc(9," water "),Ye.Nb(),Ye.Ob(10,"div",88),Ye.Mb(11,"ion-img",62),Ye.oc(12," wind "),Ye.Nb(),Ye.Ob(13,"div",88),Ye.Mb(14,"ion-img",62),Ye.oc(15," light "),Ye.Nb(),Ye.Nb(),Ye.Nb(),Ye.Ob(16,"div",83),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().pickDeck("marla")})),Ye.Ob(17,"div",84),Ye.Mb(18,"ion-img",89),Ye.Nb(),Ye.Ob(19,"div",86),Ye.oc(20,"[SD] Marla's Deck"),Ye.Nb(),Ye.Ob(21,"div",87),Ye.Ob(22,"div",88),Ye.Mb(23,"ion-img",62),Ye.oc(24," forest "),Ye.Nb(),Ye.Ob(25,"div",88),Ye.Mb(26,"ion-img",62),Ye.oc(27," metal "),Ye.Nb(),Ye.Ob(28,"div",88),Ye.Mb(29,"ion-img",62),Ye.oc(30," dark "),Ye.Nb(),Ye.Nb(),Ye.Nb(),Ye.Ob(31,"div",83),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().pickDeck("travis")})),Ye.Ob(32,"div",84),Ye.Mb(33,"ion-img",90),Ye.Nb(),Ye.Ob(34,"div",86),Ye.oc(35,"[SD] Travis's Deck"),Ye.Nb(),Ye.Ob(36,"div",87),Ye.Ob(37,"div",88),Ye.Mb(38,"ion-img",62),Ye.oc(39," fire "),Ye.Nb(),Ye.Ob(40,"div",88),Ye.Mb(41,"ion-img",62),Ye.oc(42," thunder "),Ye.Nb(),Ye.Ob(43,"div",88),Ye.Mb(44,"ion-img",62),Ye.oc(45," aether "),Ye.Nb(),Ye.Nb(),Ye.Nb(),Ye.Ob(46,"div",91),Ye.oc(47," Select a deck to start playing with "),Ye.Nb(),Ye.Nb()}if(2&e){const e=Ye.Yb();Ye.zb(8),Ye.cc("src",e.util.getDiceFace("water")),Ye.zb(3),Ye.cc("src",e.util.getDiceFace("wind")),Ye.zb(3),Ye.cc("src",e.util.getDiceFace("light")),Ye.zb(9),Ye.cc("src",e.util.getDiceFace("forest")),Ye.zb(3),Ye.cc("src",e.util.getDiceFace("metal")),Ye.zb(3),Ye.cc("src",e.util.getDiceFace("dark")),Ye.zb(9),Ye.cc("src",e.util.getDiceFace("fire")),Ye.zb(3),Ye.cc("src",e.util.getDiceFace("thunder")),Ye.zb(3),Ye.cc("src",e.util.getDiceFace("aether"))}}let wr=(()=>{class e{constructor(){this.util=ne,this.config=Ae,this.newCards=[],this.newDice=[],this.players=[],this.alias="",this.balance=-1,this.experience=-1,this.level=-1,this.opponents=[],this.leaderboard=[],this.userPool=[],this.isDeckPicked=!1}ngOnInit(){return Object(s.a)(this,void 0,void 0,(function*(){const e=localStorage.getItem("auth-token");if(!e)return[];const t=new c,r=c.claimFromString(e);t.fromPrivateKey(localStorage.getItem("privateKey"),r.payload.email),this.wallet=t,this.balance=yield this.board.players.red.getBalance(),this.experience=yield this.board.players.red.getExperience(),this.level=ne.getLevelFromExp(this.experience),this.opponents.push(new qt(this.board.events)),this.opponents.push(new Gt(this.board.events)),this.opponents.push(new Vt(this.board.events)),this.opponents.push(new Wt(this.board.events));const n=localStorage.getItem("language");n&&(document.querySelector("#languages").value=n)}))}getUsersPool(){return Object(s.a)(this,void 0,void 0,(function*(){}))}proposeMatch(){return Object(s.a)(this,void 0,void 0,(function*(){document.querySelector("#partner-address").value.trim()}))}deckEditor(){this.board.players.red.sm.enable("isModalVisible"),this.board.players.red.sm.disable("deckReady")}playWithClyde(){return Object(s.a)(this,void 0,void 0,(function*(){this.board.events.emit("handshakeFn",{gameType:"CPU",playerConstructor:qt})}))}playWithChrista(){return Object(s.a)(this,void 0,void 0,(function*(){this.board.events.emit("handshakeFn",{gameType:"CPU",playerConstructor:Gt})}))}logout(){return Object(s.a)(this,void 0,void 0,(function*(){localStorage.clear(),window.location.reload()}))}mintCoin(){return Object(s.a)(this,void 0,void 0,(function*(){this.board.players.red.sm.values.isBusy||this.board.players.red.sm.setState("mintCoinBg",{httpMessenger:this.httpMessenger})}))}getBoosterPack(){return Object(s.a)(this,void 0,void 0,(function*(){yield this.board.players.red.getBalance(),this.board.players.red.events.on("purchaseFn",e=>{this.newCards=e.cards,this.newDice=e.dice}),this.board.players.red.events.emit("purchaseBg",{profile:this.board.players.red,httpMessenger:this.httpMessenger})}))}winGame(){this.board.sm.setState("gameFn",{isPlayer:!0,player:this.board.players.red,httpMessenger:this.httpMessenger})}postDeck(){this.board.players.red.postDeck(this.httpMessenger,this.board.players.red.sm.values.activeDeck.title,{cards:this.board.players.red.sm.values.activeDeck.cards,dice:this.board.players.red.sm.values.activeDeck.dice},1)}fullscreen(){const e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}toggleHelp(){this.board.sm.toggle("showHelp")}playWith(e){return Object(s.a)(this,void 0,void 0,(function*(){console.log(e),e instanceof qt&&this.board.events.emit("handshakeFn",{gameType:"CPU",playerConstructor:qt}),e instanceof Gt&&this.board.events.emit("handshakeFn",{gameType:"CPU",playerConstructor:Gt}),e instanceof Vt&&this.board.events.emit("handshakeFn",{gameType:"CPU",playerConstructor:Vt}),e instanceof Wt&&this.board.events.emit("handshakeFn",{gameType:"CPU",playerConstructor:Wt})}))}togglePlayModal(){return Object(s.a)(this,void 0,void 0,(function*(){this.board.sm.toggle("showOpponentsModal")}))}alterLanguage(){const e=document.querySelector("#languages");localStorage.setItem("language",e.value),window.location.reload()}showInventory(){this.board.sm.enable("displayInventory")}closeInventoryModal(){this.board.sm.disable("displayInventory")}createEmptyDeck(){return Object(s.a)(this,void 0,void 0,(function*(){try{const e=document.querySelector("#deck-name").value;yield this.board.players.red.postDeck(this.httpMessenger,e),yield this.board.players.red.getInventory()}catch(e){console.error(e)}}))}editDeck(e){console.log("editDeck",e),this.board.players.red.sm.values.activeDeck.title=e.title,this.board.players.red.sm.values.activeDeck.cards=e.data.cards,this.board.players.red.sm.values.activeDeck.dice=e.data.dice,this.board.players.red.sm.enable("isModalVisible"),this.board.players.red.sm.disable("deckReady")}activateItem(e){return Object(s.a)(this,void 0,void 0,(function*(){console.log("activating",e),"avatar"===e.type&&(yield this.board.players.red.addAvatar(this.httpMessenger,e.data.url,e.data.title,1)),"deck"===e.type&&(this.board.players.red.sm.values.activeDeck.title=e.title,this.board.players.red.sm.values.activeDeck.cards=e.data.cards,this.board.players.red.sm.values.activeDeck.dice=e.data.dice,yield this.postDeck()),yield ne.sleep(500),yield this.board.players.red.getInventory()}))}toggleLeaderboard(){return Object(s.a)(this,void 0,void 0,(function*(){this.board.players.red.sm.values.showLeaderboard?this.board.players.red.sm.disable("showLeaderboard"):(yield this.getLeaderboard(),this.board.players.red.sm.enable("showLeaderboard"))}))}getLeaderboard(){return Object(s.a)(this,void 0,void 0,(function*(){try{const e=yield this.httpMessenger.get("/leaderboard");console.log(e),this.leaderboard=e}catch(e){console.error(e)}}))}updateAlias(){return Object(s.a)(this,void 0,void 0,(function*(){try{const e=document.querySelector("#alias").value;if(0===e.trim().length)return;this.board.players.alias=e,this.board.players.red.sm.setValue("alias",e),yield this.board.players.red.updateAlias(this.httpMessenger,e),window.location.reload()}catch(e){console.error(e)}}))}deactivateItem(e){return Object(s.a)(this,void 0,void 0,(function*(){}))}toggleOnlineModal(){return Object(s.a)(this,void 0,void 0,(function*(){try{this.board.players.red.p2p||(this.board.players.red.p2p=new Be(this.board,this.board.events,this.board.players.red.alias,this.board.players.red.sm.values.lvl)),this.userPool=yield this.httpMessenger.getUrl("http://"+Ae.signalingServers[0].host+":"+Ae.signalingServers[0].port+"/pool"),this.intervalId=setInterval(()=>Object(s.a)(this,void 0,void 0,(function*(){this.userPool=yield this.httpMessenger.getUrl("http://"+Ae.signalingServers[0].host+":"+Ae.signalingServers[0].port+"/pool")})),5e3),this.board.sm.values.isOnlineModalVisible&&clearInterval(this.intervalId),this.board.sm.toggle("isOnlineModalVisible")}catch(e){console.error(e)}}))}hostOnlineGame(){return Object(s.a)(this,void 0,void 0,(function*(){}))}challengePlayer(e){this.board.sm.enable("isPlayerChallenging"),this.board.events.emit("challengeBg",{gameType:"P2P",address:e.address})}pickDeck(e){return Object(s.a)(this,void 0,void 0,(function*(){if(this.isDeckPicked)return;this.isDeckPicked=!0,console.log("selected",e,"deck");const t=[],r=[];let n="",i="";"todd"===e&&(n="[SD] Todd's Deck",i="assets/avatars/con37.png",t.push("d1ef825fbe0fd75661bbb27f0849510444d5ecee984fec8e7459246e7da7545c"),t.push("d1ef825fbe0fd75661bbb27f0849510444d5ecee984fec8e7459246e7da7545c"),t.push("d1ef825fbe0fd75661bbb27f0849510444d5ecee984fec8e7459246e7da7545c"),t.push("a2a0ad6f1c5114ddcbff0c6009109c7fe75bec1da4e4fda60cc476756564fb70"),t.push("a2a0ad6f1c5114ddcbff0c6009109c7fe75bec1da4e4fda60cc476756564fb70"),r.push("1df2083139e52af76218fec9852dc3e93396ace3bcb1a49ad19c365c7f472df3"),r.push("cd6ac8832503e5af0f0b5f9f808d8aba16e99d0653f5a080901876ad84d4a4d0"),r.push("89e5b132cf23d885614755849525f6c34be4b49101aff33571f85c362264f1e0"),r.push("6c7adfac5b33c549492263424ffa03eeac48d52d0380677ad91dc1c6a27707ef"),r.push("fb65394b9087e30a7abdf0edaa93e2df78a25494a81213d3598553abdc4e0ea5"),r.push("44f7e69a4848032601ff2acc6f6692798ca6c6ca75c3190fd7a6a008570857a1"),r.push("2a0b85c5b1551e9745efe1b01191cccfcc5f57bd4726e809e9a95891af326fdd"),r.push("b76a014f6907f69bd2ed6ef036ae0ac1d317524c6943533b55cd82bfd5951a6c"),r.push("6879e090838f2544314c17598555637ac8ac2d1fd34e3a538b276a227874bf83"),r.push("8a9b770f286822fe307889dfd64c0e0d23980317ac34dc469786a0f449011917")),"marla"===e&&(n="[SD] Marla's Deck",i="assets/avatars/con12.png",t.push("bdabd4e4dd212c09d5cd11b1dff8f457c69f0ede88cc86f3b813241af9cbae6b"),t.push("bdabd4e4dd212c09d5cd11b1dff8f457c69f0ede88cc86f3b813241af9cbae6b"),t.push("0cd90ec304d4c17c20d3e5744f559b742536acc075c47cc87f763bd92e5ecdca"),t.push("0cd90ec304d4c17c20d3e5744f559b742536acc075c47cc87f763bd92e5ecdca"),t.push("0cd90ec304d4c17c20d3e5744f559b742536acc075c47cc87f763bd92e5ecdca"),r.push("a2936861bcbb1cecba2e79193ac8d3b4cb8b19c1b48d8e59f6d4dc385561c4d8"),r.push("b8b0e174b76cf94f10760b23daa80b07b703e3f4e650e4ea6714425dff724876"),r.push("57c997f421e58c3cce4e3dfd15f2658906c74c80493652aa8c6ebe7d609237df"),r.push("09fdd7630b9ff03fe7f08945664ab3b156c7c2b97235aee3c96667c0e00afc15"),r.push("a63d0ff52abb2bd6c111c284eda1ad8acc72185c3517b6d23ce865691c982b08"),r.push("f9436538561491bc13beb7b844bcee9951b0069db99c00b3459cd639b59ab9a0"),r.push("853785361951f48b956138dcdc6332cffcc3b920f270017f8253db8bfbb82b88"),r.push("56eda163911da67bfbdafbd389e88e17426ff42b36e6fbc775ac4cfe1499edd6"),r.push("e420f637b0da5af8c60d9eddce4f97aec2083418f27925b912d3b5ba3670d57f"),r.push("b0b537493734277f4c841d9464d22c51fc78998dba73c7600722659f0e5a0382")),"travis"===e&&(n="[SD] Travis's Deck",i="assets/avatars/con10.png",t.push("8d22a7361794945791cf60490ee3987f7525f16daa3aeeb401cbebcf31c6845d"),t.push("8d22a7361794945791cf60490ee3987f7525f16daa3aeeb401cbebcf31c6845d"),t.push("31413b2a5950c0b3e021bb21220cce8a485c8302e86950d515c6fb535a6aa427"),t.push("31413b2a5950c0b3e021bb21220cce8a485c8302e86950d515c6fb535a6aa427"),t.push("31413b2a5950c0b3e021bb21220cce8a485c8302e86950d515c6fb535a6aa427"),r.push("57d3c734f1bb39d2bf8dfe021ba648d26e4a7325bdd7bde0fc3b47e304e8b0ab"),r.push("617da94edbe8b9eefb57553284c161da2c743743d62572a3ddd7319e28448a76"),r.push("1dc9c93e70884e899a65990422462e09d1db08776940a6a48cda4d6a23acbb93"),r.push("2968522cb9b6c5f42347083a427d142f80232381161eecaab68d61636156ede6"),r.push("d39cc4be23f5cb26d0fe8a3ab67f492a3d76e90da69ea78a862605c77ddd4bfd"),r.push("eb4c2234dd04c1966486264a72ab79bcd9c632d40732f543a9d138429799f938"),r.push("78924cee13a675c1bb94a88497a60b73c116e1ee98c71be4e566cd0d216f02d1"),r.push("e5d62ac6ccbb55929fddb19cf8e8147ee09cbdb32a5715057af17a189a7804cb"),r.push("4628d670374b1fa761e0cc8752931e05c6a06ccf90a2faf7adf9e36a879b5cdd"),r.push("4bb2c2c9f4065f57e0dbb7df7a516520848c91028249dc5f630923defbd235ee")),yield this.board.players.red.grantCards(this.httpMessenger,r),yield this.board.players.red.grantDice(this.httpMessenger,t),yield this.board.players.red.postDeck(this.httpMessenger,n,{cards:r,dice:t},1),yield this.board.players.red.addAvatar(this.httpMessenger,i,e,1),window.location.reload()}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ye.Fb({type:e,selectors:[["app-matchmaking"]],inputs:{board:"board",httpMessenger:"httpMessenger"},decls:6,vars:6,consts:[["class","main",4,"ngIf"],["class","opponents-modal",4,"ngIf"],["class","inventory-modal",4,"ngIf"],["class","leaderboard",4,"ngIf"],["class","online-modal",4,"ngIf"],["class","starter-decks-modal",4,"ngIf"],[1,"main"],[1,"container","top-left"],[1,"logo"],["src","/assets/logo.png"],[1,"sm",2,"text-align","center"],["color","primary",3,"click"],[1,"container","bottom-right"],["color","success",3,"click"],["class","new-card-container",4,"ngIf"],[1,"container","top-right"],[4,"ngIf"],["placeholder","Alias","id","alias",3,"value"],[1,"bg"],[1,"sm"],[1,"md"],[1,"container","bottom-left"],["color","warning",3,"click"],["id","languages",3,"change"],["value","en_US"],["value","es_ES"],["value","ca_CA"],["color","medium",3,"click"],[1,"new-card-container"],[3,"card","board",4,"ngFor","ngForOf"],[1,"new-dice",3,"dice"],[3,"card","board"],[1,"profile-avatar",3,"src"],[1,"opponents-modal"],["class","opponent",4,"ngFor","ngForOf"],["src","assets/icons/cancel.png",1,"close-modal",3,"click"],[1,"opponent"],[1,"left-part"],[1,"avatar-outer"],[1,"avatar",3,"src"],[1,"menu"],[1,"avatar-name"],[1,"dice-deck"],[3,"dice",4,"ngFor","ngForOf"],[1,"card-deck"],[3,"dice"],[1,"inventory-modal"],[1,"items"],["class","item",4,"ngFor","ngForOf"],[1,"actions"],[1,"action"],["id","deck-name","placeholder","Deck Name"],[1,"item"],[1,"item-title"],["class","item-avatar",4,"ngIf"],["class","item-deck-info",4,"ngIf"],[1,"item-type"],[1,"item-actions"],["color","success",3,"click",4,"ngIf"],["color","medium",3,"click",4,"ngIf"],["color","primary",3,"click",4,"ngIf"],[1,"item-avatar"],[3,"src"],[1,"item-deck-info"],[1,"leaderboard"],[1,"board"],[1,"header","row"],["class","row body",4,"ngFor","ngForOf"],[1,"row","body"],["class","item item-trophy",4,"ngIf"],[1,"item","item-trophy"],[1,"trophy"],["src","/assets/icons/trophy-1.png"],["src","/assets/icons/trophy-2.png"],["src","/assets/icons/trophy-3.png"],[1,"online-modal"],["class","user-pool",4,"ngIf"],[1,"user-pool"],[1,"user"],[1,"item","item-title"],["class","user",3,"dblclick",4,"ngFor","ngForOf"],[1,"user",3,"dblclick"],[1,"starter-decks-modal"],[1,"deck-choice",3,"click"],[1,"avatar"],["src","/assets/avatars/con37.png"],[1,"title"],[1,"attributes"],[1,"attribute"],["src","/assets/avatars/con12.png"],["src","/assets/avatars/con10.png"],[1,"info-text"]],template:function(e,t){1&e&&(Ye.nc(0,$t,42,8,"div",0),Ye.nc(1,rr,3,1,"div",1),Ye.nc(2,lr,9,1,"div",2),Ye.nc(3,br,13,1,"div",3),Ye.nc(4,yr,3,1,"div",4),Ye.nc(5,vr,48,9,"div",5)),2&e&&(Ye.bc("ngIf",t.wallet),Ye.zb(1),Ye.bc("ngIf",t.board.sm.values.showOpponentsModal),Ye.zb(1),Ye.bc("ngIf",t.board.sm.values.displayInventory),Ye.zb(1),Ye.bc("ngIf",t.board.players.red.sm.values.showLeaderboard),Ye.zb(1),Ye.bc("ngIf",t.board.sm.values.isOnlineModalVisible),Ye.zb(1),Ye.bc("ngIf",t.board.players.red.sm.values.showStarterDeckPicker))},directives:[n.j,n.i,tt,lt,Yt],styles:[".main[_ngcontent-%COMP%]{position:fixed;width:calc(100vw - 20px);height:calc(100vh - 20px);top:10px;left:10px;background-color:#343434;border-radius:5px;background-image:url(/assets/backgrounds/main-menu.jpg);background-size:cover;background-position:50%;justify-content:space-evenly;padding:20px 0;flex-direction:column}.main[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{display:flex;align-items:center}.row[_ngcontent-%COMP%]{width:100%;justify-content:center}.user-pool[_ngcontent-%COMP%]{width:95%}.user-pool[_ngcontent-%COMP%]   .pool-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;transition:.3s}.user-pool[_ngcontent-%COMP%]   .pool-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:30%;text-align:center}.user-pool[_ngcontent-%COMP%]   .pool-item[_ngcontent-%COMP%]:not(.header):hover{background-color:#232323}.user-pool[_ngcontent-%COMP%]   .pool-item.header[_ngcontent-%COMP%]{font-weight:900;text-transform:uppercase}.direct-connect-panel[_ngcontent-%COMP%]{width:95%;display:flex;justify-content:center;align-items:center;flex-direction:column}ion-input[_ngcontent-%COMP%]{border:1px solid #000;color:#fff;width:100%;text-align:center}.actions[_ngcontent-%COMP%], .player-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:0 10px;width:40%;height:100%}.player-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:#121212;color:#fff;padding:10px}.actions.purchase[_ngcontent-%COMP%]{width:60%;min-height:256px;margin-top:20px}.new-card-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.new-dice[_ngcontent-%COMP%]{margin:0 50px}.container[_ngcontent-%COMP%]{position:fixed;background-color:rgba(0,0,0,.9);color:#fff;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:30px;min-width:400px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:600px;padding:5px 10px;text-align:right}.container[_ngcontent-%COMP%]   .sm[_ngcontent-%COMP%]{font-size:.8em}.container[_ngcontent-%COMP%]   .md[_ngcontent-%COMP%]{font-size:1.2em}.container[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{font-size:1.5em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%}.top-left[_ngcontent-%COMP%]{top:20px;left:20px}.top-right[_ngcontent-%COMP%]{top:20px;right:20px;align-items:flex-end}.profile-avatar[_ngcontent-%COMP%]{width:128px;height:128px;border:1px solid #fff;border-radius:5px;overflow:hidden}.profile-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.bottom-left[_ngcontent-%COMP%]{bottom:20px;left:20px}.bottom-right[_ngcontent-%COMP%]{bottom:20px;right:20px}.logo[_ngcontent-%COMP%]{width:400px}.logo[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:100%;filter:drop-shadow(0 0 3px white);transition:.5s}.logo[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 0 7px white)}.opponents-modal[_ngcontent-%COMP%]{position:fixed;background-color:rgba(0,0,0,.9);width:95vw;left:2.5vw;height:95vh;top:2.5vh;color:#fff;overflow-x:hidden;overflow-y:scroll;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;box-shadow:0 0 50px #000;border:1px solid #000;border-radius:5px}.opponents-modal[_ngcontent-%COMP%]   .opponent[_ngcontent-%COMP%]{position:relative;width:800px;margin:20px;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;background-color:#232323;border:1px solid #343434;padding:10px;border-radius:10px}.opponents-modal[_ngcontent-%COMP%]   .alias[_ngcontent-%COMP%]{font-size:2em;position:absolute;bottom:0;width:100%;background-color:rgba(0,0,0,.6);text-align:center}.opponents-modal[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:100%;height:100%}.opponents-modal[_ngcontent-%COMP%]   .card-deck[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;margin:20px;max-width:700px}.opponents-modal[_ngcontent-%COMP%]   .avatar-outer[_ngcontent-%COMP%]{position:relative;width:160px;height:160px;border:3px solid #fff;border-radius:10px;overflow:hidden}.opponents-modal[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]{width:300px;margin:20px 50px 20px 20px}.opponents-modal[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%], .opponents-modal[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.opponents-modal[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%], .opponents-modal[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%}.opponents-modal[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .opponents-modal[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:20px}.opponents-modal[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1.5em;text-align:center}.close-modal[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;transition:.3s}.close-modal[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 0 3px white)}#languages[_ngcontent-%COMP%], #languages[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000;width:100%;padding:10px;text-align:center}#languages[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-size:1.2em}.inventory-modal[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:rgba(0,0,0,.9);color:#fff;position:fixed;top:0;left:0;display:flex;justify-content:center;align-items:center}.inventory-modal[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{width:70%;background-color:#000;height:95%;border:1px solid #343434;border-radius:10px;display:flex;justify-content:center;align-items:flex-start;flex-wrap:wrap;overflow-y:scroll}.inventory-modal[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:300px;height:400px;margin:10px;border:1px solid #fff;border-radius:10px;overflow:hidden;display:flex;justify-content:space-between;align-items:center;flex-direction:column;padding-bottom:20px;background-color:#343434}.inventory-modal[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-avatar[_ngcontent-%COMP%]{width:128px;border:1px solid #fff;border-radius:3px;overflow:hidden}.inventory-modal[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-type[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:1em;padding:5px 0}.inventory-modal[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:1.2em;padding:10px 0;background-color:#fff;color:#000}.inventory-modal[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-deck-info[_ngcontent-%COMP%]{border:1px solid #fff;border-radius:3px;justify-content:space-evenly;width:128px;height:128px}.inventory-modal[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%], .inventory-modal[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-deck-info[_ngcontent-%COMP%]{background-color:#000;display:flex;align-items:center;flex-direction:column}.inventory-modal[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:20%;height:95%;border:1px solid #343434;overflow-y:scroll;border-radius:10px;justify-content:center}.inventory-modal[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{background-color:#fff;color:#000}.inventory-modal[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%], .inventory-modal[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%}.leaderboard[_ngcontent-%COMP%]{position:fixed;top:0;left:0;background-color:rgba(0,0,0,.9);width:100vw;height:100vh;color:#fff;display:flex;justify-content:center;align-items:center}.leaderboard[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]{width:60%;min-width:600px;height:80%;display:flex;justify-content:flex-start;overflow-y:scroll;align-items:center;flex-direction:column}.leaderboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.leaderboard[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:200px;text-align:center;margin:5px;padding:10px 0}.leaderboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-child(2n){background-color:#232323}.leaderboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-child(odd){background-color:#454545}.leaderboard[_ngcontent-%COMP%]   .row.header[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-size:1.2em}.avatar-name[_ngcontent-%COMP%]{border:1px solid #fff;width:100%;padding:5px 0;text-align:center}#alias[_ngcontent-%COMP%]{background-color:#fff;color:#000}.item-trophy[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:1.5em;font-weight:700}.trophy[_ngcontent-%COMP%]{width:64px}.trophy[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{filter:drop-shadow(0 0 1px white)}.online-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:rgba(0,0,0,.9);display:flex;justify-content:space-evenly;align-items:center}.online-modal[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em}.online-modal[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{text-align:center;width:30%}.online-modal[_ngcontent-%COMP%]   .user-pool[_ngcontent-%COMP%]{border:1px solid #454545;background-color:#000;width:60%;height:80vh;border-radius:10px;overflow-y:scroll;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.online-modal[_ngcontent-%COMP%]   .user-pool[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{width:70%;background-color:#232323;padding:10px;margin:5px 0;color:#fff;display:flex;justify-content:space-between;align-items:center;border:1px solid #000;transition:.3s}.online-modal[_ngcontent-%COMP%]   .user-pool[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:hover{border:1px solid #fff}@media only screen and (max-width:1550px){.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;overflow-y:scroll}.main[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;top:unset;left:unset;right:unset;bottom:unset;margin:10px 0;width:900px;max-width:100%;text-align:center}.opponent[_ngcontent-%COMP%]{max-width:100%}.container.top-right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;text-align:center}.bg[_ngcontent-%COMP%], .md[_ngcontent-%COMP%], .sm[_ngcontent-%COMP%]{text-align:center!important}}.starter-decks-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:rgba(0,0,0,.9);display:flex;justify-content:center;align-items:center}.starter-decks-modal[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{position:absolute;bottom:25px;color:#fff;background-color:#000;padding:10px 20px;border:1px solid #343434;font-size:1.5em}.starter-decks-modal[_ngcontent-%COMP%]   .deck-choice[_ngcontent-%COMP%]{width:300px;height:400px;margin:0 10px;border:5px solid #dedede;display:flex;justify-content:center;align-items:center;flex-direction:column;border-radius:10px;background-color:#232323;transition:.3s}.starter-decks-modal[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;width:100%;text-align:center;margin:10px 0}.starter-decks-modal[_ngcontent-%COMP%]   .deck-choice[_ngcontent-%COMP%]:hover{box-shadow:0 0 25px #fff}.starter-decks-modal[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:256px;border:1px solid #fff;border-radius:5px;overflow:hidden}.starter-decks-modal[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%], .starter-decks-modal[_ngcontent-%COMP%]   .attributes[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.starter-decks-modal[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]{background-color:#000;border:1px solid #343434;padding:5px;margin:5px;border-radius:5px;color:#fff;flex-direction:column;text-transform:uppercase}.starter-decks-modal[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:32px}"]}),e})();function _r(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"app-dice-full",15),Ye.Wb("dblclick",(function(){Ye.ic(e);const r=t.$implicit;return Ye.Yb(2).selectAndClick(r)})),Ye.Nb()}if(2&e){const e=t.$implicit;Ye.bc("ngClass",e.sm.values.isSelected?"selected":"")("dice",e)}}function Mr(e,t){if(1&e&&(Ye.Ob(0,"p"),Ye.oc(1),Ye.Nb()),2&e){const e=Ye.Yb(2);Ye.zb(1),Ye.qc("Dice Deck (",e.profile.diceCaboodle.getFiltered("isInDeck",!0).length,"/5)")}}function kr(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"app-dice-full",15),Ye.Wb("dblclick",(function(){Ye.ic(e);const r=t.$implicit;return Ye.Yb(2).deselectAndClick(r)})),Ye.Nb()}if(2&e){const e=t.$implicit;Ye.bc("ngClass",e.sm.values.isSelected?"selected":"")("dice",e)}}function Sr(e,t){if(1&e&&(Ye.Ob(0,"div",11),Ye.Ob(1,"p"),Ye.oc(2),Ye.Nb(),Ye.Ob(3,"p"),Ye.oc(4),Ye.Nb(),Ye.Ob(5,"div",12),Ye.nc(6,_r,1,2,"app-dice-full",13),Ye.Nb(),Ye.nc(7,Mr,2,1,"p",14),Ye.Ob(8,"div",12),Ye.nc(9,kr,1,2,"app-dice-full",13),Ye.Nb(),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(2),Ye.pc(e.profile.sm.values.activeDeck.title),Ye.zb(2),Ye.qc("Dice Collection (",e.profile.diceCaboodle.getFiltered("isInDeck",!1).length,")"),Ye.zb(2),Ye.bc("ngForOf",e.getDiceDeck()),Ye.zb(1),Ye.bc("ngIf",e.profile.sm.values.canModifyDeck),Ye.zb(2),Ye.bc("ngForOf",e.profile.diceCaboodle.getFiltered("isInDeck",!0))}}const Cr=function(e){return{hidden:e}};function Er(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"app-card-mini",16),Ye.Wb("dblclick",(function(){Ye.ic(e);const r=t.$implicit;return Ye.Yb().selectAndClick(r)})),Ye.Nb()}if(2&e){const e=t.$implicit,r=Ye.Yb();Ye.cc("numberCopies",r.profile.cardsCaboodle.getCollectionCount(e)),Ye.bc("card",e)("board",r.board)("ngClass",Ye.fc(4,Cr,0===r.profile.cardsCaboodle.getCollectionCount(e)))}}function Pr(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"app-card-mini",17),Ye.Wb("dblclick",(function(){Ye.ic(e);const r=t.$implicit;return Ye.Yb().deselectAndClick(r)})),Ye.Nb()}if(2&e){const e=t.$implicit,r=Ye.Yb();Ye.bc("card",e)("board",r.board)}}function xr(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",18),Ye.Wb("click",(function(){Ye.ic(e);const r=t.$implicit;return Ye.Yb().setFilterAttribute(r)})),Ye.Mb(1,"ion-img",19),Ye.Nb()}if(2&e){const e=t.$implicit,r=Ye.Yb();Ye.Bb("attribute-filter-item filter-item filter-item-",e,""),Ye.zb(1),Ye.cc("src",r.util.getDiceFace(e))}}let Or=(()=>{class e{constructor(){this.util=ne,this.isCardSelected=!1,this.isDiceSelected=!1,this.filters={attribute:"",cost:-1}}ngOnInit(){return Object(s.a)(this,void 0,void 0,(function*(){this.profile.sm.values.wallet&&this.profile.loadActiveDeck()}))}selectCard(e){return Object(s.a)(this,void 0,void 0,(function*(){this.clearSelectedDice(),this.clearSelectedCards(),this.isDiceSelected=!1,this.isCardSelected=!0;const t=this.profile.cardsCaboodle.getFiltered("originalHash",e.originalHash);e.sm.toggle("isSelected");let r=t.filter(e=>!e.sm.values.isInDeck)[0];r||(r=e),r.sm.enable("isSelected")}))}selectDeckCard(e){this.clearSelectedCards(),e.sm.toggle("isSelected")}selectDice(e){return Object(s.a)(this,void 0,void 0,(function*(){this.clearSelectedDice(),this.clearSelectedCards(),this.isDiceSelected=!0,this.isCardSelected=!1,e.sm.setValue("isSelected",!e.sm.values.isSelected)}))}addToDeck(){this.isCardSelected&&!this.isDiceSelected&&this.addCardsToDeck(),this.isDiceSelected&&!this.isCardSelected&&this.addDiceToDeck()}rmFromDeck(){}viewItem(){}addCardsToDeck(){const e=this.profile.cardsCaboodle.getFiltered("isSelected",!0);for(let t=0;t<e.length;t++)e[t].sm.enable("isInDeck");this.clearSelectedCards()}clearSelectedCards(){const e=this.profile.cardsCaboodle.items;for(let r=0;r<e.length;r++)e[r].sm.setState("deselected-"+e[r].hash);const t=this.profile.cards.items;for(let r=0;r<t.length;r++)t[r].sm.setState("deselected-"+t[r].hash)}clearSelectedDice(){const e=this.profile.diceCaboodle.items;for(let t=0;t<e.length;t++)e[t].sm.setState("deselected-"+e[t].hash)}rmCardsFromDeck(){const e=this.profile.cardsCaboodle.getFiltered("isSelected",!0);for(let t=0;t<e.length;t++)e[t].sm.setState("rmFromDeck-"+e[t].hash);this.clearSelectedCards()}addDiceToDeck(){const e=this.profile.diceCaboodle.getFiltered("isSelected",!0);for(let t=0;t<e.length;t++)e[t].sm.setState("addToDeck-"+e[t].hash);this.clearSelectedDice()}rmDiceFromDeck(){const e=this.profile.diceCaboodle.getFiltered("isSelected",!0);for(let t=0;t<e.length;t++)e[t].sm.setState("rmFromDeck-"+e[t].hash);this.clearSelectedDice()}getBoosterPack(){return Object(s.a)(this,void 0,void 0,(function*(){yield this.profile.getBalance(),this.profile.events.on("purchaseFn",e=>{}),this.profile.events.emit("purchaseBg",{profile:this.profile,httpMessenger:this.httpMessenger})}))}storeLocalDeck(){var e=this.profile.cardsCaboodle.getFiltered("isInDeck",!0).map(e=>({hash:e.hash,originalHash:e.originalHash}));localStorage.setItem("deck",JSON.stringify(e));var t=this.profile.diceCaboodle.getFiltered("isInDeck",!0).map(e=>({hash:e.hash,originalHash:e.originalHash}));localStorage.setItem("dice-deck",JSON.stringify(t))}closeModal(){return Object(s.a)(this,void 0,void 0,(function*(){yield this.storeRemoteDeck(),yield this.profile.getInventory(),this.profile.sm.enable("deckReady")}))}selectAndClick(e){return Object(s.a)(this,void 0,void 0,(function*(){e instanceof ye&&(yield this.selectDice(e)),e instanceof ke&&(yield this.selectCard(e)),this.addToDeck()}))}deselectAndClick(e){return Object(s.a)(this,void 0,void 0,(function*(){e instanceof ye&&(yield this.selectDice(e),this.rmDiceFromDeck()),e instanceof ke&&(yield this.selectCard(e),this.rmCardsFromDeck())}))}getFilterCosts(){const e=[];return this.profile.cards.items.filter(t=>!e.includes(t.cost)&&(e.push(t.cost),!0)),e}getFiltersAttributes(){const e=[];return this.profile.cards.items.filter(t=>!e.includes(t.attribute)&&(e.push(t.attribute),!0)),e}setFilterAttribute(e){const t=document.querySelectorAll(".attribute-filter-item");let r=!0;document.querySelector(".filter-item-"+e).classList.contains("active")&&(r=!1);for(let n=0;n<t.length;n++)t[n].classList.remove("active");r?(this.filters.attribute=e,document.querySelector(".filter-item-"+e).classList.add("active")):this.filters.attribute=""}getCardsDeck(){return""===this.filters.attribute&&this.filters.cost<0?this.profile.cards.getFiltered("isOwned",!0,"attribute"):this.profile.cards.getFiltered("isOwned",!0,"attribute").filter(e=>""!==this.filters.attribute?this.filters.cost>=0?e.cost===this.filters.cost&&e.attribute===this.filters.attribute:e.attribute===this.filters.attribute:this.filters.cost>=0?e.cost===this.filters.cost&&e.attribute===this.filters.attribute:void 0)}getDiceDeck(){return""===this.filters.attribute&&this.filters.cost<0?this.profile.diceCaboodle.getFiltered("isInDeck",!1,"color"):this.profile.diceCaboodle.getFiltered("isInDeck",!1,"color").filter(e=>{if(""!==this.filters.attribute)return e.faces.includes(this.filters.attribute)})}storeRemoteDeck(){return Object(s.a)(this,void 0,void 0,(function*(){const e=this.profile.cardsCaboodle.getFiltered("isInDeck",!0),t=this.profile.diceCaboodle.getFiltered("isInDeck",!0),r=[];for(let i=0;i<e.length;i++)r.push({hash:e[i].sm.values.hash,originalHash:e[i].originalHash});const n=[];for(let i=0;i<t.length;i++)n.push({hash:t[i].sm.values.hash,originalHash:t[i].originalHash});this.profile.sm.values.activeDeck.cards=r,this.profile.sm.values.activeDeck.dice=n,yield this.profile.postDeck(this.httpMessenger,this.profile.sm.values.activeDeck.title,{dice:n,cards:r},1)}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ye.Fb({type:e,selectors:[["app-card-collection"]],inputs:{profile:"profile",httpMessenger:"httpMessenger",board:"board"},decls:15,vars:7,consts:[[1,"main"],["class","collection-side dice-side",4,"ngIf"],[1,"deck-side",3,"ngClass"],[1,"grid","card-collection"],[3,"card","board","ngClass","numberCopies","dblclick",4,"ngFor","ngForOf"],[1,"card-deck-grid"],[3,"card","board","dblclick",4,"ngFor","ngForOf"],[1,"filters-container"],[1,"filter","attribute-filter"],[3,"class","click",4,"ngFor","ngForOf"],["src","assets/icons/cancel.png",1,"close-modal",3,"click"],[1,"collection-side","dice-side"],[1,"dice-grid"],[3,"ngClass","dice","dblclick",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngClass","dice","dblclick"],[3,"card","board","ngClass","numberCopies","dblclick"],[3,"card","board","dblclick"],[3,"click"],[1,"filter-icon",3,"src"]],template:function(e,t){1&e&&(Ye.Ob(0,"div",0),Ye.nc(1,Sr,10,5,"div",1),Ye.Ob(2,"div",2),Ye.Ob(3,"p"),Ye.oc(4),Ye.Nb(),Ye.Ob(5,"div",3),Ye.nc(6,Er,1,6,"app-card-mini",4),Ye.Nb(),Ye.Ob(7,"p"),Ye.oc(8),Ye.Nb(),Ye.Ob(9,"div",5),Ye.nc(10,Pr,1,2,"app-card-mini",6),Ye.Nb(),Ye.Nb(),Ye.Ob(11,"div",7),Ye.Ob(12,"div",8),Ye.nc(13,xr,2,4,"div",9),Ye.Nb(),Ye.Nb(),Ye.Ob(14,"ion-img",10),Ye.Wb("click",(function(){return t.closeModal()})),Ye.Nb(),Ye.Nb()),2&e&&(Ye.zb(1),Ye.bc("ngIf",t.profile.sm.values.canModifyDeck),Ye.zb(1),Ye.bc("ngClass",t.profile.sm.values.canModifyDeck?"":"cannot-edit"),Ye.zb(2),Ye.qc("Card Collection (",t.profile.cardsCaboodle.getFiltered("isOwned",!0).length,")"),Ye.zb(2),Ye.bc("ngForOf",t.getCardsDeck()),Ye.zb(2),Ye.qc("Card Deck (",t.profile.cardsCaboodle.getFiltered("isInDeck",!0).length,"/7)"),Ye.zb(2),Ye.bc("ngForOf",t.profile.cardsCaboodle.getFiltered("isInDeck",!0)),Ye.zb(3),Ye.bc("ngForOf",t.getFiltersAttributes()))},directives:[n.j,n.h,n.i,Yt,lt],styles:[".grid[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;border:1px solid #343434;overflow-y:scroll;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;max-height:60%}.card-view-menu[_ngcontent-%COMP%]{font-size:5em!important}.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:space-evenly;align-items:center}.buttons[_ngcontent-%COMP%], .collection-side[_ngcontent-%COMP%], .deck-side[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;position:relative}.collection-side[_ngcontent-%COMP%], .deck-side[_ngcontent-%COMP%]{width:40%;height:95vh}p[_ngcontent-%COMP%]{width:100%;font-size:1.3em;color:#fff;text-align:center}.buttons[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:64px;height:64px;color:#fff;font-size:2em;display:flex;justify-content:center;align-items:center;border:1px solid #fff;margin:10px}app-card-mini[_ngcontent-%COMP%]{border:3px solid #000}app-card-mini.selected[_ngcontent-%COMP%]{border:3px solid #fff;border-radius:5px}app-dice.selected[_ngcontent-%COMP%]{background:radial-gradient(hsla(0,0%,100%,.4),transparent)}.card-collection[_ngcontent-%COMP%]{position:relative}.play-overlay[_ngcontent-%COMP%]{position:absolute;height:100%;background-color:hsla(0,0%,100%,.6);font-size:3em;font-weight:700;color:#000;letter-spacing:5px}.dice-grid[_ngcontent-%COMP%], .play-overlay[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.dice-grid[_ngcontent-%COMP%]{flex-wrap:wrap;height:40%;background-color:#000;border:1px solid #343434;margin:10px 0;overflow-x:hidden;overflow-y:scroll}.close-modal[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;transition:.3s}.close-modal[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 0 3px white)}.deck-side.cannot-edit[_ngcontent-%COMP%]{width:100%;height:320px;bottom:0;position:absolute}.dice-side[_ngcontent-%COMP%]{max-width:420px}.deck-side[_ngcontent-%COMP%]{width:calc(100% - 500px)}.card-deck-grid[_ngcontent-%COMP%]{width:100%;height:200px;overflow-x:scroll;display:flex;justify-content:flex-start;align-items:center;background-color:#000;border:1px solid #343434}.card-collection[_ngcontent-%COMP%]   app-card-mini[_ngcontent-%COMP%]{margin:15px}.card-deck-grid[_ngcontent-%COMP%]   app-card-mini[_ngcontent-%COMP%]{margin:0 20px}.filters-container[_ngcontent-%COMP%]{position:fixed;width:100vw;height:auto;color:#fff;top:15px;left:0;justify-content:space-evenly}.filter[_ngcontent-%COMP%], .filters-container[_ngcontent-%COMP%]{display:flex;align-items:center}.filter[_ngcontent-%COMP%]{justify-content:center}.filter-item[_ngcontent-%COMP%]{margin:5px}.attribute-filter[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:100%;border:1px solid #fff;overflow:hidden}.filter-icon[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:100%;border:1px solid #fff}.attribute-filter-item.active[_ngcontent-%COMP%]{background-color:#428cff}"]}),e})();function Ar(e,t){if(1&e&&(Ye.Ob(0,"div",19),Ye.Mb(1,"ion-img",20),Ye.Ob(2,"div",4),Ye.oc(3),Ye.Nb(),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(3),Ye.pc(e.card.sm.values.vit)}}function Tr(e,t){if(1&e&&Ye.Mb(0,"ion-img",21),2&e){const e=Ye.Yb();Ye.cc("src",e.card.sm.values.equipedCard.battlerUrl)}}function Rr(e,t){if(1&e&&(Ye.Ob(0,"div",24),Ye.Ob(1,"p"),Ye.Ob(2,"b"),Ye.oc(3),Ye.Nb(),Ye.Nb(),Ye.Ob(4,"p"),Ye.oc(5),Ye.Nb(),Ye.Ob(6,"p"),Ye.Ob(7,"b"),Ye.oc(8,"Cost:"),Ye.Nb(),Ye.oc(9),Ye.Nb(),Ye.Nb()),2&e){const e=t.$implicit,r=Ye.Yb(2);Ye.zb(3),Ye.pc(r.board.abilityCollection.get(e).name),Ye.zb(2),Ye.pc(r.board.abilityCollection.get(e).description),Ye.zb(4),Ye.rc(" x",r.board.abilityCollection.get(e).cost," ",r.board.abilityCollection.get(e).attribute.toUpperCase(),"")}}function Ir(e,t){if(1&e&&(Ye.Ob(0,"div",22),Ye.nc(1,Rr,10,4,"div",23),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(1),Ye.bc("ngForOf",e.card.abilities)}}function Nr(e,t){if(1&e&&(Ye.Ob(0,"span"),Ye.oc(1),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(1),Ye.qc("/ ",e.card.cooldown,"")}}function Br(e,t){if(1&e&&(Ye.Ob(0,"div",25),Ye.Ob(1,"b"),Ye.oc(2,"Range: "),Ye.Nb(),Ye.oc(3),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(3),Ye.qc("",e.card.sm.values.rng," ")}}function Dr(e,t){if(1&e&&(Ye.Ob(0,"div",26),Ye.Mb(1,"ion-img",27),Ye.Ob(2,"div",4),Ye.oc(3),Ye.Nb(),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(3),Ye.pc(e.card.sm.values.mov)}}function jr(e,t){if(1&e&&(Ye.Ob(0,"div",28),Ye.Mb(1,"ion-img",29),Ye.Ob(2,"div",4),Ye.oc(3),Ye.Nb(),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(3),Ye.pc(e.card.sm.values.btl)}}let Lr=(()=>{class e{constructor(){this.util=ne}ngOnInit(){}closeCardView(){this.board.sm.values.cardInDisplay=!1}getTranslatedClans(){const e=this.card.clans,t=[];for(let r=0;r<e.length;r++)t[r]=e[r];return t.join(" \xb7 ")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ye.Fb({type:e,selectors:[["app-card-full"]],inputs:{card:"card",board:"board"},decls:25,vars:16,consts:[[1,"main"],[1,"card-outer"],[1,"stat","cost","icon-bg"],["src","/assets/card-resources/sun.png"],[1,"stat-value"],[1,"stat","attribute"],[3,"src"],["class","stat vit icon-bg",4,"ngIf"],[1,"illustration",3,"src"],["class","equiped-weapon",3,"src",4,"ngIf"],[1,"title"],[1,"clans"],["class","abilities",4,"ngIf"],[1,"cooldown"],[4,"ngIf"],["class","range",4,"ngIf"],["class","stat mov icon-bg",4,"ngIf"],["class","stat btl icon-bg",4,"ngIf"],["src","assets/icons/cancel.png",1,"close-modal",3,"click"],[1,"stat","vit","icon-bg"],["src","/assets/card-resources/heart.png"],[1,"equiped-weapon",3,"src"],[1,"abilities"],["class","ability",4,"ngFor","ngForOf"],[1,"ability"],[1,"range"],[1,"stat","mov","icon-bg"],["src","/assets/card-resources/boot.png"],[1,"stat","btl","icon-bg"],["src","/assets/card-resources/fist.png"]],template:function(e,t){1&e&&(Ye.Ob(0,"div",0),Ye.Ob(1,"div",1),Ye.Ob(2,"div",2),Ye.Mb(3,"ion-img",3),Ye.Ob(4,"div",4),Ye.oc(5),Ye.Nb(),Ye.Nb(),Ye.Ob(6,"div",5),Ye.Mb(7,"ion-img",6),Ye.Nb(),Ye.nc(8,Ar,4,1,"div",7),Ye.Mb(9,"ion-img",8),Ye.nc(10,Tr,1,1,"ion-img",9),Ye.Ob(11,"div",10),Ye.oc(12),Ye.Nb(),Ye.Ob(13,"div",11),Ye.oc(14),Ye.Nb(),Ye.nc(15,Ir,2,1,"div",12),Ye.Ob(16,"div",13),Ye.Ob(17,"b"),Ye.oc(18,"Cooldown: "),Ye.Nb(),Ye.oc(19),Ye.nc(20,Nr,2,1,"span",14),Ye.Nb(),Ye.nc(21,Br,4,1,"div",15),Ye.nc(22,Dr,4,1,"div",16),Ye.nc(23,jr,4,1,"div",17),Ye.Nb(),Ye.Nb(),Ye.Ob(24,"ion-img",18),Ye.Wb("click",(function(){return t.closeCardView()})),Ye.Nb()),2&e&&(Ye.zb(1),Ye.lc("background-image:url(",t.card.backgroundUrl,");"),Ye.zb(4),Ye.pc(t.card.sm.values.cost),Ye.zb(2),Ye.cc("src",t.util.getDiceFace(t.card.attribute)),Ye.zb(1),Ye.bc("ngIf",!t.card.sm.values.clans.includes("Hex")&&!t.card.sm.values.clans.includes("Illusion")),Ye.zb(1),Ye.cc("src",t.card.battlerUrl),Ye.zb(1),Ye.bc("ngIf",t.card.sm.values.equipedCard),Ye.zb(2),Ye.qc(" ",t.card.title," "),Ye.zb(2),Ye.qc(" ",t.getTranslatedClans()," "),Ye.zb(1),Ye.bc("ngIf",t.card.abilities.length>0),Ye.zb(4),Ye.qc("",t.card.sm.values.cooldown," "),Ye.zb(1),Ye.bc("ngIf",t.card.sm.values.cooldown!==t.card.cooldown),Ye.zb(1),Ye.bc("ngIf",!t.card.sm.values.clans.includes("Hex")&&!t.card.sm.values.clans.includes("Illusion")),Ye.zb(1),Ye.bc("ngIf",!t.card.sm.values.clans.includes("Hex")&&!t.card.sm.values.clans.includes("Illusion")),Ye.zb(1),Ye.bc("ngIf",!t.card.sm.values.clans.includes("Hex")&&!t.card.sm.values.clans.includes("Illusion")))},directives:[n.j,n.i],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.card-outer[_ngcontent-%COMP%]{height:80vh;width:60vh;border:5px solid #fff;border-radius:3px;background-repeat:repeat;position:relative}.illustration[_ngcontent-%COMP%]{position:absolute;top:64px;width:70%;left:15%;filter:drop-shadow(0 0 10px white)}.stat[_ngcontent-%COMP%]{color:#000;position:absolute;width:96px;height:96px;background-size:cover;background-position:50%;font-size:1.2em;background-color:#000;border:3px solid #fff;border-radius:3px}.stat[_ngcontent-%COMP%], .stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{z-index:1;width:100%;height:100%;font-size:2em}.cost[_ngcontent-%COMP%]{top:-32px;left:-32px}.mov[_ngcontent-%COMP%]{left:-32px}.btl[_ngcontent-%COMP%], .mov[_ngcontent-%COMP%]{bottom:-32px}.btl[_ngcontent-%COMP%], .vit[_ngcontent-%COMP%]{right:-32px}.vit[_ngcontent-%COMP%]{top:-32px}.attribute[_ngcontent-%COMP%]{width:128px;height:128px;top:-64px;left:calc(50% - 64px);background-color:#000;border-radius:100%;border:3px solid #fff;overflow:hidden}.attribute[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:100%}.vit[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{position:relative;top:-3px}.icon-bg[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon-bg[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{position:absolute;width:80%;height:80%;filter:drop-shadow(0 0 3px black)}.title[_ngcontent-%COMP%]{top:500px;width:90%;background-color:#fff;left:5%;height:64px;font-size:1.4em;text-align:center}.clans[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;border:3px solid #000}.clans[_ngcontent-%COMP%]{top:570px;width:80%;left:10%;background-color:#dedede;font-size:1.1em}.abilities[_ngcontent-%COMP%]{position:absolute;width:98%;left:1%;top:600px;display:flex;justify-content:center;align-items:center}.ability[_ngcontent-%COMP%]{background-color:#fff;color:#000;min-width:40%;font-size:.8em;margin:5px;text-align:center}.close-modal[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;transition:.3s}.close-modal[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 0 3px white)}.cooldown[_ngcontent-%COMP%]{top:72px;left:-32px}.cooldown[_ngcontent-%COMP%], .range[_ngcontent-%COMP%]{position:absolute;background-color:#000;color:#fff;font-size:1.3em;padding:10px;border:3px solid #fff;border-radius:5px}.range[_ngcontent-%COMP%]{bottom:72px;right:-32px}.clans[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{color:#000}.equiped-weapon[_ngcontent-%COMP%]{position:absolute;top:200px;left:0;width:384px;filter:drop-shadow(0 0 10px white)}"]}),e})();function Fr(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",1),Ye.Ob(1,"p"),Ye.oc(2,"Access"),Ye.Nb(),Ye.Mb(3,"ion-input",2),Ye.Mb(4,"ion-input",3),Ye.Ob(5,"p",4),Ye.oc(6,"min 8 chars, 1 symbol (!,$,%,&,@,#),"),Ye.Mb(7,"br"),Ye.oc(8," 1 uppercase letter, 1 lowercase letter,"),Ye.Mb(9,"br"),Ye.oc(10," 1 number"),Ye.Nb(),Ye.Ob(11,"div",5),Ye.Ob(12,"ion-button",6),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().register()})),Ye.oc(13,"Register"),Ye.Nb(),Ye.Ob(14,"span"),Ye.oc(15,"or"),Ye.Nb(),Ye.Ob(16,"ion-button",6),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().auth()})),Ye.oc(17,"Sign in"),Ye.Nb(),Ye.Nb(),Ye.Nb()}}function zr(e,t){if(1&e&&(Ye.Ob(0,"div",1),Ye.Ob(1,"p"),Ye.oc(2,"Your account"),Ye.Nb(),Ye.Mb(3,"ion-input",7),Ye.Mb(4,"ion-input",7),Ye.Ob(5,"p"),Ye.oc(6,"Your balance"),Ye.Nb(),Ye.Mb(7,"ion-input",7),Ye.Ob(8,"div",5),Ye.Ob(9,"ion-button",8),Ye.oc(10,"Log out"),Ye.Nb(),Ye.Nb(),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(3),Ye.cc("value",e.email),Ye.zb(1),Ye.cc("value",e.address),Ye.zb(3),Ye.cc("value",e.balance)}}let Ur=(()=>{class e{constructor(){this.hasAuthToken=!1,this.address="",this.email="",this.balance=0}ngOnInit(){return Object(s.a)(this,void 0,void 0,(function*(){if(!localStorage.getItem("failSafe"))return localStorage.clear(),localStorage.setItem("failSafe","true"),window.location.reload();const e=localStorage.getItem("auth-token");if(e){const t=new c,r=c.claimFromString(e);t.fromPrivateKey(localStorage.getItem("privateKey"),r.payload.email),this.profile.sm.values.wallet||this.profile.sm.setValue("wallet",t),this.profile.events.on("setValue",e=>{this.profile.sm.setValue(e.key,e.value)}),this.profile.sm.events.emit("setValue",{key:"email",value:r.payload.email}),this.profile.sm.events.emit("setValue",{key:"address",value:t.address}),yield this.profile.getBalance(),yield this.profile.getAlias(),this.profile.sm.events.emit("authFn",{});const n=yield this.profile.getCards();for(let e=0;e<n.length;e++){const t=n[e],r=c.claimFromString(t);this.profile.events.emit("gainOwnership-"+r.payload.card,{token:t,claim:r,profile:this.profile})}const i=yield this.profile.getDice();for(let e=0;e<i.length;e++){const t=i[e],r=c.claimFromString(t);this.profile.events.emit("gainOwnership-"+r.payload.dice,{token:t,claim:r,profile:this.profile})}yield this.profile.getInventory(),this.starterDecks(),this.profile.loadActiveDeck(),this.profile.sm.enable("deckReady")}yield ne.sleep(500),document.querySelector(".splash").classList.add("hide")}))}register(){return Object(s.a)(this,void 0,void 0,(function*(){if(this.profile.sm.values.isBusy)return;const e=document.querySelector('ion-input[name="email"]').value.toString().trim(),t=document.querySelector('ion-input[name="password"]').value.toString().trim();this.profile.events.emit("registerBg",{email:e,password:t,httpMessenger:this.httpMessenger})}))}auth(){return Object(s.a)(this,void 0,void 0,(function*(){if(this.profile.sm.values.isBusy)return;const e=document.querySelector('ion-input[name="email"]').value.toString().trim(),t=document.querySelector('ion-input[name="password"]').value.toString().trim();this.profile.events.emit("authBg",{email:e,password:t,httpMessenger:this.httpMessenger})}))}starterDecks(){const e=this.profile.sm.values.inventory;console.log("red player",e),e.filter(e=>"deck"===e.type&&e.title.indexOf("[SD")>=0).length>0||this.profile.sm.enable("showStarterDeckPicker")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ye.Fb({type:e,selectors:[["app-auth-modal"]],inputs:{events:"events",profile:"profile",httpMessenger:"httpMessenger"},decls:2,vars:2,consts:[["class","modal auth-modal",4,"ngIf"],[1,"modal","auth-modal"],["name","email","placeholder","Email","type","email"],["name","password","placeholder","Password","type","password"],[1,"tip"],[1,"button-container"],["color","dark",3,"click"],["type","text","disabled","true",3,"value"],["color","dark"]],template:function(e,t){1&e&&(Ye.nc(0,Fr,18,0,"div",0),Ye.nc(1,zr,11,3,"div",0)),2&e&&(Ye.bc("ngIf",!t.hasAuthToken),Ye.zb(1),Ye.bc("ngIf",t.hasAuthToken))},directives:[n.j],styles:[".modal[_ngcontent-%COMP%]{font-family:Avenir;width:500px;display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:1.2em;background-color:#1e1e1e;padding:20px;color:#fff;box-shadow:0 0 20px #000}ion-input[_ngcontent-%COMP%]{background-color:#343434;width:80%;border-top:1px solid #121212;border-bottom:1px solid #121212;margin:10px 0;text-align:center}.button-container[_ngcontent-%COMP%]{width:80%;display:flex;justify-content:space-evenly;align-items:center;margin:20px 0}p.tip[_ngcontent-%COMP%]{width:100%;font-size:.8em;text-align:center}"]}),e})(),Kr=(()=>{class e{constructor(){}ngOnInit(){}closeModal(){this.board.sm.toggle("showHelp")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ye.Fb({type:e,selectors:[["app-help"]],inputs:{board:"board"},decls:81,vars:0,consts:[[1,"main"],[1,"title"],[1,"info-container","general"],[1,"subtitle"],[1,"info-container","cards"],[1,"info-container","dice"],[1,"info-container","deck-editor"],[1,"info-container","board"],["src","assets/icons/cancel.png",1,"close-modal",3,"click"]],template:function(e,t){1&e&&(Ye.Ob(0,"div",0),Ye.Ob(1,"div",1),Ye.oc(2,"Welcome to Dice Guardians ALPHA"),Ye.Nb(),Ye.Ob(3,"div",2),Ye.Ob(4,"p",3),Ye.oc(5,"General"),Ye.Nb(),Ye.Ob(6,"p"),Ye.oc(7,'On the main menu click "FULLSCREEN" to get the best experience'),Ye.Nb(),Ye.Ob(8,"p"),Ye.oc(9,"Dice Guardians is a deck building 1v1 dungeon crawler"),Ye.Nb(),Ye.Ob(10,"p"),Ye.oc(11,"You gain EXP and coin for every won game"),Ye.Nb(),Ye.Ob(12,"p"),Ye.oc(13,"Coin can be exchanged for booster packs, which contain at least 3 cards and 1 dice"),Ye.Nb(),Ye.Nb(),Ye.Ob(14,"div",4),Ye.Ob(15,"p",3),Ye.oc(16,"The Cards"),Ye.Nb(),Ye.Ob(17,"p"),Ye.oc(18,"Cards show 4 attributes in their miniatures; cost, vitality, movement and battle"),Ye.Nb(),Ye.Ob(19,"p"),Ye.Ob(20,"b"),Ye.oc(21,"Cost:"),Ye.Nb(),Ye.oc(22," How much energy of a determined type must be used to cast the creature into the board"),Ye.Nb(),Ye.Ob(23,"p"),Ye.Ob(24,"b"),Ye.oc(25,"Vitality:"),Ye.Nb(),Ye.oc(26," How much damage this creature can take once on the board"),Ye.Nb(),Ye.Ob(27,"p"),Ye.Ob(28,"b"),Ye.oc(29,"Movement:"),Ye.Nb(),Ye.oc(30," How many titles this creature can advance on the board every turn"),Ye.Nb(),Ye.Ob(31,"p"),Ye.Ob(32,"b"),Ye.oc(33,"Battle:"),Ye.Nb(),Ye.oc(34," How much damage this creature inflicts to an opponent's vitality when attacking on the board"),Ye.Nb(),Ye.Ob(35,"p"),Ye.oc(36,"The background color of the card determines it's Attribute, which is the type of energy necessary to cast the creature"),Ye.Nb(),Ye.Nb(),Ye.Ob(37,"div",5),Ye.Ob(38,"p",3),Ye.oc(39,"The Dice"),Ye.Nb(),Ye.Ob(40,"p"),Ye.oc(41,"Dice are your main source of energy on the game"),Ye.Nb(),Ye.Ob(42,"p"),Ye.oc(43,"Every turn you roll 3 dice and collect the energy on the rolled faces"),Ye.Nb(),Ye.Ob(44,"p"),Ye.oc(45,"You can then use that energy to cast creatures into the board"),Ye.Nb(),Ye.Ob(46,"p"),Ye.oc(47,"As an example, creatures of the Water attribute will require Water dice crests rolled"),Ye.Nb(),Ye.Nb(),Ye.Ob(48,"div",6),Ye.Ob(49,"p",3),Ye.oc(50,"The Deck Editor"),Ye.Nb(),Ye.Ob(51,"p"),Ye.oc(52,'You can access the deck builder with the "DECK EDITOR" button on the top-left panel'),Ye.Nb(),Ye.Ob(53,"p"),Ye.oc(54,"The containers at the top show your collection of dice and cards"),Ye.Nb(),Ye.Ob(55,"p"),Ye.oc(56,"Double click on any to add them to your deck"),Ye.Nb(),Ye.Ob(57,"p"),Ye.oc(58,"Even tho it's not inforced we encourage the usage of decks with 5 dice and 7 cards"),Ye.Nb(),Ye.Nb(),Ye.Ob(59,"div",7),Ye.Ob(60,"p",3),Ye.oc(61,"The Board"),Ye.Nb(),Ye.Ob(62,"p"),Ye.oc(63,"Start your turn by selecting and rolling your dice"),Ye.Nb(),Ye.Ob(64,"p"),Ye.oc(65,"Your accumulated energy will display on the right side of the board"),Ye.Nb(),Ye.Ob(66,"p"),Ye.oc(67,"If you accumulated enough energy to cast a creature it's card will show in the bottom menu"),Ye.Nb(),Ye.Ob(68,"p"),Ye.oc(69,"The tiles where the cast can be conducted will be highlightened in the field"),Ye.Nb(),Ye.Ob(70,"p"),Ye.oc(71,"After casting you can unfold 5 more floor tiles"),Ye.Nb(),Ye.Ob(72,"p"),Ye.oc(73,"Both your and your enemie's creatures will require floor tiles to walk on"),Ye.Nb(),Ye.Ob(74,"p"),Ye.oc(75,"After the cast you can either move or battle with the creature on the board"),Ye.Nb(),Ye.Ob(76,"p"),Ye.oc(77,"Every turn you'll have the chance to move once and battle once with every creature on the board"),Ye.Nb(),Ye.Ob(78,"p"),Ye.oc(79,"The first to take 5 enemies down (reduce their Vitality to 0) wins"),Ye.Nb(),Ye.Nb(),Ye.Ob(80,"ion-img",8),Ye.Wb("click",(function(){return t.closeModal()})),Ye.Nb(),Ye.Nb())},styles:[".main[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;color:#fff;overflow-y:scroll;width:100%;height:100vh}.title[_ngcontent-%COMP%]{font-size:2em;width:100%;font-weight:900;text-align:center;margin:20px 0}.info-container[_ngcontent-%COMP%]{width:80%;margin:10px;background-color:#000;border:1px solid #343434}.info-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .subtitle[_ngcontent-%COMP%]{text-align:center;width:100%}.subtitle[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700}.close-modal[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;transition:.3s}.close-modal[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 0 3px white)}"]}),e})();function Hr(e,t){if(1&e&&Ye.Mb(0,"app-board-battler",16),2&e){const e=t.$implicit,r=Ye.Yb();Ye.mc("\n          left:",e.sm.values.x,"px;\n          top:",e.sm.values.y,"px;\n        "),Ye.bc("board",r.board)("profile",r.board.players.blue)("card",e)}}function qr(e,t){if(1&e&&Ye.Mb(0,"app-board-battler",16),2&e){const e=t.$implicit,r=Ye.Yb();Ye.mc("\n          left:",e.sm.values.x,"px;\n          top:",e.sm.values.y,"px;\n        "),Ye.bc("board",r.board)("profile",r.board.players.red)("card",e)}}function Gr(e,t){if(1&e&&(Ye.Ob(0,"div",17),Ye.Mb(1,"app-board-deck",18),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(1),Ye.bc("board",e.board)("profile",e.board.players.red)("game",e.game)}}function Vr(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",19),Ye.Ob(1,"ion-img",20),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().closeDiceModal()})),Ye.Nb(),Ye.Mb(2,"app-dice-pool",21),Ye.Nb()}if(2&e){const e=Ye.Yb();Ye.zb(2),Ye.bc("profile",e.board.players.red)}}function Wr(e,t){if(1&e&&(Ye.Ob(0,"div",19),Ye.Mb(1,"ion-img",22),Ye.Mb(2,"app-matchmaking",23),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(2),Ye.bc("board",e.board)("httpMessenger",e.httpMessenger)}}function Yr(e,t){if(1&e&&(Ye.Ob(0,"div",19),Ye.Mb(1,"app-card-collection",24),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(1),Ye.bc("httpMessenger",e.httpMessenger)("profile",e.board.players.red)("board",e.board)}}function Jr(e,t){if(1&e&&(Ye.Ob(0,"div",19),Ye.Mb(1,"app-card-full",25),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(1),Ye.bc("card",e.board.sm.values.cardInDisplay)("board",e.board)}}function Zr(e,t){if(1&e&&(Ye.Ob(0,"div",19),Ye.Mb(1,"ion-img",22),Ye.Mb(2,"app-auth-modal",26),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(2),Ye.bc("httpMessenger",e.httpMessenger)("events",e.events)("profile",e.board.players.red)}}function Xr(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",29),Ye.Ob(1,"p"),Ye.oc(2,"Congratulations!"),Ye.Nb(),Ye.Ob(3,"p"),Ye.oc(4,"You won"),Ye.Nb(),Ye.Ob(5,"p"),Ye.oc(6,"\u{1f973}\u{1f973}\u{1f973}\u{1f973}\u{1f973}"),Ye.Nb(),Ye.Ob(7,"p"),Ye.oc(8),Ye.Nb(),Ye.Ob(9,"p"),Ye.oc(10),Ye.Nb(),Ye.Ob(11,"p"),Ye.oc(12,"\xa0"),Ye.Nb(),Ye.Ob(13,"p"),Ye.oc(14),Ye.Nb(),Ye.Ob(15,"p"),Ye.oc(16),Ye.Nb(),Ye.Ob(17,"p"),Ye.oc(18),Ye.Nb(),Ye.Ob(19,"p"),Ye.Ob(20,"ion-button",14),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb(2).reload()})),Ye.oc(21," Back to Lobby "),Ye.Nb(),Ye.Nb(),Ye.Nb()}if(2&e){const e=Ye.Yb(2);Ye.zb(8),Ye.qc("+",e.board.sm.values.wonCoin," coins"),Ye.zb(2),Ye.qc("",e.board.players.red.sm.values.balance," coins"),Ye.zb(4),Ye.qc("+",e.board.sm.values.wonExp," EXP"),Ye.zb(2),Ye.rc("",e.board.players.red.sm.values.exp,"/",e.util.getExpToNextLevel(e.board.players.red.sm.values.lvl),""),Ye.zb(2),Ye.qc("LVL: ",e.board.players.red.sm.values.lvl,"")}}function $r(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",29),Ye.Ob(1,"p"),Ye.oc(2,"Bummer, you lost!"),Ye.Nb(),Ye.Ob(3,"p"),Ye.oc(4,"\u{1f622}\u{1f622}\u{1f622}\u{1f622}\u{1f622}"),Ye.Nb(),Ye.Ob(5,"p"),Ye.oc(6,"There are no rewards"),Ye.Nb(),Ye.Ob(7,"p"),Ye.Ob(8,"ion-button",14),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb(2).reload()})),Ye.oc(9," Back to Lobby "),Ye.Nb(),Ye.Nb(),Ye.Nb()}}function Qr(e,t){if(1&e&&(Ye.Ob(0,"div",27),Ye.nc(1,Xr,22,6,"div",28),Ye.nc(2,$r,10,0,"div",28),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(1),Ye.bc("ngIf",e.board.sm.values.isGameWon),Ye.zb(1),Ye.bc("ngIf",e.board.sm.values.isGameLost)}}function en(e,t){if(1&e&&(Ye.Ob(0,"div",19),Ye.Mb(1,"app-help",1),Ye.Nb()),2&e){const e=Ye.Yb();Ye.zb(1),Ye.bc("board",e.board)}}function tn(e,t){if(1&e){const e=Ye.Pb();Ye.Ob(0,"div",30),Ye.Ob(1,"div",31),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().scrollLeft()})),Ye.Mb(2,"ion-img",32),Ye.Nb(),Ye.Ob(3,"div",33),Ye.Wb("click",(function(){return Ye.ic(e),Ye.Yb().scrollRight()})),Ye.Mb(4,"ion-img",34),Ye.Nb(),Ye.Nb()}}const rn=function(e){return{translucid:e}},nn=[{path:"",component:(()=>{class e{constructor(e){this.util=ne,this.events=We,this.isModalVisible=!1,this.email="",this.address="",this.balance=0,this.isDrawerVisible=!0,this.isCardCollectionModalVisible=!0,this.httpClient=e,this.httpMessenger=new Te(this.httpClient),this.events.on("isDrawerVisible",e=>{this.isDrawerVisible=!this.isDrawerVisible}),this.board=new ge(this.events),this.board.players.red=new Oe(this.events,!0,this.httpMessenger),this.board.players.blue=new Oe(this.events,!1,this.httpMessenger),this.isModalVisible=!0;let t=!1;this.board.events.on("handshakeFn",e=>Object(s.a)(this,void 0,void 0,(function*(){"CPU"===e.gameType&&(this.game=new Le(this.board.players.red,new e.playerConstructor(this.board.events),this.board,!0)),"P2P"!==e.gameType||t||(t=!0,yield this.board.players.red.p2p.connectToPeer(e.address),this.game=new Le(this.board.players.red,e.blue,this.board,this.board.sm.values.isPlayerChallenging),this.board.game=this.game)})))}ngOnInit(){}triggerModal(){this.isModalVisible=!this.isModalVisible}toggleDrawerMenu(){this.isDrawerVisible=!this.isDrawerVisible}toggleCardCollectionModal(){this.isCardCollectionModalVisible=!this.isCardCollectionModalVisible}closeDeckModal(){this.board.players.red.sm.disable("isModalVisible"),this.board.players.red.sm.disable("showBoardDeck")}closeDiceModal(){this.board.players.red.sm.disable("isModalVisible"),this.board.players.red.sm.disable("showDicePool")}testMint(){return Object(s.a)(this,void 0,void 0,(function*(){console.log("testMint")}))}mouseOverToggle(e){document.querySelector("#board-deck-"+e.hash).classList.toggle("actionHover")}closeCollectionModal(){this.board.players.red.sm.enable("deckReady")}reload(){window.location.reload()}logout(){return Object(s.a)(this,void 0,void 0,(function*(){localStorage.clear(),window.location.reload()}))}scrollRight(){document.querySelector("#main-container").scrollLeft+=.75*document.querySelector("body").clientWidth}scrollLeft(){document.querySelector("#main-container").scrollLeft-=.75*document.querySelector("body").clientWidth}scrollTop(){document.querySelector("#main-container").scrollTop-=document.querySelector("body").clientHeight/3}scrollBottom(){document.querySelector("#main-container").scrollTop+=document.querySelector("body").clientHeight/3}}return e.\u0275fac=function(t){return new(t||e)(Ye.Lb(Je.a))},e.\u0275cmp=Ye.Fb({type:e,selectors:[["app-arena"]],decls:45,vars:19,consts:[["id","main-container",1,"main"],[3,"board"],[1,"board-battlers-container",3,"ngClass"],[3,"board","profile","card","style",4,"ngFor","ngForOf"],["class","player-red-deck",4,"ngIf"],[1,"menu-drawer",3,"ngClass"],[1,"info"],[3,"click"],[1,"button"],[1,"extra"],["class","modal",4,"ngIf"],["class","game-over-overlay",4,"ngIf"],[1,"splash"],["src","assets/spinner.gif",1,"spinner"],["color","transparent",3,"click"],["class","scroll-directions",4,"ngIf"],[3,"board","profile","card"],[1,"player-red-deck"],[3,"board","profile","game"],[1,"modal"],["src","assets/icons/cancel.png",1,"close-modal",3,"click"],[3,"profile"],["src","assets/icons/cancel.png",1,"close-modal"],[3,"board","httpMessenger"],[3,"httpMessenger","profile","board"],[3,"card","board"],[3,"httpMessenger","events","profile"],[1,"game-over-overlay"],["class","game-over",4,"ngIf"],[1,"game-over"],[1,"scroll-directions"],[1,"direction","direction-left",3,"click"],["src","/assets/icons/left.png"],[1,"direction","direction-right",3,"click"],["src","/assets/icons/right.png"]],template:function(e,t){1&e&&(Ye.Ob(0,"ion-content"),Ye.Ob(1,"div",0),Ye.Mb(2,"app-board",1),Ye.Ob(3,"div",2),Ye.nc(4,Hr,1,7,"app-board-battler",3),Ye.nc(5,qr,1,7,"app-board-battler",3),Ye.Nb(),Ye.nc(6,Gr,2,3,"div",4),Ye.Nb(),Ye.Ob(7,"div",5),Ye.Ob(8,"ion-list"),Ye.Ob(9,"ion-item"),Ye.Ob(10,"ion-label",6),Ye.oc(11),Ye.Nb(),Ye.Nb(),Ye.Ob(12,"ion-item"),Ye.Ob(13,"ion-label",6),Ye.oc(14),Ye.Nb(),Ye.Nb(),Ye.Ob(15,"ion-item"),Ye.Ob(16,"ion-label",6),Ye.oc(17),Ye.Nb(),Ye.Nb(),Ye.Ob(18,"ion-item",7),Ye.Wb("click",(function(){return t.toggleCardCollectionModal()})),Ye.Ob(19,"ion-label",8),Ye.oc(20,"Card Collection"),Ye.Nb(),Ye.Nb(),Ye.Ob(21,"ion-item"),Ye.Ob(22,"ion-label",8),Ye.oc(23,"Get Booster Pack (300 coins)"),Ye.Nb(),Ye.Nb(),Ye.Ob(24,"ion-item"),Ye.Ob(25,"ion-label",9),Ye.oc(26,"Credits"),Ye.Nb(),Ye.Nb(),Ye.Ob(27,"ion-item",7),Ye.Wb("click",(function(){return t.logout()})),Ye.Ob(28,"ion-label",9),Ye.oc(29,"Log Out"),Ye.Nb(),Ye.Nb(),Ye.Ob(30,"ion-item",7),Ye.Wb("click",(function(){return t.toggleDrawerMenu()})),Ye.Ob(31,"ion-label",8),Ye.oc(32,"Close Menu"),Ye.Nb(),Ye.Nb(),Ye.Nb(),Ye.Nb(),Ye.Nb(),Ye.nc(33,Vr,3,1,"div",10),Ye.nc(34,Wr,3,2,"div",10),Ye.nc(35,Yr,2,3,"div",10),Ye.nc(36,Jr,2,2,"div",10),Ye.nc(37,Zr,3,3,"div",10),Ye.nc(38,Qr,3,2,"div",11),Ye.Ob(39,"div",12),Ye.Mb(40,"ion-img",13),Ye.Ob(41,"ion-button",14),Ye.Wb("click",(function(){return t.logout()})),Ye.oc(42," Log out "),Ye.Nb(),Ye.Nb(),Ye.nc(43,en,2,1,"div",10),Ye.nc(44,tn,5,0,"div",15)),2&e&&(Ye.zb(2),Ye.bc("board",t.board),Ye.zb(1),Ye.bc("ngClass",Ye.fc(17,rn,t.board.players.red.sm.values.isActionActive)),Ye.zb(1),Ye.bc("ngForOf",t.board.players.blue.cardsCaboodle.getFiltered("isOnBoard",!0)),Ye.zb(1),Ye.bc("ngForOf",t.board.players.red.cardsCaboodle.getFiltered("isOnBoard",!0)),Ye.zb(1),Ye.bc("ngIf",t.board.players.red.sm.values.deckReady),Ye.zb(1),Ye.bc("ngClass",t.board.players.red.sm.values.isDrawerVisible?"visible":"hidden"),Ye.zb(4),Ye.pc(t.board.players.red.sm.values.address),Ye.zb(3),Ye.pc(t.board.players.red.sm.values.email),Ye.zb(3),Ye.qc("",t.board.players.red.sm.values.balance," coins"),Ye.zb(16),Ye.bc("ngIf",t.board.players.red.sm.values.isModalVisible&&t.board.players.red.sm.values.showDicePool),Ye.zb(1),Ye.bc("ngIf",t.board.players.red.sm.values.isModalVisible&&!t.board.players.red.sm.values.isPlaying),Ye.zb(1),Ye.bc("ngIf",t.board.players.red.sm.values.isModalVisible&&!t.board.players.red.sm.values.deckReady),Ye.zb(1),Ye.bc("ngIf",t.board.players.red.sm.values.isLoggedIn&&t.board.sm.values.cardInDisplay),Ye.zb(1),Ye.bc("ngIf",t.board.players.red.sm.values.isModalVisible&&!t.board.players.red.sm.values.isLoggedIn),Ye.zb(1),Ye.bc("ngIf",t.board.sm.values.isGameEnded),Ye.zb(5),Ye.bc("ngIf",t.board.sm.values.showHelp),Ye.zb(1),Ye.bc("ngIf",t.board.sm.values.isGameStarted))},directives:[o.c,Ct,n.h,n.i,n.j,o.g,o.e,o.f,o.d,o.b,Bt,Ut,Ht,wr,Or,Lr,Ur,Kr],styles:[".dice-container[_ngcontent-%COMP%]{justify-content:center;height:100px}.dice-container[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.main[_ngcontent-%COMP%]{position:relative;height:100%;justify-content:space-between;flex-direction:column}app-board[_ngcontent-%COMP%]{margin-top:100px}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:rgba(0,0,0,.9);display:flex;justify-content:center;align-items:center}.player-red-deck[_ngcontent-%COMP%]{pointer-events:none;position:absolute;bottom:0;left:0;width:100vw;height:256px}.close-modal[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;transition:.3s}.close-modal[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 0 3px white)}.menu-drawer[_ngcontent-%COMP%]{transition:.3s;position:fixed;top:0;left:0;width:400px;max-width:100%;height:100vh;background-color:#232323;box-shadow:0 0 30px #000}.menu-drawer.visible[_ngcontent-%COMP%]{transform:translateX(0)}.menu-drawer.hidden[_ngcontent-%COMP%]{transform:translateX(-400px)}.info[_ngcontent-%COMP%]{border:1px solid #000}.button[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]{text-align:center;padding:10px 0}.button[_ngcontent-%COMP%]{border:1px solid #fff}.extra[_ngcontent-%COMP%]{text-align:center}app-board-battler[_ngcontent-%COMP%]{position:absolute;transition:.3s}.board-battlers-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;pointer-events:none;width:100vw;height:100vh}.action-container[_ngcontent-%COMP%]{position:fixed;top:0;width:350px;background-color:rgba(0,0,0,.8);height:100%;left:0;overflow-y:scroll}.action-container[_ngcontent-%COMP%], .action-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.action-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{margin:10px 0;border:1px solid #fff;background-color:#000;color:#fff;width:140px;padding:20px 0}.action-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .simple-text[_ngcontent-%COMP%]{text-align:center}.action-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .card-action[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.action-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .card-action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.action-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .card-action-item[_ngcontent-%COMP%]{border:1px solid #fff;width:80%;left:10%;position:relative}.cast-action[_ngcontent-%COMP%]{background-color:#454545}.move-action[_ngcontent-%COMP%]{background-color:#01579b}.battle-action[_ngcontent-%COMP%]{background-color:#b71c1c}.cant-click[_ngcontent-%COMP%]{color:#5e5e5e}.translucid[_ngcontent-%COMP%]{opacity:.5}.splash[_ngcontent-%COMP%]{position:fixed;width:100vw;height:100vh;top:0;left:0;z-index:9999999;background-color:#343434;background-image:url(/assets/backgrounds/loading.jpg);background-size:cover;background-position:50%;display:flex;justify-content:center;align-items:center;flex-direction:column;opacity:1;visibility:visible;transition:.5s}.splash.hide[_ngcontent-%COMP%]{opacity:0;visibility:hidden}.spinner[_ngcontent-%COMP%]{width:128px;height:128px;background-color:#fff;border-radius:100%}.game-over-overlay[_ngcontent-%COMP%]{font-size:1.6em;position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000;color:#fff;z-index:9.999999999999999e+42}.game-over[_ngcontent-%COMP%], .game-over-overlay[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.game-over[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.scroll-directions[_ngcontent-%COMP%]{display:none}@media only screen and (max-width:1550px){#main-container[_ngcontent-%COMP%]{width:100vw;overflow-x:scroll;overflow-y:scroll;align-items:flex-start;justify-content:flex-start;height:100vh}.energy-pool[_ngcontent-%COMP%]{left:0}app-board[_ngcontent-%COMP%]{margin-left:240px;height:150vh}.player-red-deck[_ngcontent-%COMP%]{position:fixed}.scroll-directions[_ngcontent-%COMP%]{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none}.scroll-directions[_ngcontent-%COMP%]   .direction[_ngcontent-%COMP%]{width:64px;height:64px;position:absolute;pointer-events:all}.scroll-directions[_ngcontent-%COMP%]   .direction[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{filter:drop-shadow(0 0 5px black)}.scroll-directions[_ngcontent-%COMP%]   .direction-left[_ngcontent-%COMP%]{left:5px;top:calc(50vh - 32px)}.scroll-directions[_ngcontent-%COMP%]   .direction-top[_ngcontent-%COMP%]{top:5px;left:calc(50vw - 32px)}.scroll-directions[_ngcontent-%COMP%]   .direction-right[_ngcontent-%COMP%]{right:5px;top:calc(50vh - 32px)}.scroll-directions[_ngcontent-%COMP%]   .direction-bottom[_ngcontent-%COMP%]{bottom:5px;left:calc(50vw - 32px)}}.main[_ngcontent-%COMP%]{scroll-behavior:smooth}"]}),e})()}];let on=(()=>{class e{}return e.\u0275mod=Ye.Jb({type:e}),e.\u0275inj=Ye.Ib({factory:function(t){return new(t||e)},imports:[[a.i.forChild(nn)],a.i]}),e})();var an=r("j1ZV");let sn=(()=>{class e{}return e.\u0275mod=Ye.Jb({type:e}),e.\u0275inj=Ye.Ib({factory:function(t){return new(t||e)},imports:[[n.b,i.a,o.i,on,an.a]]}),e})()},uDiL:function(e,t,r){(function(e){var n;!function(e,i,o){function a(e){var t=this,r="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function c(e,t){var r=new a(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=c:r("B9Yq")&&r("PDX0")?void 0===(n=(function(){return c}).call(t,r,t,i))||(i.exports=n):this.xor128=c}(0,e,r("B9Yq"))}).call(this,r("YuTi")(e))},yuCN:function(e,t,r){(function(e){var n;!function(e,i,o){function a(e){var t=this;t.next=function(){var e,r,n=t.x,i=t.i;return e=n[i],r=(e^=e>>>7)^e<<24,r^=(e=n[i+1&7])^e>>>10,r^=(e=n[i+3&7])^e>>>3,r^=(e=n[i+4&7])^e<<7,e=n[i+7&7],n[i]=r^=(e^=e<<13)^e<<9,t.i=i+1&7,r},function(e,t){var r,n=[];if(t===(0|t))n[0]=t;else for(t=""+t,r=0;r<t.length;++r)n[7&r]=n[7&r]<<15^t.charCodeAt(r)+n[r+1&7]<<13;for(;n.length<8;)n.push(0);for(r=0;r<8&&0===n[r];++r);for(8==r&&(n[7]=-1),e.x=n,e.i=0,r=256;r>0;--r)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function c(e,t){null==e&&(e=+new Date);var r=new a(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&(n.x&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=c:r("B9Yq")&&r("PDX0")?void 0===(n=(function(){return c}).call(t,r,t,i))||(i.exports=n):this.xorshift7=c}(0,e,r("B9Yq"))}).call(this,r("YuTi")(e))}}]);