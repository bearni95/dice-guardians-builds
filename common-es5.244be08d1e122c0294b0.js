function _defineProperties(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperty(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function asyncGeneratorStep(t,n,e,i,r,c,o){try{var a=t[c](o),s=a.value}catch(l){return void e(l)}a.done?n(s):Promise.resolve(s).then(i,r)}function _asyncToGenerator(t){return function(){var n=this,e=arguments;return new Promise((function(i,r){var c=t.apply(n,e);function o(t){asyncGeneratorStep(c,i,r,o,a,"next",t)}function a(t){asyncGeneratorStep(c,i,r,o,a,"throw",t)}o(void 0)}))}}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2c9M":function(t,n,e){"use strict";e.d(n,"a",(function(){return c})),e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return r})),e.d(n,"d",(function(){return s})),e.d(n,"e",(function(){return a}));var i={getEngine:function(){var t=window;return t.TapticEngine||t.Capacitor&&t.Capacitor.isPluginAvailable("Haptics")&&t.Capacitor.Plugins.Haptics},available:function(){return!!this.getEngine()},isCordova:function(){return!!window.TapticEngine},isCapacitor:function(){return!!window.Capacitor},impact:function(t){var n=this.getEngine();if(n){var e=this.isCapacitor()?t.style.toUpperCase():t.style;n.impact({style:e})}},notification:function(t){var n=this.getEngine();if(n){var e=this.isCapacitor()?t.style.toUpperCase():t.style;n.notification({style:e})}},selection:function(){this.impact({style:"light"})},selectionStart:function(){var t=this.getEngine();t&&(this.isCapacitor()?t.selectionStart():t.gestureSelectionStart())},selectionChanged:function(){var t=this.getEngine();t&&(this.isCapacitor()?t.selectionChanged():t.gestureSelectionChanged())},selectionEnd:function(){var t=this.getEngine();t&&(this.isCapacitor()?t.selectionEnd():t.gestureSelectionEnd())}},r=function(){i.selection()},c=function(){i.selectionStart()},o=function(){i.selectionChanged()},a=function(){i.selectionEnd()},s=function(t){i.impact(t)}},"6i10":function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var i={bubbles:{dur:1e3,circles:9,fn:function(t,n,e){var i=t*n/e-t+"ms",r=2*Math.PI*n/e;return{r:5,style:{top:9*Math.sin(r)+"px",left:9*Math.cos(r)+"px","animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:function(t,n,e){var i=n/e,r=t*i-t+"ms",c=2*Math.PI*i;return{r:5,style:{top:9*Math.sin(c)+"px",left:9*Math.cos(c)+"px","animation-delay":r}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:function(){return{r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}}}},crescent:{dur:750,circles:1,fn:function(){return{r:26,style:{}}}},dots:{dur:750,circles:3,fn:function(t,n){return{r:6,style:{left:9-9*n+"px","animation-delay":-110*n+"ms"}}}},lines:{dur:1e3,lines:12,fn:function(t,n,e){return{y1:17,y2:29,style:{transform:"rotate(".concat(30*n+(n<6?180:-180),"deg)"),"animation-delay":t*n/e-t+"ms"}}}},"lines-small":{dur:1e3,lines:12,fn:function(t,n,e){return{y1:12,y2:20,style:{transform:"rotate(".concat(30*n+(n<6?180:-180),"deg)"),"animation-delay":t*n/e-t+"ms"}}}}}},NqGI:function(t,n,e){"use strict";e.d(n,"a",(function(){return i})),e.d(n,"b",(function(){return r}));var i=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(n,e,i,r,c){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return",n.attachViewToDom(e,i,c,r));case 2:if("string"==typeof i||i instanceof HTMLElement){t.next=4;break}throw new Error("framework delegate is missing");case 4:if(o="string"==typeof i?e.ownerDocument&&e.ownerDocument.createElement(i):i,r&&r.forEach((function(t){return o.classList.add(t)})),c&&Object.assign(o,c),e.appendChild(o),t.t0=o.componentOnReady,!t.t0){t.next=12;break}return t.next=12,o.componentOnReady();case 12:return t.abrupt("return",o);case 13:case"end":return t.stop()}}),t)})));return function(n,e,i,r,c){return t.apply(this,arguments)}}(),r=function(t,n){if(n){if(t)return t.removeViewFromDom(n.parentElement,n);n.remove()}return Promise.resolve()}},PYW1:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var i=e("ePDZ"),r=e("ItpF"),c=e("2c9M"),o=function(t,n){var e,o,a=function(t,i,r){if("undefined"!=typeof document){var c=document.elementFromPoint(t,i);c&&n(c)?c!==e&&(l(),s(c,r)):l()}},s=function(t,n){e=t,o||(o=e);var r=e;Object(i.g)((function(){return r.classList.add("ion-activated")})),n()},l=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){var n=e;Object(i.g)((function(){return n.classList.remove("ion-activated")})),t&&o!==e&&e.click(),e=void 0}};return Object(r.createGesture)({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:function(t){return a(t.currentX,t.currentY,c.a)},onMove:function(t){return a(t.currentX,t.currentY,c.b)},onEnd:function(){l(!0),Object(c.e)(),o=void 0}})}},hcCc:function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return c})),e.d(n,"c",(function(){return i})),e.d(n,"d",(function(){return a}));var i=function(t,n){return null!==n.closest(t)},r=function(t){return"string"==typeof t&&t.length>0?_defineProperty({"ion-color":!0},"ion-color-"+t,!0):void 0},c=function(t){var n={};return function(t){return void 0!==t?(Array.isArray(t)?t:t.split(" ")).filter((function(t){return null!=t})).map((function(t){return t.trim()})).filter((function(t){return""!==t})):[]}(t).forEach((function(t){return n[t]=!0})),n},o=/^[a-z][a-z0-9+\-.]*:/,a=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(n,e,i,r){var c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n||"#"===n[0]||o.test(n)){t.next=4;break}if(!(c=document.querySelector("ion-router"))){t.next=4;break}return t.abrupt("return",(null!=e&&e.preventDefault(),c.push(n,i,r)));case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}}),t)})));return function(n,e,i,r){return t.apply(this,arguments)}}()},j1ZV:function(t,n,e){"use strict";e.d(n,"a",(function(){return c}));var i=e("ofXK"),r=e("fXoL"),c=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(n){return new(n||t)},imports:[[i.b]]}),t}()},lXt9:function(t,n,e){"use strict";e.d(n,"a",(function(){return d}));var i=e("m/Q0"),r=e("fXoL"),c=e("ofXK");function o(t,n){if(1&t&&(r.Ob(0,"div",17),r.Mb(1,"ion-img",10),r.Nb()),2&t){var e=n.$implicit,i=r.Yb();r.zb(1),r.cc("src",i.dice.getAttrImage(e))}}function a(t,n){if(1&t){var e=r.Pb();r.Ob(0,"div",21),r.Wb("click",(function(){r.gc(e);var t=r.Yb(2);return t.toggleAbilityTooltip(t.card.activeAbility)})),r.oc(1),r.Nb()}if(2&t){var i=r.Yb(2);r.zb(1),r.pc(i.card.activeAbility.text)}}function s(t,n){if(1&t){var e=r.Pb();r.Ob(0,"div",22),r.Wb("click",(function(){r.gc(e);var t=n.$implicit;return r.Yb(2).toggleAbilityTooltip(t)})),r.Mb(1,"ion-img",23),r.Nb()}if(2&t){var i=n.$implicit;r.Bb("card-ability card-ability-",i.id,""),r.zb(1),r.cc("src",i.iconUrl)}}function l(t,n){if(1&t&&(r.Ob(0,"div",18),r.nc(1,a,2,1,"div",19),r.nc(2,s,2,4,"div",20),r.Nb()),2&t){var e=r.Yb();r.zb(1),r.bc("ngIf",e.card.showAbility),r.zb(1),r.bc("ngForOf",e.card.abilities)}}function u(t,n){if(1&t){var e=r.Pb();r.Ob(0,"div",15),r.Wb("click",(function(){r.gc(e);var t=r.Yb();return t.board.castBg(t.player,t.card)})),r.oc(1,"Cast"),r.Nb()}}var d=function(){var t=function(){function t(){_classCallCheck(this,t),this.innerAlign="space-evenly",this.disableMenu="flex",this.dice=new i.Dice(0),this.showMagnify=!1,this.statIcons=["assets/icons/mov-w-t.png","assets/icons/btl-w-t.png","assets/icons/vit.png","assets/icons/cst-w-t.png"],this.statToIcons={hex:"assets/icons/hex.png"}}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"toggleAbilityTooltip",value:function(t){for(var n=0;n<this.card.abilities.length;n++)this.card.abilities[n].id===t.id&&(this.card.showAbility?(this.card.showAbility=!1,this.card.activeAbility=this.card.abilities[n]):(this.card.showAbility=!0,this.card.activeAbility=this.card.abilities[n]));console.log(this.card)}},{key:"magnify",value:function(t){this.board.cardModal(t)}},{key:"pad",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=t+"";e.length<n;)e="0"+e;return e}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-card"]],inputs:{board:"board",card:"card",player:"player",width:"width",innerAlign:"innerAlign",disableMenu:"disableMenu",showMagnify:"showMagnify"},decls:27,vars:27,consts:[[1,"card-absolute-container"],[1,"card-title"],[1,"card-cost-container"],["class","cost-item",4,"ngFor","ngForOf"],[1,"illustration"],[1,"illustration-circle",3,"src"],[1,"illustration-battler",3,"src"],["class","card-abilities",4,"ngIf"],[1,"card-stats"],[1,"card-stat-item","mov"],[3,"src"],[1,"stat-value"],[1,"card-stat-item","btl"],[1,"card-stat-item","vit"],[1,"board-card-menu"],[1,"menu-item",3,"click"],["class","menu-item",3,"click",4,"ngIf"],[1,"cost-item"],[1,"card-abilities"],["class","ability-tooltip",3,"click",4,"ngIf"],[3,"class","click",4,"ngFor","ngForOf"],[1,"ability-tooltip",3,"click"],[3,"click"],[1,"ability-icon",3,"src"]],template:function(t,n){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div"),r.Ob(2,"div",1),r.oc(3),r.Nb(),r.Ob(4,"div",2),r.nc(5,o,2,1,"div",3),r.Nb(),r.Ob(6,"div",4),r.Mb(7,"ion-img",5),r.Mb(8,"ion-img",6),r.Nb(),r.nc(9,l,3,2,"div",7),r.Ob(10,"div",8),r.Ob(11,"div",9),r.Mb(12,"ion-img",10),r.Ob(13,"div",11),r.oc(14),r.Nb(),r.Nb(),r.Ob(15,"div",12),r.Mb(16,"ion-img",10),r.Ob(17,"div",11),r.oc(18),r.Nb(),r.Nb(),r.Ob(19,"div",13),r.Mb(20,"ion-img",10),r.Ob(21,"div",11),r.oc(22),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(23,"div",14),r.Ob(24,"div",15),r.Wb("click",(function(){return n.magnify(n.card)})),r.oc(25,"View"),r.Nb(),r.nc(26,u,2,0,"div",16),r.Nb(),r.Nb()),2&t&&(r.kc("\n  width:",n.width,"px;\n  height:",1.5*n.width,"px;\n"),r.zb(1),r.lc("\n    background-image:url(",n.card.backgroundUrl,");\n    transform: scale(calc( ",n.width," / 500));\n    justify-content: ",n.innerAlign,"\n  "),r.Bb("card-outer ",n.card.classes.join(" "),""),r.zb(2),r.pc(n.card.title),r.zb(2),r.bc("ngForOf",n.card.cost),r.zb(2),r.cc("src",n.card.getCircleUrl()),r.zb(1),r.cc("src",n.card.getBattlerUrl()),r.zb(1),r.bc("ngIf",n.card.abilities.length>0),r.zb(3),r.cc("src",n.statIcons[0]),r.zb(2),r.qc("",n.pad(n.card.mov)," "),r.zb(2),r.cc("src",n.statIcons[1]),r.zb(2),r.qc("",n.pad(n.card.btl)," "),r.zb(2),r.cc("src",n.statIcons[2]),r.zb(2),r.qc("",n.pad(n.card.vit)," "),r.zb(1),r.jc("display:",n.disableMenu,""),r.zb(3),r.bc("ngIf",!n.card.owner.hasCasted))},directives:[c.h,c.i],styles:[".card-outer[_ngcontent-%COMP%]{width:500px;height:750px;border:10px solid #fff;overflow:hidden;flex-direction:column;border-radius:10px;position:absolute}.card-outer[_ngcontent-%COMP%], .card-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center}.card-stats[_ngcontent-%COMP%]{width:100%;height:auto;margin-bottom:20px}.card-ability[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%], .card-stats[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:62.5px;border:3px solid #fff;border-radius:5px;background-color:#000}.card-ability[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:80%;height:80%}.card-stat-item[_ngcontent-%COMP%]{justify-content:space-between;width:140px;padding:10px 12px}.card-ability[_ngcontent-%COMP%], .card-stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;height:80px;font-size:2em;border-radius:5px}.card-ability[_ngcontent-%COMP%]{justify-content:center;width:80px;border-bottom:5px solid #fff;background-color:hsla(0,0%,100%,.3)}.card-stat-item[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.4);border-bottom:5px solid #000}.card-stat-item.mov[_ngcontent-%COMP%]{top:-40px;left:-40px}.card-stat-item.btl[_ngcontent-%COMP%]{top:-40px;left:110px}.card-stat-item.vit[_ngcontent-%COMP%]{top:-40px;right:-40px}.card-stat-item.card-cost[_ngcontent-%COMP%]{top:-40px;right:-40px;display:flex;justify-content:flex-end;align-items:center}.illustration[_ngcontent-%COMP%]{width:75%;display:flex;justify-content:center;align-items:center;position:relative;margin-top:40px;margin-bottom:0}.illustration[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:100%}.illustration-battler[_ngcontent-%COMP%]{-webkit-filter:drop-shadow(0 0 10px #fff);filter:drop-shadow(0 0 10px white)}.card-abilities[_ngcontent-%COMP%]{width:100%;height:125px;display:flex;justify-content:space-around;align-items:center}.card-title[_ngcontent-%COMP%]{top:0;left:0;letter-spacing:2px;font-size:1.4em;width:95%;margin:2.5%;background-color:rgba(0,0,0,.4);padding:10px;text-align:center;border-radius:10px;border-bottom:10px solid #000}.card-cost-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;width:95%;margin-left:2.5%}.card-cost-container[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:40px;width:40px}.stat-value[_ngcontent-%COMP%]{width:40%;height:100%}.card-absolute-container[_ngcontent-%COMP%], .stat-value[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.card-absolute-container[_ngcontent-%COMP%]{position:relative}.illustration-circle[_ngcontent-%COMP%]{position:absolute;width:70%}.can-cast[_ngcontent-%COMP%]{background-color:#32b3e2}.ability-tooltip[_ngcontent-%COMP%]{position:absolute;background-color:rgba(0,0,0,.8);width:100%;padding:20px;top:auto;opacity:1;visibility:visible;transition:.3s}.ability-tooltip.hidden[_ngcontent-%COMP%]{visibility:hidden;opacity:0;top:100%}.card-cost[_ngcontent-%COMP%]{opacity:0;font-size:4em}.magnify[_ngcontent-%COMP%]{width:100px;height:100px;background-color:#000;position:absolute;top:0;left:0;font-size:3em;display:flex;justify-content:center;align-items:center;border-radius:100%;border:5px solid #fff}.card-stat-item[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:60px;width:60px;margin-right:10px}.cost-item[_ngcontent-%COMP%]{width:50px;height:50px;background-color:#fff;display:flex;justify-content:center;align-items:center;border-radius:100%;box-shadow:0 0 20px #fff}.cost-item[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{border-radius:100%;overflow:hidden}.illustration-circle[_ngcontent-%COMP%]{width:130%!important}.board-card-menu[_ngcontent-%COMP%]{top:0;position:absolute;width:100%;height:200px;left:0;background-color:transparent;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;transition:.3s}.board-card-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{width:80%;background-color:#37474f;border:1px solid #78909c;border-bottom-color:#607d8b;display:flex;justify-content:center;align-items:center;opacity:0}.board-card-menu[_ngcontent-%COMP%]:hover{top:-50px}.board-card-menu[_ngcontent-%COMP%]:hover   .menu-item[_ngcontent-%COMP%]{opacity:1}.menu-item.disabled[_ngcontent-%COMP%]{background-color:#78909c;border:1px solid #37474f}"]}),t}()}}]);