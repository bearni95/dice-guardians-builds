function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"99Un":function(e,n,t){"use strict";t.r(n),t.d(n,"HomePageModule",(function(){return P}));var i,o=t("ofXK"),r=t("TEn/"),c=t("3Pt+"),a=t("tyNb"),s=t("mrSG"),l=t("dfJG"),d=t("fXoL"),b=t("tk/3"),p=((i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=d.Fb({type:i,selectors:[["app-navigation"]],inputs:{profile:"profile"},decls:25,vars:0,consts:[[1,"container"],[1,"item"],["src","assets/icons/home.png",1,"icon"],[1,"label"],["src","assets/icons/deck.png",1,"icon"],["src","assets/icons/paths.png",1,"icon"],["src","assets/icons/arena.png",1,"icon"],["src","assets/icons/shop.png",1,"icon"],["src","assets/icons/settings.png",1,"icon"]],template:function(e,n){1&e&&(d.Ob(0,"div",0),d.Ob(1,"div",1),d.Mb(2,"ion-img",2),d.Ob(3,"div",3),d.oc(4,"Home"),d.Nb(),d.Nb(),d.Ob(5,"div",1),d.Mb(6,"ion-img",4),d.Ob(7,"div",3),d.oc(8,"Inventory"),d.Nb(),d.Nb(),d.Ob(9,"div",1),d.Mb(10,"ion-img",5),d.Ob(11,"div",3),d.oc(12,"Paths"),d.Nb(),d.Nb(),d.Ob(13,"div",1),d.Mb(14,"ion-img",6),d.Ob(15,"div",3),d.oc(16,"Arena"),d.Nb(),d.Nb(),d.Ob(17,"div",1),d.Mb(18,"ion-img",7),d.Ob(19,"div",3),d.oc(20,"Shop"),d.Nb(),d.Nb(),d.Ob(21,"div",1),d.Mb(22,"ion-img",8),d.Ob(23,"div",3),d.oc(24,"Settings"),d.Nb(),d.Nb(),d.Nb())},styles:[".container[_ngcontent-%COMP%]{height:100%;border-top:4px solid #243338;box-shadow:0 0 10px #000;color:#fffffd;display:flex;justify-content:flex-start;align-items:center}.container[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]{position:relative;width:100%;background-color:#12191f}.item[_ngcontent-%COMP%]{left:0;border:2px solid transparent;padding:20px 10px;font-size:1.2em;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;transition:.3s}.item[_ngcontent-%COMP%]:hover{height:110%;bottom:5%;border-right:2px solid #c4812a;border-left:2px solid #c4812a;border-top:2px solid #c4812a;box-shadow:0 0 10px #000;background-color:#091315}.icon[_ngcontent-%COMP%]{width:48px}"]}),i);function f(e,n){1&e&&(d.Ob(0,"div",25),d.Ob(1,"div",26),d.Mb(2,"ion-img",27),d.Nb(),d.Nb())}function g(e,n){1&e&&(d.Ob(0,"div",25),d.Ob(1,"div",26),d.Mb(2,"ion-img",28),d.Nb(),d.Nb())}function h(e,n){1&e&&(d.Ob(0,"div",25),d.Ob(1,"div",26),d.Mb(2,"ion-img",29),d.Nb(),d.Nb())}function m(e,n){if(1&e&&(d.Ob(0,"div",25),d.oc(1),d.Nb()),2&e){var t=d.Yb().index;d.zb(1),d.qc(" ",t+1," ")}}function v(e,n){if(1&e&&(d.Ob(0,"div",23),d.nc(1,f,3,0,"div",24),d.nc(2,g,3,0,"div",24),d.nc(3,h,3,0,"div",24),d.nc(4,m,2,1,"div",24),d.Ob(5,"div",21),d.oc(6),d.Nb(),d.Ob(7,"div",21),d.oc(8),d.Nb(),d.Ob(9,"div",21),d.oc(10),d.Nb(),d.Nb()),2&e){var t=n.$implicit,i=n.index;d.zb(1),d.bc("ngIf",0===i),d.zb(1),d.bc("ngIf",1===i),d.zb(1),d.bc("ngIf",2===i),d.zb(1),d.bc("ngIf",i>2),d.zb(2),d.pc(t.alias),d.zb(2),d.pc(t.level),d.zb(2),d.pc(t.create_timestamp_utc.split("T")[0])}}function u(e,n){if(1&e&&(d.Ob(0,"div",18),d.Ob(1,"div",19),d.Ob(2,"div",20),d.Ob(3,"div",21),d.oc(4,"#"),d.Nb(),d.Ob(5,"div",21),d.oc(6,"Alias"),d.Nb(),d.Ob(7,"div",21),d.oc(8,"LVL"),d.Nb(),d.Ob(9,"div",21),d.oc(10,"Joined"),d.Nb(),d.Nb(),d.nc(11,v,11,7,"div",22),d.Nb(),d.Nb()),2&e){var t=d.Yb();d.zb(11),d.bc("ngForOf",t.leaderboard)}}var O,w,M,C=[{path:"",component:(O=function(){function e(n){_classCallCheck(this,e),this.leaderboard=[],localStorage.getItem("auth-token")||(window.location.href="/arena"),this.httpMessenger=new l.f(n),this.profile=new l.g(new l.e,!0,this.httpMessenger),this.init()}return _createClass(e,[{key:"init",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,t,i,o,r,c,a,s,d,b,p,f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("auth-token"),t=new l.h,i=l.h.claimFromString(n),t.fromPrivateKey(localStorage.getItem("privateKey"),i.payload.email),this.profile.sm.values.wallet||this.profile.sm.setValue("wallet",t),this.profile.events.on("setValue",(function(e){f.profile.sm.setValue(e.key,e.value)})),this.profile.sm.events.emit("setValue",{key:"email",value:i.payload.email}),this.profile.sm.events.emit("setValue",{key:"address",value:t.address}),e.next=8,this.profile.getBalance();case 8:return e.next=10,this.profile.getExperience();case 10:return e.next=12,this.profile.getAlias();case 12:return this.profile.sm.events.emit("authFn",{}),e.next=15,this.profile.getCards();case 15:for(o=e.sent,r=0;r<o.length;r++)c=o[r],a=l.h.claimFromString(c),this.profile.events.emit("gainOwnership-"+a.payload.card,{token:c,claim:a,profile:this.profile});return e.next=19,this.profile.getDice();case 19:for(s=e.sent,d=0;d<s.length;d++)b=s[d],p=l.h.claimFromString(b),this.profile.events.emit("gainOwnership-"+p.payload.dice,{token:b,claim:p,profile:this.profile});return e.next=23,this.profile.getInventory();case 23:return this.profile.loadActiveDeck(),this.profile.sm.enable("deckReady"),e.next=27,this.getLeaderboard();case 27:this.profile.sm.enable("showLeaderboard");case 28:case"end":return e.stop()}}),e,this)})))}},{key:"getLeaderboard",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.httpMessenger.get("/leaderboard");case 3:n=e.sent,this.leaderboard=n,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}}]),e}(),O.\u0275fac=function(e){return new(e||O)(d.Lb(b.a))},O.\u0275cmp=d.Fb({type:O,selectors:[["app-home"]],decls:29,vars:5,consts:[[1,"main"],[1,"bottom-nav"],[3,"profile"],[1,"panel"],[1,"profile"],[1,"avatar"],[3,"src"],[1,"info"],[1,"alias"],[1,"lvl"],[1,"main-info"],["class","leaderboard",4,"ngIf"],[1,"news"],[1,"new"],["src","/assets/news/01.png"],[1,"title"],[1,"description"],["src","/assets/news/02.png"],[1,"leaderboard"],[1,"board"],[1,"header","row"],[1,"item"],["class","row body",4,"ngFor","ngForOf"],[1,"row","body"],["class","item item-trophy",4,"ngIf"],[1,"item","item-trophy"],[1,"trophy"],["src","/assets/icons/trophy-1.png"],["src","/assets/icons/trophy-2.png"],["src","/assets/icons/trophy-3.png"]],template:function(e,n){1&e&&(d.Ob(0,"div",0),d.Ob(1,"div",1),d.Mb(2,"app-navigation",2),d.Nb(),d.Ob(3,"div",3),d.Ob(4,"div",4),d.Ob(5,"div",5),d.Mb(6,"ion-img",6),d.Nb(),d.Ob(7,"div",7),d.Ob(8,"div",8),d.oc(9),d.Nb(),d.Ob(10,"div",9),d.oc(11),d.Nb(),d.Nb(),d.Nb(),d.Ob(12,"div",10),d.nc(13,u,12,1,"div",11),d.Ob(14,"div",12),d.Ob(15,"div",13),d.Mb(16,"ion-img",14),d.Ob(17,"div",7),d.Ob(18,"div",15),d.oc(19," Wind Booster Packs "),d.Nb(),d.Ob(20,"div",16),d.oc(21," Get the best Winged cards to fly over your enemy with the Wind Booster Packs "),d.Nb(),d.Nb(),d.Nb(),d.Ob(22,"div",13),d.Mb(23,"ion-img",17),d.Ob(24,"div",7),d.Ob(25,"div",15),d.oc(26," Alchemist's Toolkit "),d.Nb(),d.Ob(27,"div",16),d.oc(28," Get the best Neutral Hexes and Illusions with the Alchemist's Toolkit Booster Pack "),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb()),2&e&&(d.zb(2),d.bc("profile",n.profile),d.zb(4),d.cc("src",n.profile.sm.values.avatar),d.zb(3),d.pc(n.profile.sm.values.alias),d.zb(2),d.pc(n.profile.sm.values.lvl),d.zb(2),d.bc("ngIf",n.profile.sm.values.showLeaderboard))},directives:[p,r.d,o.j,o.i],styles:[".bottom-nav[_ngcontent-%COMP%]{width:80%;left:10%;height:128px;position:fixed;bottom:0}.main[_ngcontent-%COMP%]{background-color:#070709;position:fixed;top:0;left:0;width:100vw;height:100vh;overflow:hidden}.main[_ngcontent-%COMP%], .panel[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.panel[_ngcontent-%COMP%]{min-width:1080px;width:80vw;max-width:100%;padding:20px;background-color:#12191f;border:4px solid #243338;flex-direction:column}.profile[_ngcontent-%COMP%]{margin:20px;width:100%;display:flex;height:auto;justify-content:space-evenly;align-items:center}.profile[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:128px}.profile[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:100%}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:#fff;display:flex;flex-direction:column;justify-content:space-between;align-items:center;height:100%}.profile[_ngcontent-%COMP%]   .alias[_ngcontent-%COMP%]{font-size:1.5em}.profile[_ngcontent-%COMP%]   .lvl[_ngcontent-%COMP%]{font-size:2.5em}.leaderboard[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.9);width:calc(90% - 128px);max-width:800px;height:400px;color:#fff;display:flex;justify-content:center;align-items:center}.leaderboard[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]{border:2px solid #243338;height:100%;justify-content:flex-start;overflow-y:scroll;flex-direction:column}.leaderboard[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%], .leaderboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}.leaderboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:space-between}.leaderboard[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:200px;text-align:center;margin:5px;padding:10px 0}.leaderboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-child(2n){background-color:#091315}.leaderboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-child(odd){background-color:#29383f}.leaderboard[_ngcontent-%COMP%]   .row.header[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-size:1.2em}.leaderboard[_ngcontent-%COMP%]   .item-trophy[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:1.5em;font-weight:700}.leaderboard[_ngcontent-%COMP%]   .trophy[_ngcontent-%COMP%]{width:64px}.leaderboard[_ngcontent-%COMP%]   .trophy[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{filter:drop-shadow(0 0 1px white)}.main-info[_ngcontent-%COMP%]{width:100%}.main-info[_ngcontent-%COMP%], .news[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center}.news[_ngcontent-%COMP%]{min-height:400px;flex-direction:column}.news[_ngcontent-%COMP%]   .new[_ngcontent-%COMP%]{width:100%;max-width:384px;height:40%;text-align:center;display:flex;justify-content:center;align-items:center;background-color:#091315;padding:10px;border:2px solid #243338;transition:.1s}.news[_ngcontent-%COMP%]   .new[_ngcontent-%COMP%]:hover{border:4px solid #c4812a;box-shadow:0 0 10px #000}.news[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-width:128px}.news[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:#fff;height:128px;display:flex;justify-content:space-evenly;align-items:center;flex-direction:column}.news[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.2em}.news[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:.9em}"]}),O)}],x=((w=function e(){_classCallCheck(this,e)}).\u0275mod=d.Jb({type:w}),w.\u0275inj=d.Ib({factory:function(e){return new(e||w)},imports:[[a.i.forChild(C)],a.i]}),w),_=t("j1ZV"),P=((M=function e(){_classCallCheck(this,e)}).\u0275mod=d.Jb({type:M}),M.\u0275inj=d.Ib({factory:function(e){return new(e||M)},imports:[[o.b,c.a,r.i,x,_.a]]}),M)}}]);